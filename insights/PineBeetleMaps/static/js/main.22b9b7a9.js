/*! For license information please see main.22b9b7a9.js.LICENSE.txt */
(()=>{"use strict";var e={345:(e,t,n)=>{var i=n(950),r=n(340);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var A=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var B=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}var R,z=Object.assign;function N(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function j(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case M:return"Fragment";case x:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Q(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function K(e,t){Z(e,t);var n=V(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ae(e,t){var n=V(t.value),i=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ve(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ae=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Me=null,ke=null;function Se(e){if(e=wr(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=br(t),xe(e.stateNode,e.type,t))}}function Ee(e){Me?ke?ke.push(e):ke=[e]:Me=e}function Ce(){if(Me){var e=Me,t=ke;if(ke=Me=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Pe(){}var _e=!1;function Le(e,t,n){if(_e)return e(t,n);_e=!0;try{return Te(e,t,n)}finally{_e=!1,(null!==Me||null!==ke)&&(Pe(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var i=br(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){De=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ce){De=!1}function Ie(e,t,n,i,r,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Re=!1,ze=null,Ne=!1,Fe=null,Ue={onError:function(e){Re=!0,ze=e}};function je(e,t,n,i,r,a,o,s,l){Re=!1,ze=null,Ie.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(He(e)!==e)throw Error(a(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ve(r),e;if(o===i)return Ve(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Xe=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Je=r.unstable_shouldYield,qe=r.unstable_requestPaint,Ze=r.unstable_now,Ke=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~r;0!==s?i=ht(s):0!==(a&=o)&&(i=ht(a))}else 0!==(o=n&~r)?i=ht(o):0!==a&&(i=ht(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var wt=0;function At(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,Mt,kt,St,Et=!1,Ct=[],Tt=null,Pt=null,_t=null,Lt=new Map,Ot=new Map,Dt=[],Bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Rt(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=wr(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function zt(e){var t=yr(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void St(e.priority,(function(){Mt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wr(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Ae=i,n.target.dispatchEvent(i),Ae=null,t.shift()}return!0}function Ft(e,t,n){Nt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Tt&&Nt(Tt)&&(Tt=null),null!==Pt&&Nt(Pt)&&(Pt=null),null!==_t&&Nt(_t)&&(_t=null),Lt.forEach(Ft),Ot.forEach(Ft)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var n=1;n<Ct.length;n++){var i=Ct[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==Pt&&jt(Pt,e),null!==_t&&jt(_t,e),Lt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(i=Dt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)zt(n),null===n.blockedOn&&Dt.shift()}var Gt=A.ReactCurrentBatchConfig,Vt=!0;function Qt(e,t,n,i){var r=wt,a=Gt.transition;Gt.transition=null;try{wt=1,Xt(e,t,n,i)}finally{wt=r,Gt.transition=a}}function Wt(e,t,n,i){var r=wt,a=Gt.transition;Gt.transition=null;try{wt=4,Xt(e,t,n,i)}finally{wt=r,Gt.transition=a}}function Xt(e,t,n,i){if(Vt){var r=Jt(e,t,n,i);if(null===r)Vi(e,t,i,Yt,n),It(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,i,r),!0;case"dragenter":return Pt=Rt(Pt,e,t,n,i,r),!0;case"mouseover":return _t=Rt(_t,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Lt.set(a,Rt(Lt.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Ot.set(a,Rt(Ot.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(It(e,i),4&t&&-1<Bt.indexOf(e)){for(;null!==r;){var a=wr(r);if(null!==a&&bt(a),null===(a=Jt(e,t,n,i))&&Vi(e,t,i,Yt,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Vi(e,t,i,null,n)}}var Yt=null;function Jt(e,t,n,i){if(Yt=null,null!==(e=yr(e=be(i))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Zt=null,Kt=null,$t=null;function en(){if($t)return $t;var e,t,n=Kt,i=n.length,r="value"in Zt?Zt.value:Zt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),hn=z({},un,{view:0,detail:0}),fn=an(hn),dn=z({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(z({},dn,{dataTransfer:0})),mn=an(z({},hn,{relatedTarget:0})),gn=an(z({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(yn),An=an(z({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mn[e])&&!!t[e]}function Sn(){return kn}var En=z({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),Tn=an(z({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(z({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),_n=an(z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=z({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Ln),Dn=[9,13,27,32],Bn=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var Rn=c&&"TextEvent"in window&&!In,zn=c&&(!Bn||In&&8<In&&11>=In),Nn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Qn(e,t,n,i){Ee(i),0<(t=Wi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Wn=null,Xn=null;function Yn(e){Ni(e,0)}function Jn(e){if(X(Ar(e)))return e}function qn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Kn;if(c){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Kn=$n}else Kn=!1;Zn=Kn&&(!document.documentMode||9<document.documentMode)}function ti(){Wn&&(Wn.detachEvent("onpropertychange",ni),Xn=Wn=null)}function ni(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];Qn(t,Xn,e,be(e)),Le(Yn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Xn=n,(Wn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function ai(e,t){if("click"===e)return Jn(t)}function oi(e,t){if("input"===e||"change"===e)return Jn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fi(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=fi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&di(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=ci(n,a);var o=ci(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vi=c&&"documentMode"in document&&11>=document.documentMode,mi=null,gi=null,yi=null,wi=!1;function Ai(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==mi||mi!==Y(i)||("selectionStart"in(i=mi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Wi(gi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Mi={},ki={};function Si(e){if(Mi[e])return Mi[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in ki)return Mi[e]=n[t];return e}c&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ei=Si("animationend"),Ci=Si("animationiteration"),Ti=Si("animationstart"),Pi=Si("transitionend"),_i=new Map,Li="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(e,t){_i.set(e,t),l(t,[e])}for(var Di=0;Di<Li.length;Di++){var Bi=Li[Di];Oi(Bi.toLowerCase(),"on"+(Bi[0].toUpperCase()+Bi.slice(1)))}Oi(Ei,"onAnimationEnd"),Oi(Ci,"onAnimationIteration"),Oi(Ti,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Pi,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ri=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function zi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,s,l,u){if(je.apply(this,arguments),Re){if(!Re)throw Error(a(198));var c=ze;Re=!1,ze=null,Ne||(Ne=!0,Fe=c)}}(i,t,void 0,e),e.currentTarget=null}function Ni(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;zi(r,s,u),a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;zi(r,s,u),a=l}}}if(Ne)throw e=Fe,Ne=!1,Fe=null,e}function Fi(e,t){var n=t[vr];void 0===n&&(n=t[vr]=new Set);var i=e+"__bubble";n.has(i)||(Gi(t,e,2,!1),n.add(i))}function Ui(e,t,n){var i=0;t&&(i|=4),Gi(n,e,i,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[ji]){e[ji]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ri.has(t)||Ui(t,!1,e),Ui(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ji]||(t[ji]=!0,Ui("selectionchange",!1,t))}}function Gi(e,t,n,i){switch(qt(t)){case 1:var r=Qt;break;case 4:r=Wt;break;default:r=Xt}n=r.bind(null,t,n,e),r=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Vi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=yr(s)))return;if(5===(l=o.tag)||6===l){i=a=o;continue e}s=s.parentNode}}i=i.return}Le((function(){var i=a,r=be(n),o=[];e:{var s=_i.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ei:case Ci:case Ti:l=gn;break;case Pi:l=_n;break;case"scroll":l=fn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=i;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Oe(p,f))&&c.push(Qi(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,r),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ae||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[pr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(h=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?s:Ar(l),d=null==u?s:Ar(u),(s=new c(v,p+"leave",l,n,r)).target=h,s.relatedTarget=d,v=null,yr(r)===i&&((c=new c(f,p+"enter",u,n,r)).target=d,c.relatedTarget=h,v=c),h=v,l&&u)e:{for(f=u,p=0,d=c=l;d;d=Xi(d))p++;for(d=0,v=f;v;v=Xi(v))d++;for(;0<p-d;)c=Xi(c),p--;for(;0<d-p;)f=Xi(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xi(c),f=Xi(f)}c=null}else c=null;null!==l&&Yi(o,s,l,c,!1),null!==u&&null!==h&&Yi(o,h,u,c,!0)}if("select"===(l=(s=i?Ar(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=qn;else if(Vn(s))if(Zn)m=oi;else{m=ri;var g=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ai);switch(m&&(m=m(e,i))?Qn(o,m,n,r):(g&&g(e,s,i),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=i?Ar(i):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(mi=g,gi=i,yi=null);break;case"focusout":yi=gi=mi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,Ai(o,n,r);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":Ai(o,n,r)}var y;if(Bn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(zn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hn&&(y=en()):(Kt="value"in(Zt=r)?Zt.value:Zt.textContent,Hn=!0)),0<(g=Wi(i,w)).length&&(w=new An(w,e,null,n,r),o.push({event:w,listeners:g}),y?w.data=y:null!==(y=jn(n))&&(w.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Bn&&Un(e,t)?(e=en(),$t=Kt=Zt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Wi(i,"onBeforeInput")).length&&(r=new An("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Ni(o,t)}))}function Qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Oe(e,n))&&i.unshift(Qi(e,a,r)),null!=(a=Oe(e,t))&&i.push(Qi(e,a,r))),e=e.return}return i}function Xi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yi(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=Oe(n,a))&&o.unshift(Qi(n,l,s)):r||null!=(l=Oe(n,a))&&o.push(Qi(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Ji=/\r\n?/g,qi=/\u0000|\uFFFD/g;function Zi(e){return("string"===typeof e?e:""+e).replace(Ji,"\n").replace(qi,"")}function Ki(e,t,n){if(t=Zi(t),Zi(e)!==t&&n)throw Error(a(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Ht(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ht(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),fr="__reactFiber$"+hr,dr="__reactProps$"+hr,pr="__reactContainer$"+hr,vr="__reactEvents$"+hr,mr="__reactListeners$"+hr,gr="__reactHandles$"+hr;function yr(e){var t=e[fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[fr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[fr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function wr(e){return!(e=e[fr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ar(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function br(e){return e[dr]||null}var xr=[],Mr=-1;function kr(e){return{current:e}}function Sr(e){0>Mr||(e.current=xr[Mr],xr[Mr]=null,Mr--)}function Er(e,t){Mr++,xr[Mr]=e.current,e.current=t}var Cr={},Tr=kr(Cr),Pr=kr(!1),_r=Cr;function Lr(e,t){var n=e.type.contextTypes;if(!n)return Cr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Or(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Dr(){Sr(Pr),Sr(Tr)}function Br(e,t,n){if(Tr.current!==Cr)throw Error(a(168));Er(Tr,t),Er(Pr,n)}function Ir(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,G(e)||"Unknown",r));return z({},n,i)}function Rr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,_r=Tr.current,Er(Tr,e),Er(Pr,Pr.current),!0}function zr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Ir(e,t,_r),i.__reactInternalMemoizedMergedChildContext=e,Sr(Pr),Sr(Tr),Er(Tr,e)):Sr(Pr),Er(Pr,n)}var Nr=null,Fr=!1,Ur=!1;function jr(e){null===Nr?Nr=[e]:Nr.push(e)}function Hr(){if(!Ur&&null!==Nr){Ur=!0;var e=0,t=wt;try{var n=Nr;for(wt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Nr=null,Fr=!1}catch(r){throw null!==Nr&&(Nr=Nr.slice(e+1)),Xe($e,Hr),r}finally{wt=t,Ur=!1}}return null}var Gr=[],Vr=0,Qr=null,Wr=0,Xr=[],Yr=0,Jr=null,qr=1,Zr="";function Kr(e,t){Gr[Vr++]=Wr,Gr[Vr++]=Qr,Qr=e,Wr=t}function $r(e,t,n){Xr[Yr++]=qr,Xr[Yr++]=Zr,Xr[Yr++]=Jr,Jr=e;var i=qr;e=Zr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var a=32-ot(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,qr=1<<32-ot(t)+r|n<<r|i,Zr=a+e}else qr=1<<a|n<<r|i,Zr=e}function ea(e){null!==e.return&&(Kr(e,1),$r(e,1,0))}function ta(e){for(;e===Qr;)Qr=Gr[--Vr],Gr[Vr]=null,Wr=Gr[--Vr],Gr[Vr]=null;for(;e===Jr;)Jr=Xr[--Yr],Xr[Yr]=null,Zr=Xr[--Yr],Xr[Yr]=null,qr=Xr[--Yr],Xr[Yr]=null}var na=null,ia=null,ra=!1,aa=null;function oa(e,t){var n=Lu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jr?{id:qr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ra){var t=ia;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ur(n.nextSibling);var i=na;t&&sa(e,t)?oa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ra)return ca(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ur(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?ur(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ia;e;)e=ur(e.nextSibling)}function da(){ia=na=null,ra=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=A.ReactCurrentBatchConfig;function ma(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function wa(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=zu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var a=n.type;return a===M?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&ya(a)===t.type)?((i=r(t,n.props)).ref=ma(e,t,n),i.return=e,i):((i=Bu(n.type,n.key,n.props,null,e.mode,i)).ref=ma(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nu(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,a){return null===t||7!==t.tag?((t=Iu(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Bu(t.type,t.key,t.props,null,e.mode,n)).ref=ma(e,null,t),n.return=e,n;case x:return(t=Nu(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Iu(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function d(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?u(e,t,n,i):null;case x:return n.key===r?c(e,t,n,i):null;case O:return d(e,t,(r=n._init)(n._payload),i)}if(te(n)||I(n))return null!==r?null:h(e,t,n,i,null);ga(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case b:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case O:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||I(i))return h(t,e=e.get(n)||null,i,r,null);ga(t,i)}return null}function v(r,a,s,l){for(var u=null,c=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(r,h,s[v],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(r,h),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g,h=m}if(v===s.length)return n(r,h),ra&&Kr(r,v),u;if(null===h){for(;v<s.length;v++)null!==(h=f(r,s[v],l))&&(a=o(h,a,v),null===c?u=h:c.sibling=h,c=h);return ra&&Kr(r,v),u}for(h=i(r,h);v<s.length;v++)null!==(m=p(h,r,v,s[v],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(r,e)})),ra&&Kr(r,v),u}function m(r,s,l,u){var c=I(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var w=d(r,v,y.value,u);if(null===w){null===v&&(v=g);break}e&&v&&null===w.alternate&&t(r,v),s=o(w,s,m),null===h?c=w:h.sibling=w,h=w,v=g}if(y.done)return n(r,v),ra&&Kr(r,m),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=f(r,y.value,u))&&(s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return ra&&Kr(r,m),c}for(v=i(r,v);!y.done;m++,y=l.next())null!==(y=p(v,r,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(r,e)})),ra&&Kr(r,m),c}return function e(i,a,o,l){if("object"===typeof o&&null!==o&&o.type===M&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===M){if(7===c.tag){n(i,c.sibling),(a=r(c,o.props.children)).return=i,i=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&ya(u)===c.type){n(i,c.sibling),(a=r(c,o.props)).ref=ma(i,c,o),a.return=i,i=a;break e}n(i,c);break}t(i,c),c=c.sibling}o.type===M?((a=Iu(o.props.children,i.mode,l,o.key)).return=i,i=a):((l=Bu(o.type,o.key,o.props,null,i.mode,l)).ref=ma(i,a,o),l.return=i,i=l)}return s(i);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(i,a.sibling),(a=r(a,o.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Nu(o,i.mode,l)).return=i,i=a}return s(i);case O:return e(i,a,(c=o._init)(o._payload),l)}if(te(o))return v(i,a,o,l);if(I(o))return m(i,a,o,l);ga(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,o)).return=i,i=a):(n(i,a),(a=zu(o,i.mode,l)).return=i,i=a),s(i)):n(i,a)}}var Aa=wa(!0),ba=wa(!1),xa=kr(null),Ma=null,ka=null,Sa=null;function Ea(){Sa=ka=Ma=null}function Ca(e){var t=xa.current;Sr(xa),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){Ma=e,Sa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Ma)throw Error(a(308));ka=e,Ma.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var La=null;function Oa(e){null===La?La=[e]:La.push(e)}function Da(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Oa(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ba(e,i)}function Ba(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Tl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ba(e,n)}return null===(r=i.interleaved)?(t.next=t,Oa(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ba(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ja(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,i){var r=e.updateQueue;Ia=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var h=r.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,d=s.eventTime;if((i&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=z({},h,f);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=r.effects)?r.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(f=s).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=h}}function Ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var Va={},Qa=kr(Va),Wa=kr(Va),Xa=kr(Va);function Ya(e){if(e===Va)throw Error(a(174));return e}function Ja(e,t){switch(Er(Xa,t),Er(Wa,e),Er(Qa,Va),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Qa),Er(Qa,t)}function qa(){Sr(Qa),Sr(Wa),Sr(Xa)}function Za(e){Ya(Xa.current);var t=Ya(Qa.current),n=le(t,e.type);t!==n&&(Er(Wa,e),Er(Qa,n))}function Ka(e){Wa.current===e&&(Sr(Qa),Sr(Wa))}var $a=kr(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var io=A.ReactCurrentDispatcher,ro=A.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(a(321))}function vo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function mo(e,t,n,i,r,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?$o:es,e=n(i,r),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,io.current=ts,e=n(i,r)}while(co)}if(io.current=Ko,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,uo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function wo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function Ao(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=so,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=s=null,u=null,c=o;do{var h=c.lane;if((ao&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,oo.lanes|=h,Rl|=h}c=c.next}while(null!==c&&c!==o);null===u?s=i:u.next=l,si(i,t.memoizedState)||(ws=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,oo.lanes|=o,Rl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);si(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Mo(){}function ko(e,t){var n=oo,i=wo(),r=t(),o=!si(i.memoizedState,r);if(o&&(i.memoizedState=r,ws=!0),i=i.queue,Ro(Co.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Lo(9,Eo.bind(null,n,i,r,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ao)||So(n,t,r)}return r}function So(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,i){t.value=n,t.getSnapshot=i,To(t)&&Po(e)}function Co(e,t,n){return n((function(){To(t)&&Po(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Po(e){var t=Ba(e,1);null!==t&&nu(t,e,1,-1)}function _o(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Lo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Oo(){return wo().memoizedState}function Do(e,t,n,i){var r=yo();oo.flags|=e,r.memoizedState=Lo(1|t,n,void 0,void 0===i?null:i)}function Bo(e,t,n,i){var r=wo();i=void 0===i?null:i;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==i&&vo(i,o.deps))return void(r.memoizedState=Lo(t,n,a,i))}oo.flags|=e,r.memoizedState=Lo(1|t,n,a,i)}function Io(e,t){return Do(8390656,8,e,t)}function Ro(e,t){return Bo(2048,8,e,t)}function zo(e,t){return Bo(4,2,e,t)}function No(e,t){return Bo(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Fo.bind(null,t,e),n)}function jo(){}function Ho(e,t){var n=wo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&vo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=wo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&vo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Vo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(si(n,t)||(n=vt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Qo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var i=ro.transition;ro.transition={};try{e(!1),t()}finally{wt=n,ro.transition=i}}function Wo(){return wo().memoizedState}function Xo(e,t,n){var i=tu(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))qo(t,n);else if(null!==(n=Da(e,t,n,i))){nu(n,e,i,eu()),Zo(n,t,i)}}function Yo(e,t,n){var i=tu(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))qo(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,o)){var l=t.interleaved;return null===l?(r.next=r,Oa(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(u){}null!==(n=Da(e,t,r,i))&&(nu(n,e,i,r=eu()),Zo(n,t,i))}}function Jo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function qo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ko={readContext:_a,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},$o={readContext:_a,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:Io,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=yo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Xo.bind(null,oo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:_o,useDebugValue:jo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=_o(!1),t=e[0];return e=Qo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=oo,r=yo();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pl)throw Error(a(349));0!==(30&ao)||So(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Io(Co.bind(null,i,o,e),[e]),i.flags|=2048,Lo(9,Eo.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Pl.identifierPrefix;if(ra){var n=Zr;t=":"+t+"R"+(n=(qr&~(1<<32-ot(qr)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:_a,useCallback:Ho,useContext:_a,useEffect:Ro,useImperativeHandle:Uo,useInsertionEffect:zo,useLayoutEffect:No,useMemo:Go,useReducer:bo,useRef:Oo,useState:function(){return bo(Ao)},useDebugValue:jo,useDeferredValue:function(e){return Vo(wo(),so.memoizedState,e)},useTransition:function(){return[bo(Ao)[0],wo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1},ts={readContext:_a,useCallback:Ho,useContext:_a,useEffect:Ro,useImperativeHandle:Uo,useInsertionEffect:zo,useLayoutEffect:No,useMemo:Go,useReducer:xo,useRef:Oo,useState:function(){return xo(Ao)},useDebugValue:jo,useDeferredValue:function(e){var t=wo();return null===so?t.memoizedState=e:Vo(t,so.memoizedState,e)},useTransition:function(){return[xo(Ao)[0],wo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function is(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),a=Na(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,r))&&(nu(t,e,r,i),Ua(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),a=Na(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,r))&&(nu(t,e,r,i),Ua(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),i=tu(e),r=Na(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Fa(e,r,i))&&(nu(t,e,i,n),Ua(t,e,i))}};function as(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function os(e,t,n){var i=!1,r=Cr,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(r=Or(t)?_r:Tr.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Lr(e,r):Cr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=_a(a):(a=Or(t)?_r:Tr.current,r.context=Lr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(is(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rs.enqueueReplaceState(r,r.state,null),Ha(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",i=t;do{n+=j(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=Na(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Vl||(Vl=!0,Ql=i),hs(0,t)},n}function ps(e,t,n){(n=Na(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof i&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new fs;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Na(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ys=A.ReactCurrentOwner,ws=!1;function As(e,t,n,i){t.child=null===e?ba(t,null,n,i):Aa(t,e.child,n,i)}function bs(e,t,n,i,r){n=n.render;var a=t.ref;return Pa(t,r),i=mo(e,t,n,i,a,r),n=go(),null===e||ws?(ra&&n&&ea(t),t.flags|=1,As(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vs(e,t,r))}function xs(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Ou(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Bu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ms(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Vs(e,t,r)}return t.flags|=1,(e=Du(a,i)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(ws=!1,t.pendingProps=i=a,0===(e.lanes&r))return t.lanes=e.lanes,Vs(e,t,r);0!==(131072&e.flags)&&(ws=!0)}}return Es(e,t,n,i,r)}function ks(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Er(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Er(Dl,Ol),Ol|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Er(Dl,Ol),Ol|=i;return As(e,t,r,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,i,r){var a=Or(n)?_r:Tr.current;return a=Lr(t,a),Pa(t,r),n=mo(e,t,n,i,a,r),i=go(),null===e||ws?(ra&&i&&ea(t),t.flags|=1,As(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vs(e,t,r))}function Cs(e,t,n,i,r){if(Or(n)){var a=!0;Rr(t)}else a=!1;if(Pa(t,r),null===t.stateNode)Gs(e,t),os(t,n,i),ls(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=_a(u):u=Lr(t,u=Or(n)?_r:Tr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==u)&&ss(t,o,i,u),Ia=!1;var f=t.memoizedState;o.state=f,Ha(t,i,o,r),l=t.memoizedState,s!==i||f!==l||Pr.current||Ia?("function"===typeof c&&(is(t,n,c,i),l=t.memoizedState),(s=Ia||as(t,n,s,i,f,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,za(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),o.props=u,h=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=_a(l):l=Lr(t,l=Or(n)?_r:Tr.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==l)&&ss(t,o,i,l),Ia=!1,f=t.memoizedState,o.state=f,Ha(t,i,o,r);var p=t.memoizedState;s!==h||f!==p||Pr.current||Ia?("function"===typeof d&&(is(t,n,d,i),p=t.memoizedState),(u=Ia||as(t,n,u,i,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return Ts(e,t,n,i,a,r)}function Ts(e,t,n,i,r,a){Ss(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&zr(t,n,!1),Vs(e,t,a);i=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Aa(t,e.child,null,a),t.child=Aa(t,null,s,a)):As(e,t,s,a),t.memoizedState=i.state,r&&zr(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Br(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Br(0,t.context,!1),Ja(e,t.containerInfo)}function _s(e,t,n,i,r){return da(),pa(r),t.flags|=256,As(e,t,n,i),t.child}var Ls,Os,Ds,Bs,Is={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var i,r=t.pendingProps,o=$a.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Er($a,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Ru(l,r,0,null),e=Iu(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Is,e):Ns(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,i=cs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Ru({mode:"visible",children:i.children},r,0,null),(o=Iu(o,r,s,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&Aa(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Is,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Fs(e,t,s,i=cs(o=Error(a(419)),i,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(i=Pl)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ba(e,r),nu(i,e,r,-1))}return vu(),Fs(e,t,s,i=cs(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ia=ur(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(Xr[Yr++]=qr,Xr[Yr++]=Zr,Xr[Yr++]=Jr,qr=e.id,Zr=e.overflow,Jr=t),t=Ns(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(s){s=r.fallback,l=t.mode,i=(o=e.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null):(r=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==i?s=Du(i,s):(s=Iu(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Is,r}return e=(s=e.child).sibling,r=Du(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ns(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,i){return null!==i&&pa(i),Aa(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ta(e.return,t,n)}function js(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Hs(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(As(e,t,i.children,n),0!==(2&(i=$a.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Er($a,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),js(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===eo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xs(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Or(t.type)&&Dr(),Ws(t),null;case 3:return i=t.stateNode,qa(),Sr(Pr),Sr(Tr),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Os(e,t),Ws(t),null;case 5:Ka(t);var r=Ya(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=Ya(Qa.current),ha(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[fr]=t,i[dr]=o,e=0!==(1&t.mode),n){case"dialog":Fi("cancel",i),Fi("close",i);break;case"iframe":case"object":case"embed":Fi("load",i);break;case"video":case"audio":for(r=0;r<Ii.length;r++)Fi(Ii[r],i);break;case"source":Fi("error",i);break;case"img":case"image":case"link":Fi("error",i),Fi("load",i);break;case"details":Fi("toggle",i);break;case"input":q(i,o),Fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Fi("invalid",i);break;case"textarea":re(i,o),Fi("invalid",i)}for(var l in ye(n,o),r=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,u,e),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,u,e),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fi("scroll",i)}switch(n){case"input":W(i),$(i,o,!0);break;case"textarea":W(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[fr]=t,e[dr]=i,Ls(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,i),n){case"dialog":Fi("cancel",e),Fi("close",e),r=i;break;case"iframe":case"object":case"embed":Fi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ii.length;r++)Fi(Ii[r],e);r=i;break;case"source":Fi("error",e),r=i;break;case"img":case"image":case"link":Fi("error",e),Fi("load",e),r=i;break;case"details":Fi("toggle",e),r=i;break;case"input":q(e,i),r=J(e,i),Fi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=z({},i,{value:void 0}),Fi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Fi("invalid",e)}for(o in ye(n,r),u=r)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fi("scroll",e):null!=c&&w(e,o,c,l))}switch(n){case"input":W(e),$(e,i,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+V(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Bs(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=Ya(Xa.current),Ya(Qa.current),ha(t)){if(i=t.stateNode,n=t.memoizedProps,i[fr]=t,(o=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Ki(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ki(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[fr]=t,t.stateNode=i}return Ws(t),null;case 13:if(Sr($a),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fr]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===Bl&&(Bl=3):vu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return qa(),Os(e,t),null===e&&Hi(t.stateNode.containerInfo),Ws(t),null;case 10:return Ca(t.type._context),Ws(t),null;case 19:if(Sr($a),null===(o=t.memoizedState))return Ws(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)Qs(o,!1);else{if(0!==Bl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Qs(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Er($a,1&$a.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Hl&&(t.flags|=128,i=!0,Qs(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=eo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ra)return Ws(t),null}else 2*Ze()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,i=!0,Qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=$a.current,Er($a,i?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Or(t.type)&&Dr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qa(),Sr(Pr),Sr(Tr),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ka(t),null;case 13:if(Sr($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr($a),null;case 4:return qa(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Ya(Qa.current);var a,o=null;switch(n){case"input":r=J(e,r),i=J(e,i),o=[];break;case"select":r=z({},r,{value:void 0}),i=z({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(c in ye(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fi("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Bs=function(e,t,n,i){n!==i&&(t.flags|=4)};var Js=!1,qs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Ks=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){ku(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){ku(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&el(t,n,a)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fr],delete t[dr],delete t[vr],delete t[mr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:qs||$s(n,t);case 6:var i=cl,r=hl;cl=null,fl(e,t,n),hl=r,null!==(cl=i)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Ht(e)):lr(cl,n.stateNode));break;case 4:i=cl,r=hl,cl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),cl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),r=r.next}while(r!==i)}fl(e,t,n);break;case 1:if(!qs&&($s(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){ku(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(qs=(i=qs)||null!==n.memoizedState,fl(e,t,n),qs=i):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var i=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));dl(o,s,r),cl=null,hl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){ku(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),gl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(m){ku(e,e.return,m)}try{nl(5,e,e.return)}catch(m){ku(e,e.return,m)}}break;case 1:vl(t,e),gl(e),512&i&&null!==n&&$s(n,n.return);break;case 5:if(vl(t,e),gl(e),512&i&&null!==n&&$s(n,n.return),32&e.flags){var r=e.stateNode;try{fe(r,"")}catch(m){ku(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(r,o),we(l,s);var c=we(l,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];"style"===h?me(r,f):"dangerouslySetInnerHTML"===h?he(r,f):"children"===h?fe(r,f):w(r,h,f,c)}switch(l){case"input":K(r,o);break;case"textarea":ae(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(r,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[dr]=o}catch(m){ku(e,e.return,m)}}break;case 6:if(vl(t,e),gl(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(m){ku(e,e.return,m)}}break;case 3:if(vl(t,e),gl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){ku(e,e.return,m)}break;case 4:default:vl(t,e),gl(e);break;case 13:vl(t,e),gl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(jl=Ze())),4&i&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(qs=(c=qs)||h,vl(t,e),qs=c):vl(t,e),gl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ks=e,h=e.child;null!==h;){for(f=Ks=h;null!==Ks;){switch(p=(d=Ks).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){i=d,n=d.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){ku(i,n,m)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){bl(f);continue}}null!==p?(p.return=d,Ks=p):bl(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{r=f.stateNode,c?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(m){ku(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){ku(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vl(t,e),gl(e),4&i&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(fe(r,""),i.flags&=-33),ul(e,sl(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){ku(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ks=e,wl(e,t,n)}function wl(e,t,n){for(var i=0!==(1&e.mode);null!==Ks;){var r=Ks,a=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Js;if(!o){var s=r.alternate,l=null!==s&&null!==s.memoizedState||qs;s=Js;var u=qs;if(Js=o,(qs=l)&&!u)for(Ks=r;null!==Ks;)l=(o=Ks).child,22===o.tag&&null!==o.memoizedState?xl(r):null!==l?(l.return=o,Ks=l):xl(r);for(;null!==a;)Ks=a,wl(a,t,n),a=a.sibling;Ks=r,Js=s,qs=u}Al(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Ks=a):Al(e)}}function Al(e){for(;null!==Ks;){var t=Ks;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qs||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!qs)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ga(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ga(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}qs||512&t.flags&&rl(t)}catch(d){ku(t,t.return,d)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function bl(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function xl(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){ku(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){ku(t,r,l)}}var a=t.return;try{rl(t)}catch(l){ku(t,a,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){ku(t,o,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var Ml,kl=Math.ceil,Sl=A.ReactCurrentDispatcher,El=A.ReactCurrentOwner,Cl=A.ReactCurrentBatchConfig,Tl=0,Pl=null,_l=null,Ll=0,Ol=0,Dl=kr(0),Bl=0,Il=null,Rl=0,zl=0,Nl=0,Fl=null,Ul=null,jl=0,Hl=1/0,Gl=null,Vl=!1,Ql=null,Wl=null,Xl=!1,Yl=null,Jl=0,ql=0,Zl=null,Kl=-1,$l=0;function eu(){return 0!==(6&Tl)?Ze():-1!==Kl?Kl:Kl=Ze()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ll?Ll&-Ll:null!==va.transition?(0===$l&&($l=vt()),$l):0!==(e=wt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function nu(e,t,n,i){if(50<ql)throw ql=0,Zl=null,Error(a(185));gt(e,n,i),0!==(2&Tl)&&e===Pl||(e===Pl&&(0===(2&Tl)&&(zl|=n),4===Bl&&su(e,Ll)),iu(e,i),1===n&&0===Tl&&0===(1&t.mode)&&(Hl=Ze()+500,Fr&&Hr()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=dt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var i=ft(e,e===Pl?Ll:0);if(0===i)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fr=!0,jr(e)}(lu.bind(null,e)):jr(lu.bind(null,e)),or((function(){0===(6&Tl)&&Hr()})),n=null;else{switch(At(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Pu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Kl=-1,$l=0,0!==(6&Tl))throw Error(a(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var i=ft(e,e===Pl?Ll:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=mu(e,i);else{t=i;var r=Tl;Tl|=2;var o=pu();for(Pl===e&&Ll===t||(Gl=null,Hl=Ze()+500,fu(e,t));;)try{yu();break}catch(l){du(e,l)}Ea(),Sl.current=o,Tl=r,null!==_l?t=0:(Pl=null,Ll=0,t=Bl)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=au(e,r))),1===t)throw n=Il,fu(e,0),su(e,i),iu(e,Ze()),n;if(6===t)su(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!si(a(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=mu(e,i))&&(0!==(o=pt(e))&&(i=o,t=au(e,o))),1===t))throw n=Il,fu(e,0),su(e,i),iu(e,Ze()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:bu(e,Ul,Gl);break;case 3:if(su(e,i),(130023424&i)===i&&10<(t=jl+500-Ze())){if(0!==ft(e,0))break;if(((r=e.suspendedLanes)&i)!==i){eu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(bu.bind(null,e,Ul,Gl),t);break}bu(e,Ul,Gl);break;case 4:if(su(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-ot(i);o=1<<s,(s=t[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=Ze()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){e.timeoutHandle=ir(bu.bind(null,e,Ul,Gl),i);break}bu(e,Ul,Gl);break;default:throw Error(a(329))}}}return iu(e,Ze()),e.callbackNode===n?ru.bind(null,e):null}function au(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Ul,Ul=n,null!==t&&ou(t)),e}function ou(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function su(e,t){for(t&=~Nl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function lu(e){if(0!==(6&Tl))throw Error(a(327));xu();var t=ft(e,0);if(0===(1&t))return iu(e,Ze()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=au(e,i))}if(1===n)throw n=Il,fu(e,0),su(e,t),iu(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,Ul,Gl),iu(e,Ze()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Hl=Ze()+500,Fr&&Hr())}}function cu(e){null!==Yl&&0===Yl.tag&&0===(6&Tl)&&xu();var t=Tl;Tl|=1;var n=Cl.transition,i=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=i,Cl.transition=n,0===(6&(Tl=t))&&Hr()}}function hu(){Ol=Dl.current,Sr(Dl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==_l)for(n=_l.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Dr();break;case 3:qa(),Sr(Pr),Sr(Tr),no();break;case 5:Ka(i);break;case 4:qa();break;case 13:case 19:Sr($a);break;case 10:Ca(i.type._context);break;case 22:case 23:hu()}n=n.return}if(Pl=e,_l=e=Du(e.current,null),Ll=Ol=t,Bl=0,Il=null,Nl=zl=Rl=0,Ul=Fl=null,null!==La){for(t=0;t<La.length;t++)if(null!==(i=(n=La[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var o=a.next;a.next=r,i.next=o}n.pending=i}La=null}return e}function du(e,t){for(;;){var n=_l;try{if(Ea(),io.current=Ko,uo){for(var i=oo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}uo=!1}if(ao=0,lo=so=oo=null,co=!1,ho=0,El.current=null,null===n||null===n.return){Bl=1,Il=t,_l=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Ll,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&vs(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){vs(o,c,t),vu();break e}u=Error(a(426))}else if(ra&&1&l.mode){var g=ms(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),pa(us(u,l));break e}}o=u=us(u,l),4!==Bl&&(Bl=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ds(0,u,t));break e;case 1:l=u;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wl||!Wl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}Au(n)}catch(A){t=A,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function pu(){var e=Sl.current;return Sl.current=Ko,null===e?Ko:e}function vu(){0!==Bl&&3!==Bl&&2!==Bl||(Bl=4),null===Pl||0===(268435455&Rl)&&0===(268435455&zl)||su(Pl,Ll)}function mu(e,t){var n=Tl;Tl|=2;var i=pu();for(Pl===e&&Ll===t||(Gl=null,fu(e,t));;)try{gu();break}catch(r){du(e,r)}if(Ea(),Tl=n,Sl.current=i,null!==_l)throw Error(a(261));return Pl=null,Ll=0,Bl}function gu(){for(;null!==_l;)wu(_l)}function yu(){for(;null!==_l&&!Je();)wu(_l)}function wu(e){var t=Ml(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?Au(e):_l=t,El.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Ol)))return void(_l=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Bl=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Bl&&(Bl=5)}function bu(e,t,n){var i=wt,r=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,i){do{xu()}while(null!==Yl);if(0!==(6&Tl))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,o),e===Pl&&(_l=Pl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Pu(tt,(function(){return xu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var s=wt;wt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(er=Vt,di(e=fi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(l=s+r),f!==o||0!==i&&3!==f.nodeType||(u=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===r&&(l=s),d===o&&++h===i&&(u=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Vt=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=t.stateNode.containerInfo;1===A.nodeType?A.textContent="":9===A.nodeType&&A.documentElement&&A.removeChild(A.documentElement);break;default:throw Error(a(163))}}catch(b){ku(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}v=tl,tl=!1}(e,n),ml(n,e),pi(tr),Vt=!!er,tr=er=null,e.current=n,yl(n,e,r),qe(),Tl=l,wt=s,Cl.transition=o}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Jl=r),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Ze()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Vl)throw Vl=!1,e=Ql,Ql=null,e;0!==(1&Jl)&&0!==e.tag&&xu(),o=e.pendingLanes,0!==(1&o)?e===Zl?ql++:(ql=0,Zl=e):ql=0,Hr()}(e,t,n,i)}finally{Cl.transition=r,wt=i}return null}function xu(){if(null!==Yl){var e=At(Jl),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Yl)var i=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Tl))throw Error(a(331));var r=Tl;for(Tl|=4,Ks=e.current;null!==Ks;){var o=Ks,s=o.child;if(0!==(16&Ks.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ks=c;null!==Ks;){var h=Ks;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var f=h.child;if(null!==f)f.return=h,Ks=f;else for(;null!==Ks;){var d=(h=Ks).sibling,p=h.return;if(al(h),h===c){Ks=null;break}if(null!==d){d.return=p,Ks=d;break}Ks=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ks=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ks=s;else e:for(;null!==Ks;){if(0!==(2048&(o=Ks).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ks=y;break e}Ks=o.return}}var w=e.current;for(Ks=w;null!==Ks;){var A=(s=Ks).child;if(0!==(2064&s.subtreeFlags)&&null!==A)A.return=s,Ks=A;else e:for(s=w;null!==Ks;){if(0!==(2048&(l=Ks).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){ku(l,l.return,x)}if(l===s){Ks=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Ks=b;break e}Ks=l.return}}if(Tl=r,Hr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(x){}i=!0}return i}finally{wt=n,Cl.transition=t}}return!1}function Mu(e,t,n){e=Fa(e,t=ds(0,t=us(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),iu(e,t))}function ku(e,t,n){if(3===e.tag)Mu(e,e,n);else for(;null!==t;){if(3===t.tag){Mu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Wl||!Wl.has(i))){t=Fa(t,e=ps(t,e=us(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),iu(t,e));break}}t=t.return}}function Su(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ll&n)===n&&(4===Bl||3===Bl&&(130023424&Ll)===Ll&&500>Ze()-jl?fu(e,0):Nl|=n),iu(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ba(e,t))&&(gt(e,t,n),iu(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Eu(e,n)}function Pu(e,t){return Xe(e,t)}function _u(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lu(e,t,n,i){return new _u(e,t,n,i)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Lu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bu(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case M:return Iu(n.children,r,o,t);case k:s=8,r|=8;break;case S:return(e=Lu(12,n,t,2|r)).elementType=S,e.lanes=o,e;case P:return(e=Lu(13,n,t,r)).elementType=P,e.lanes=o,e;case _:return(e=Lu(19,n,t,r)).elementType=_,e.lanes=o,e;case D:return Ru(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case C:s=9;break e;case T:s=11;break e;case L:s=14;break e;case O:s=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Lu(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Iu(e,t,n,i){return(e=Lu(7,e,i,t)).lanes=n,e}function Ru(e,t,n,i){return(e=Lu(22,e,i,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Lu(6,e,null,t)).lanes=n,e}function Nu(e,t,n){return(t=Lu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,i,r,a,o,s,l){return e=new Fu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Lu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function ju(e){if(!e)return Cr;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Or(n))return Ir(e,n,t)}return t}function Hu(e,t,n,i,r,a,o,s,l){return(e=Uu(n,i,!0,e,0,a,0,s,l)).context=ju(null),n=e.current,(a=Na(i=eu(),r=tu(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,r),e.current.lanes=r,gt(e,r,i),iu(e,i),e}function Gu(e,t,n,i){var r=t.current,a=eu(),o=tu(r);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Na(a,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Fa(r,t,o))&&(nu(e,r,o,a),Ua(e,r,o)),o}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Qu(e,t),(e=e.alternate)&&Qu(e,t)}Ml=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:Za(t);break;case 1:Or(t.type)&&Rr(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Er(xa,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Er($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(Er($a,1&$a.current),null!==(e=Vs(e,t,n))?e.sibling:null);Er($a,1&$a.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Hs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Er($a,$a.current),i)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Vs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ra&&0!==(1048576&t.flags)&&$r(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Gs(e,t),e=t.pendingProps;var r=Lr(t,Tr.current);Pa(t,n),r=mo(null,t,i,e,r,n);var o=go();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(i)?(o=!0,Rr(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ra(t),r.updater=rs,t.stateNode=r,r._reactInternals=t,ls(t,i,e,n),t=Ts(null,t,i,!0,o,n)):(t.tag=0,ra&&o&&ea(t),As(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===L)return 14}return 2}(i),e=ns(i,e),r){case 0:t=Es(null,t,i,e,n);break e;case 1:t=Cs(null,t,i,e,n);break e;case 11:t=bs(null,t,i,e,n);break e;case 14:t=xs(null,t,i,ns(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Es(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 1:return i=t.type,r=t.pendingProps,Cs(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));i=t.pendingProps,r=(o=t.memoizedState).element,za(e,t),Ha(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=_s(e,t,i,n,r=us(Error(a(423)),t));break e}if(i!==r){t=_s(e,t,i,n,r=us(Error(a(424)),t));break e}for(ia=ur(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=ba(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),i===r){t=Vs(e,t,n);break e}As(e,t,i,n)}t=t.child}return t;case 5:return Za(t),null===e&&ua(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==o&&nr(i,o)&&(t.flags|=32),Ss(e,t),As(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return zs(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Aa(t,null,i,n):As(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,bs(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 7:return As(e,t,t.pendingProps,n),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,Er(xa,i._currentValue),i._currentValue=s,null!==o)if(si(o.value,s)){if(o.children===r.children&&!Pr.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=Na(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ta(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ta(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}As(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Pa(t,n),i=i(r=_a(r)),t.flags|=1,As(e,t,i,n),t.child;case 14:return r=ns(i=t.type,t.pendingProps),xs(e,t,i,r=ns(i.type,r),n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ns(i,r),Gs(e,t),t.tag=1,Or(i)?(e=!0,Rr(t)):e=!1,Pa(t,n),os(t,i,r),ls(t,i,r,n),Ts(null,t,i,!0,e,n);case 19:return Hs(e,t,n);case 22:return ks(e,t,n)}throw Error(a(156,t.tag))};var Xu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ku(){}function $u(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof r){var s=r;r=function(){var e=Vu(o);s.call(e)}}Gu(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var e=Vu(o);a.call(e)}}var o=Hu(t,i,e,0,null,!1,0,"",Ku);return e._reactRootContainer=o,e[pr]=o.current,Hi(8===e.nodeType?e.parentNode:e),cu(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Vu(l);s.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ku);return e._reactRootContainer=l,e[pr]=l.current,Hi(8===e.nodeType?e.parentNode:e),cu((function(){Gu(t,l,n,i)})),l}(n,t,e,r,i);return Vu(o)}Ju.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gu(e,t,null,null)},Ju.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Gu(null,e,null,null)})),t[pr]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&zt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Ze()),0===(6&Tl)&&(Hl=Ze()+500,Hr()))}break;case 13:cu((function(){var t=Ba(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},xt=function(e){if(13===e.tag){var t=Ba(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},Mt=function(e){if(13===e.tag){var t=tu(e),n=Ba(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},kt=function(){return wt},St=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=br(i);if(!r)throw Error(a(90));X(i),K(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Pe=cu;var ec={usingClientEntryPoint:!1,Events:[wr,Ar,br,Ee,Ce,uu]},tc={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{rt=ic.inject(nc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qu(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!qu(e))throw Error(a(299));var n=!1,i="",r=Xu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Hi(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return $u(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!qu(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",s=Xu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,r,0,o,s),e[pr]=t.current,Hi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ju(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return $u(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){$u(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $u(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var i=n(119);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},654:(e,t,n)=>{var i=n(950),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,a={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},49:(e,t)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var A=w.prototype=new y;A.constructor=w,v(A,g.prototype),A.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,M={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:M.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,r,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===a?"."+T(l,0):a,b(o)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),P(o,t,r,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",b(e))for(var u=0;u<e.length;u++){var c=a+T(s=e[u],u);l+=P(s,t,r,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=P(s=s.value,t,r,c=a+T(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var i=[],r=0;return P(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},B={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:M};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.act=I,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=M.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!k.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},950:(e,t,n)=>{e.exports=n(49)},414:(e,t,n)=>{e.exports=n(654)},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<r&&0>a(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[s]=n,i=s);else{if(!(u<r&&0>a(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function A(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function b(e){if(m=!1,A(e),!v)if(null!==i(u))v=!0,D(x);else{var t=i(c);null!==t&&B(b,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=d;try{for(A(n),f=i(u);null!==f&&(!(f.expirationTime>n)||e&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===i(u)&&r(u),A(n)}else r(u);f=i(u)}if(null!==f)var l=!0;else{var h=i(c);null!==h&&B(b,h.startTime-n),l=!1}return l}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M,k=!1,S=null,E=-1,C=5,T=-1;function P(){return!(t.unstable_now()-T<C)}function _(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?M():(k=!1,S=null)}}else k=!1}if("function"===typeof w)M=function(){w(_)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,O=L.port2;L.port1.onmessage=_,M=function(){O.postMessage(null)}}else M=function(){g(_,0)};function D(e){S=e,k||(k=!0,M())}function B(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===i(u)&&e===i(c)&&(m?(y(E),E=-1):m=!0,B(b,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},340:(e,t,n)=>{e.exports=n(761)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.p="./",(()=>{var e=n(950),t=n(352);const i=n.p+"static/media/1.8cccf284619cdf90c9db.png",r=n.p+"static/media/2.1fac1f367cd0fd3907ee.png",a=n.p+"static/media/3.fcd3d15e660ae2dfe0ac.png",o="data:image/jpeg;base64,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",s=n.p+"static/media/transit.61e9a9750edc88a46ef7.jpg",l=n.p+"static/media/terrain.eadfbdf2b393fb540b9f.jpg",u=n.p+"static/media/bugRotate.25ce5afbc751be7db0ab.png";var c=n(119);const h="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function f(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function d(e){return"nodeType"in e}function p(e){var t,n;return e?f(e)?e:d(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function v(e){const{Document:t}=p(e);return e instanceof t}function m(e){return!f(e)&&e instanceof p(e).HTMLElement}function g(e){return e instanceof p(e).SVGElement}function y(e){return e?f(e)?e.document:d(e)?v(e)?e:m(e)||g(e)?e.ownerDocument:document:document:document}const w=h?e.useLayoutEffect:e.useEffect;function A(t){const n=(0,e.useRef)(t);return w((()=>{n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return null==n.current?void 0:n.current(...t)}),[])}function b(t,n){void 0===n&&(n=[t]);const i=(0,e.useRef)(t);return w((()=>{i.current!==t&&(i.current=t)}),n),i}function x(t,n){const i=(0,e.useRef)();return(0,e.useMemo)((()=>{const e=t(i.current);return i.current=e,e}),[...n])}function M(t){const n=A(t),i=(0,e.useRef)(null),r=(0,e.useCallback)((e=>{e!==i.current&&(null==n||n(e,i.current)),i.current=e}),[]);return[i,r]}function k(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t}),[t]),n.current}let S={};function E(t,n){return(0,e.useMemo)((()=>{if(n)return n;const e=null==S[t]?0:S[t]+1;return S[t]=e,t+"-"+e}),[t,n])}function C(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce(((t,n)=>{const i=Object.entries(n);for(const[r,a]of i){const n=t[r];null!=n&&(t[r]=n+e*a)}return t}),{...t})}}const T=C(1),P=C(-1);function _(e){if(!e)return!1;const{KeyboardEvent:t}=p(e.target);return t&&e instanceof t}function L(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=p(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const O=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[O.Translate.toString(e),O.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),D="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function B(e){return e.matches(D)?e:e.querySelector(D)}const I={display:"none"};function R(t){let{id:n,value:i}=t;return e.createElement("div",{id:n,style:I},i)}function z(t){let{id:n,announcement:i,ariaLiveType:r="assertive"}=t;return e.createElement("div",{id:n,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},i)}const N=(0,e.createContext)(null);const F={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},U={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function j(t){let{announcements:n=U,container:i,hiddenTextDescribedById:r,screenReaderInstructions:a=F}=t;const{announce:o,announcement:s}=function(){const[t,n]=(0,e.useState)("");return{announce:(0,e.useCallback)((e=>{null!=e&&n(e)}),[]),announcement:t}}(),l=E("DndLiveRegion"),[u,h]=(0,e.useState)(!1);if((0,e.useEffect)((()=>{h(!0)}),[]),function(t){const n=(0,e.useContext)(N);(0,e.useEffect)((()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)}),[t,n])}((0,e.useMemo)((()=>({onDragStart(e){let{active:t}=e;o(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:i}=e;n.onDragMove&&o(n.onDragMove({active:t,over:i}))},onDragOver(e){let{active:t,over:i}=e;o(n.onDragOver({active:t,over:i}))},onDragEnd(e){let{active:t,over:i}=e;o(n.onDragEnd({active:t,over:i}))},onDragCancel(e){let{active:t,over:i}=e;o(n.onDragCancel({active:t,over:i}))}})),[o,n])),!u)return null;const f=e.createElement(e.Fragment,null,e.createElement(R,{id:r,value:a.draggable}),e.createElement(z,{id:l,announcement:s}));return i?(0,c.createPortal)(f,i):f}var H;function G(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(H||(H={}));const V=Object.freeze({x:0,y:0});function Q(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function W(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=r-i,s=a-n;if(i<r&&n<a){const n=t.width*t.height,i=e.width*e.height,r=o*s;return Number((r/(n+i-r)).toFixed(4))}return 0}const X=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const r=[];for(const a of i){const{id:e}=a,i=n.get(e);if(i){const n=W(i,t);n>0&&r.push({id:e,data:{droppableContainer:a,value:n}})}}return r.sort(Q)};function Y(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:V}function J(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const q=J(1);function Z(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const K={ignoreTransform:!1};function $(e,t){void 0===t&&(t=K);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:i}=p(e).getComputedStyle(e);t&&(n=function(e,t,n){const i=Z(t);if(!i)return e;const{scaleX:r,scaleY:a,x:o,y:s}=i,l=e.left-o-(1-r)*parseFloat(n),u=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),c=r?e.width/r:e.width,h=a?e.height/a:e.height;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l}}(n,t,i))}const{top:i,left:r,width:a,height:o,bottom:s,right:l}=n;return{top:i,left:r,width:a,height:o,bottom:s,right:l}}function ee(e){return $(e,{ignoreTransform:!0})}function te(e,t){const n=[];return e?function i(r){if(null!=t&&n.length>=t)return n;if(!r)return n;if(v(r)&&null!=r.scrollingElement&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!m(r)||g(r))return n;if(n.includes(r))return n;const a=p(e).getComputedStyle(r);return r!==e&&function(e,t){void 0===t&&(t=p(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const i=t[e];return"string"===typeof i&&n.test(i)}))}(r,a)&&n.push(r),function(e,t){return void 0===t&&(t=p(e).getComputedStyle(e)),"fixed"===t.position}(r,a)?n:i(r.parentNode)}(e):n}function ne(e){const[t]=te(e,1);return null!=t?t:null}function ie(e){return h&&e?f(e)?e:d(e)?v(e)||e===y(e).scrollingElement?window:m(e)?e:null:null:null}function re(e){return f(e)?e.scrollX:e.scrollLeft}function ae(e){return f(e)?e.scrollY:e.scrollTop}function oe(e){return{x:re(e),y:ae(e)}}var se;function le(e){return!(!h||!e)&&e===document.scrollingElement}function ue(e){const t={x:0,y:0},n=le(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=i.y,isRight:e.scrollLeft>=i.x,maxScroll:i,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(se||(se={}));const ce={x:.2,y:.2};function he(e,t,n,i,r){let{top:a,left:o,right:s,bottom:l}=n;void 0===i&&(i=10),void 0===r&&(r=ce);const{isTop:u,isBottom:c,isLeft:h,isRight:f}=ue(e),d={x:0,y:0},p={x:0,y:0},v=t.height*r.y,m=t.width*r.x;return!u&&a<=t.top+v?(d.y=se.Backward,p.y=i*Math.abs((t.top+v-a)/v)):!c&&l>=t.bottom-v&&(d.y=se.Forward,p.y=i*Math.abs((t.bottom-v-l)/v)),!f&&s>=t.right-m?(d.x=se.Forward,p.x=i*Math.abs((t.right-m-s)/m)):!h&&o<=t.left+m&&(d.x=se.Backward,p.x=i*Math.abs((t.left+m-o)/m)),{direction:d,speed:p}}function fe(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:i,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:r,width:e.clientWidth,height:e.clientHeight}}function de(e){return e.reduce(((e,t)=>T(e,oe(t))),V)}function pe(e,t){if(void 0===t&&(t=$),!e)return;const{top:n,left:i,bottom:r,right:a}=t(e);ne(e)&&(r<=0||a<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ve=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+re(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+ae(t)),0)}]];class me{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=te(t),i=de(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[r,a,o]of ve)for(const e of a)Object.defineProperty(this,e,{get:()=>{const t=o(n),a=i[r]-t;return this.rect[e]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ge{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var i;null==(i=this.target)||i.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function ye(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return"number"===typeof t?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t&&i>t.y}var we,Ae;function be(e){e.preventDefault()}function xe(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(we||(we={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(Ae||(Ae={}));const Me={start:[Ae.Space,Ae.Enter],cancel:[Ae.Esc],end:[Ae.Space,Ae.Enter]},ke=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ae.Right:return{...n,x:n.x+25};case Ae.Left:return{...n,x:n.x-25};case Ae.Down:return{...n,y:n.y+25};case Ae.Up:return{...n,y:n.y-25}}};class Se{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ge(y(t)),this.windowListeners=new ge(p(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(we.Resize,this.handleCancel),this.windowListeners.add(we.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(we.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&pe(n),t(V)}handleKeyDown(e){if(_(e)){const{active:t,context:n,options:i}=this.props,{keyboardCodes:r=Me,coordinateGetter:a=ke,scrollBehavior:o="smooth"}=i,{code:s}=e;if(r.end.includes(s))return void this.handleEnd(e);if(r.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,u=l?{x:l.left,y:l.top}:V;this.referenceCoordinates||(this.referenceCoordinates=u);const c=a(e,{active:t,context:n.current,currentCoordinates:u});if(c){const t=P(c,u),i={x:0,y:0},{scrollableAncestors:r}=n.current;for(const n of r){const r=e.code,{isTop:a,isRight:s,isLeft:l,isBottom:u,maxScroll:h,minScroll:f}=ue(n),d=fe(n),p={x:Math.min(r===Ae.Right?d.right-d.width/2:d.right,Math.max(r===Ae.Right?d.left:d.left+d.width/2,c.x)),y:Math.min(r===Ae.Down?d.bottom-d.height/2:d.bottom,Math.max(r===Ae.Down?d.top:d.top+d.height/2,c.y))},v=r===Ae.Right&&!s||r===Ae.Left&&!l,m=r===Ae.Down&&!u||r===Ae.Up&&!a;if(v&&p.x!==c.x){const e=n.scrollLeft+t.x,a=r===Ae.Right&&e<=h.x||r===Ae.Left&&e>=f.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:o});i.x=a?n.scrollLeft-e:r===Ae.Right?n.scrollLeft-h.x:n.scrollLeft-f.x,i.x&&n.scrollBy({left:-i.x,behavior:o});break}if(m&&p.y!==c.y){const e=n.scrollTop+t.y,a=r===Ae.Down&&e<=h.y||r===Ae.Up&&e>=f.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:o});i.y=a?n.scrollTop-e:r===Ae.Down?n.scrollTop-h.y:n.scrollTop-f.y,i.y&&n.scrollBy({top:-i.y,behavior:o});break}}this.handleMove(e,T(P(c,this.referenceCoordinates),i))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Ee(e){return Boolean(e&&"distance"in e)}function Ce(e){return Boolean(e&&"delay"in e)}Se.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=Me,onActivation:r}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(i.start.includes(o)){const t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==r||r({event:e.nativeEvent}),!0)}return!1}}];class Te{constructor(e,t,n){var i;void 0===n&&(n=function(e){const{EventTarget:t}=p(e);return e instanceof t?e:y(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:r}=e,{target:a}=r;this.props=e,this.events=t,this.document=y(a),this.documentListeners=new ge(this.document),this.listeners=new ge(n),this.windowListeners=new ge(p(a)),this.initialCoordinates=null!=(i=L(r))?i:V,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(we.Resize,this.handleCancel),this.windowListeners.add(we.DragStart,be),this.windowListeners.add(we.VisibilityChange,this.handleCancel),this.windowListeners.add(we.ContextMenu,be),this.documentListeners.add(we.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ce(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(Ee(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(we.Click,xe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(we.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:i,props:r}=this,{onMove:a,options:{activationConstraint:o}}=r;if(!i)return;const s=null!=(t=L(e))?t:V,l=P(i,s);if(!n&&o){if(Ee(o)){if(null!=o.tolerance&&ye(l,o.tolerance))return this.handleCancel();if(ye(l,o.distance))return this.handleStart()}return Ce(o)&&ye(l,o.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(s)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Ae.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Pe={move:{name:"pointermove"},end:{name:"pointerup"}};class _e extends Te{constructor(e){const{event:t}=e,n=y(t.target);super(e,Pe,n)}}_e.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!(!n.isPrimary||0!==n.button)&&(null==i||i({event:n}),!0)}}];const Le={move:{name:"mousemove"},end:{name:"mouseup"}};var Oe;!function(e){e[e.RightClick=2]="RightClick"}(Oe||(Oe={}));(class extends Te{constructor(e){super(e,Le,y(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button!==Oe.RightClick&&(null==i||i({event:n}),!0)}}];const De={move:{name:"touchmove"},end:{name:"touchend"}};var Be,Ie;function Re(t){let{acceleration:n,activator:i=Be.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:s=5,order:l=Ie.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:h,delta:f,threshold:d}=t;const p=function(e){let{delta:t,disabled:n}=e;const i=k(t);return x((e=>{if(n||!i||!e)return ze;const r={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[se.Backward]:e.x[se.Backward]||-1===r.x,[se.Forward]:e.x[se.Forward]||1===r.x},y:{[se.Backward]:e.y[se.Backward]||-1===r.y,[se.Forward]:e.y[se.Forward]||1===r.y}}}),[n,t,i])}({delta:f,disabled:!o}),[v,m]=function(){const t=(0,e.useRef)(null);return[(0,e.useCallback)(((e,n)=>{t.current=setInterval(e,n)}),[]),(0,e.useCallback)((()=>{null!==t.current&&(clearInterval(t.current),t.current=null)}),[])]}(),g=(0,e.useRef)({x:0,y:0}),y=(0,e.useRef)({x:0,y:0}),w=(0,e.useMemo)((()=>{switch(i){case Be.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Be.DraggableRect:return a}}),[i,a,u]),A=(0,e.useRef)(null),b=(0,e.useCallback)((()=>{const e=A.current;if(!e)return;const t=g.current.x*y.current.x,n=g.current.y*y.current.y;e.scrollBy(t,n)}),[]),M=(0,e.useMemo)((()=>l===Ie.TreeOrder?[...c].reverse():c),[l,c]);(0,e.useEffect)((()=>{if(o&&c.length&&w){for(const e of M){if(!1===(null==r?void 0:r(e)))continue;const t=c.indexOf(e),i=h[t];if(!i)continue;const{direction:a,speed:o}=he(e,i,w,n,d);for(const e of["x","y"])p[e][a[e]]||(o[e]=0,a[e]=0);if(o.x>0||o.y>0)return m(),A.current=e,v(b,s),g.current=o,void(y.current=a)}g.current={x:0,y:0},y.current={x:0,y:0},m()}else m()}),[n,b,r,m,o,s,JSON.stringify(w),JSON.stringify(p),v,c,M,h,JSON.stringify(d)])}(class extends Te{constructor(e){super(e,De)}static setup(){return window.addEventListener(De.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(De.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:r}=n;return!(r.length>1)&&(null==i||i({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Be||(Be={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Ie||(Ie={}));const ze={x:{[se.Backward]:!1,[se.Forward]:!1},y:{[se.Backward]:!1,[se.Forward]:!1}};var Ne,Fe;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Ne||(Ne={})),function(e){e.Optimized="optimized"}(Fe||(Fe={}));const Ue=new Map;function je(e,t){return x((n=>e?n||("function"===typeof t?t(e):e):null),[t,e])}function He(t){let{callback:n,disabled:i}=t;const r=A(n),a=(0,e.useMemo)((()=>{if(i||"undefined"===typeof window||"undefined"===typeof window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)}),[i]);return(0,e.useEffect)((()=>()=>null==a?void 0:a.disconnect()),[a]),a}function Ge(e){return new me($(e),e)}function Ve(t,n,i){void 0===n&&(n=Ge);const[r,a]=(0,e.useReducer)((function(e){if(!t)return null;var r;if(!1===t.isConnected)return null!=(r=null!=e?e:i)?r:null;const a=n(t);if(JSON.stringify(e)===JSON.stringify(a))return e;return a}),null),o=function(t){let{callback:n,disabled:i}=t;const r=A(n),a=(0,e.useMemo)((()=>{if(i||"undefined"===typeof window||"undefined"===typeof window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)}),[r,i]);return(0,e.useEffect)((()=>()=>null==a?void 0:a.disconnect()),[a]),a}({callback(e){if(t)for(const n of e){const{type:e,target:i}=n;if("childList"===e&&i instanceof HTMLElement&&i.contains(t)){a();break}}}}),s=He({callback:a});return w((()=>{a(),t?(null==s||s.observe(t),null==o||o.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==o||o.disconnect())}),[t]),r}const Qe=[];function We(t,n){void 0===n&&(n=[]);const i=(0,e.useRef)(null);return(0,e.useEffect)((()=>{i.current=null}),n),(0,e.useEffect)((()=>{const e=t!==V;e&&!i.current&&(i.current=t),!e&&i.current&&(i.current=null)}),[t]),i.current?P(t,i.current):V}function Xe(t){return(0,e.useMemo)((()=>t?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(t):null),[t])}const Ye=[];function Je(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return m(t)?t:e}const qe=[{sensor:_e,options:{}},{sensor:Se,options:{}}],Ze={current:{}},Ke={draggable:{measure:ee},droppable:{measure:ee,strategy:Ne.WhileDragging,frequency:Fe.Optimized},dragOverlay:{measure:$}};class $e extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const et={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $e,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:G},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ke,measureDroppableContainers:G,windowRect:null,measuringScheduled:!1},tt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:G,draggableNodes:new Map,over:null,measureDroppableContainers:G},nt=(0,e.createContext)(tt),it=(0,e.createContext)(et);function rt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $e}}}function at(e,t){switch(t.type){case H.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case H.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case H.DragEnd:case H.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case H.RegisterDroppable:{const{element:n}=t,{id:i}=n,r=new $e(e.droppable.containers);return r.set(i,n),{...e,droppable:{...e.droppable,containers:r}}}case H.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=t,a=e.droppable.containers.get(n);if(!a||i!==a.key)return e;const o=new $e(e.droppable.containers);return o.set(n,{...a,disabled:r}),{...e,droppable:{...e.droppable,containers:o}}}case H.UnregisterDroppable:{const{id:n,key:i}=t,r=e.droppable.containers.get(n);if(!r||i!==r.key)return e;const a=new $e(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function ot(t){let{disabled:n}=t;const{active:i,activatorEvent:r,draggableNodes:a}=(0,e.useContext)(nt),o=k(r),s=k(null==i?void 0:i.id);return(0,e.useEffect)((()=>{if(!n&&!r&&o&&null!=s){if(!_(o))return;if(document.activeElement===o.target)return;const e=a.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=B(e);if(t){t.focus();break}}}))}}),[r,n,a,s,o]),null}function st(e,t){let{transform:n,...i}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...i})),n):n}const lt=(0,e.createContext)({...V,scaleX:1,scaleY:1});var ut;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(ut||(ut={}));const ct=(0,e.memo)((function(t){var n,i,r,a;let{id:o,accessibility:s,autoScroll:l=!0,children:u,sensors:f=qe,collisionDetection:d=X,measuring:v,modifiers:g,...y}=t;const A=(0,e.useReducer)(at,void 0,rt),[k,S]=A,[C,P]=function(){const[t]=(0,e.useState)((()=>new Set)),n=(0,e.useCallback)((e=>(t.add(e),()=>t.delete(e))),[t]),i=(0,e.useCallback)((e=>{let{type:n,event:i}=e;t.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,i)}))}),[t]);return[i,n]}(),[_,O]=(0,e.useState)(ut.Uninitialized),D=_===ut.Initialized,{draggable:{active:B,nodes:I,translate:R},droppable:{containers:z}}=k,F=B?I.get(B):null,U=(0,e.useRef)({initial:null,translated:null}),G=(0,e.useMemo)((()=>{var e;return null!=B?{id:B,data:null!=(e=null==F?void 0:F.data)?e:Ze,rect:U}:null}),[B,F]),Q=(0,e.useRef)(null),[W,J]=(0,e.useState)(null),[Z,K]=(0,e.useState)(null),ee=b(y,Object.values(y)),re=E("DndDescribedBy",o),ae=(0,e.useMemo)((()=>z.getEnabled()),[z]),se=(ue=v,(0,e.useMemo)((()=>({draggable:{...Ke.draggable,...null==ue?void 0:ue.draggable},droppable:{...Ke.droppable,...null==ue?void 0:ue.droppable},dragOverlay:{...Ke.dragOverlay,...null==ue?void 0:ue.dragOverlay}})),[null==ue?void 0:ue.draggable,null==ue?void 0:ue.droppable,null==ue?void 0:ue.dragOverlay]));var ue;const{droppableRects:ce,measureDroppableContainers:he,measuringScheduled:fe}=function(t,n){let{dragging:i,dependencies:r,config:a}=n;const[o,s]=(0,e.useState)(null),{frequency:l,measure:u,strategy:c}=a,h=(0,e.useRef)(t),f=function(){switch(c){case Ne.Always:return!1;case Ne.BeforeDragging:return i;default:return!i}}(),d=b(f),p=(0,e.useCallback)((function(e){void 0===e&&(e=[]),d.current||s((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[d]),v=(0,e.useRef)(null),m=x((e=>{if(f&&!i)return Ue;if(!e||e===Ue||h.current!==t||null!=o){const e=new Map;for(let n of t){if(!n)continue;if(o&&o.length>0&&!o.includes(n.id)&&n.rect.current){e.set(n.id,n.rect.current);continue}const t=n.node.current,i=t?new me(u(t),t):null;n.rect.current=i,i&&e.set(n.id,i)}return e}return e}),[t,o,i,f,u]);return(0,e.useEffect)((()=>{h.current=t}),[t]),(0,e.useEffect)((()=>{f||p()}),[i,f]),(0,e.useEffect)((()=>{o&&o.length>0&&s(null)}),[JSON.stringify(o)]),(0,e.useEffect)((()=>{f||"number"!==typeof l||null!==v.current||(v.current=setTimeout((()=>{p(),v.current=null}),l))}),[l,f,p,...r]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:null!=o}}(ae,{dragging:D,dependencies:[R.x,R.y],config:se.droppable}),pe=function(e,t){const n=null!==t?e.get(t):void 0,i=n?n.node.current:null;return x((e=>{var n;return null===t?null:null!=(n=null!=i?i:e)?n:null}),[i,t])}(I,B),ve=(0,e.useMemo)((()=>Z?L(Z):null),[Z]),ge=function(){const e=!1===(null==W?void 0:W.autoScrollEnabled),t="object"===typeof l?!1===l.enabled:!1===l,n=D&&!e&&!t;if("object"===typeof l)return{...l,enabled:n};return{enabled:n}}(),ye=function(e,t){return je(e,t)}(pe,se.draggable.measure);!function(t){let{activeNode:n,measure:i,initialRect:r,config:a=!0}=t;const o=(0,e.useRef)(!1),{x:s,y:l}="boolean"===typeof a?{x:a,y:a}:a;w((()=>{if(!s&&!l||!n)return void(o.current=!1);if(o.current||!r)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=Y(i(e),r);if(s||(t.x=0),l||(t.y=0),o.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=ne(e);n&&n.scrollBy({top:t.y,left:t.x})}}),[n,s,l,r,i])}({activeNode:B?I.get(B):null,config:ge.layoutShiftCompensation,initialRect:ye,measure:se.draggable.measure});const we=Ve(pe,se.draggable.measure,ye),Ae=Ve(pe?pe.parentElement:null),be=(0,e.useRef)({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xe=z.getNodeFor(null==(n=be.current.over)?void 0:n.id),Me=function(t){let{measure:n}=t;const[i,r]=(0,e.useState)(null),a=He({callback:(0,e.useCallback)((e=>{for(const{target:t}of e)if(m(t)){r((e=>{const i=n(t);return e?{...e,width:i.width,height:i.height}:i}));break}}),[n])}),o=(0,e.useCallback)((e=>{const t=Je(e);null==a||a.disconnect(),t&&(null==a||a.observe(t)),r(t?n(t):null)}),[n,a]),[s,l]=M(o);return(0,e.useMemo)((()=>({nodeRef:s,rect:i,setRef:l})),[i,s,l])}({measure:se.dragOverlay.measure}),ke=null!=(i=Me.nodeRef.current)?i:pe,Se=D?null!=(r=Me.rect)?r:we:null,Ee=Boolean(Me.nodeRef.current&&Me.rect),Ce=Y(Te=Ee?null:we,je(Te));var Te;const Pe=Xe(ke?p(ke):null),_e=function(t){const n=(0,e.useRef)(t),i=x((e=>t?e&&e!==Qe&&t&&n.current&&t.parentNode===n.current.parentNode?e:te(t):Qe),[t]);return(0,e.useEffect)((()=>{n.current=t}),[t]),i}(D?null!=xe?xe:pe:null),Le=function(t,n){void 0===n&&(n=$);const[i]=t,r=Xe(i?p(i):null),[a,o]=(0,e.useReducer)((function(){return t.length?t.map((e=>le(e)?r:new me(n(e),e))):Ye}),Ye),s=He({callback:o});return t.length>0&&a===Ye&&o(),w((()=>{t.length?t.forEach((e=>null==s?void 0:s.observe(e))):(null==s||s.disconnect(),o())}),[t]),a}(_e),Oe=st(g,{transform:{x:R.x-Ce.x,y:R.y-Ce.y,scaleX:1,scaleY:1},activatorEvent:Z,active:G,activeNodeRect:we,containerNodeRect:Ae,draggingNodeRect:Se,over:be.current.over,overlayNodeRect:Me.rect,scrollableAncestors:_e,scrollableAncestorRects:Le,windowRect:Pe}),De=ve?T(ve,R):null,Be=function(t){const[n,i]=(0,e.useState)(null),r=(0,e.useRef)(t),a=(0,e.useCallback)((e=>{const t=ie(e.target);t&&i((e=>e?(e.set(t,oe(t)),new Map(e)):null))}),[]);return(0,e.useEffect)((()=>{const e=r.current;if(t!==e){n(e);const o=t.map((e=>{const t=ie(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,oe(t)]):null})).filter((e=>null!=e));i(o.length?new Map(o):null),r.current=t}return()=>{n(t),n(e)};function n(e){e.forEach((e=>{const t=ie(e);null==t||t.removeEventListener("scroll",a)}))}}),[a,t]),(0,e.useMemo)((()=>t.length?n?Array.from(n.values()).reduce(((e,t)=>T(e,t)),V):de(t):V),[t,n])}(_e),Ie=We(Be),ze=We(Be,[we]),Fe=T(Oe,Ie),Ge=Se?q(Se,Oe):null,$e=G&&Ge?d({active:G,collisionRect:Ge,droppableRects:ce,droppableContainers:ae,pointerCoordinates:De}):null,et=function(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}($e,"id"),[tt,ct]=(0,e.useState)(null),ht=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Ee?Oe:T(Oe,ze),null!=(a=null==tt?void 0:tt.rect)?a:null,we),ft=(0,e.useCallback)(((e,t)=>{let{sensor:n,options:i}=t;if(null==Q.current)return;const r=I.get(Q.current);if(!r)return;const a=e.nativeEvent,o=new n({active:Q.current,activeNode:r,event:a,options:i,context:be,onStart(e){const t=Q.current;if(null==t)return;const n=I.get(t);if(!n)return;const{onDragStart:i}=ee.current,r={active:{id:t,data:n.data,rect:U}};(0,c.unstable_batchedUpdates)((()=>{null==i||i(r),O(ut.Initializing),S({type:H.DragStart,initialCoordinates:e,active:t}),C({type:"onDragStart",event:r})}))},onMove(e){S({type:H.DragMove,coordinates:e})},onEnd:s(H.DragEnd),onCancel:s(H.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:i,scrollAdjustedTranslate:r}=be.current;let o=null;if(t&&r){const{cancelDrop:s}=ee.current;if(o={activatorEvent:a,active:t,collisions:n,delta:r,over:i},e===H.DragEnd&&"function"===typeof s){await Promise.resolve(s(o))&&(e=H.DragCancel)}}Q.current=null,(0,c.unstable_batchedUpdates)((()=>{S({type:e}),O(ut.Uninitialized),ct(null),J(null),K(null);const t=e===H.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=ee.current[t];null==e||e(o),C({type:t,event:o})}}))}}(0,c.unstable_batchedUpdates)((()=>{J(o),K(e.nativeEvent)}))}),[I]),dt=(0,e.useCallback)(((e,t)=>(n,i)=>{const r=n.nativeEvent,a=I.get(i);if(null!==Q.current||!a||r.dndKit||r.defaultPrevented)return;const o={active:a};!0===e(n,t.options,o)&&(r.dndKit={capturedBy:t.sensor},Q.current=i,ft(n,t))}),[I,ft]),pt=function(t,n){return(0,e.useMemo)((()=>t.reduce(((e,t)=>{const{sensor:i}=t;return[...e,...i.activators.map((e=>({eventName:e.eventName,handler:n(e.handler,t)})))]}),[])),[t,n])}(f,dt);!function(t){(0,e.useEffect)((()=>{if(!h)return;const e=t.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const t of e)null==t||t()}}),t.map((e=>{let{sensor:t}=e;return t})))}(f),w((()=>{we&&_===ut.Initializing&&O(ut.Initialized)}),[we,_]),(0,e.useEffect)((()=>{const{onDragMove:e}=ee.current,{active:t,activatorEvent:n,collisions:i,over:r}=be.current;if(!t||!n)return;const a={active:t,activatorEvent:n,collisions:i,delta:{x:Fe.x,y:Fe.y},over:r};(0,c.unstable_batchedUpdates)((()=>{null==e||e(a),C({type:"onDragMove",event:a})}))}),[Fe.x,Fe.y]),(0,e.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:i,scrollAdjustedTranslate:r}=be.current;if(!e||null==Q.current||!t||!r)return;const{onDragOver:a}=ee.current,o=i.get(et),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:r.x,y:r.y},over:s};(0,c.unstable_batchedUpdates)((()=>{ct(s),null==a||a(l),C({type:"onDragOver",event:l})}))}),[et]),w((()=>{be.current={activatorEvent:Z,active:G,activeNode:pe,collisionRect:Ge,collisions:$e,droppableRects:ce,draggableNodes:I,draggingNode:ke,draggingNodeRect:Se,droppableContainers:z,over:tt,scrollableAncestors:_e,scrollAdjustedTranslate:Fe},U.current={initial:Se,translated:Ge}}),[G,pe,$e,Ge,I,ke,Se,ce,z,tt,_e,Fe]),Re({...ge,delta:R,draggingRect:Ge,pointerCoordinates:De,scrollableAncestors:_e,scrollableAncestorRects:Le});const vt=(0,e.useMemo)((()=>({active:G,activeNode:pe,activeNodeRect:we,activatorEvent:Z,collisions:$e,containerNodeRect:Ae,dragOverlay:Me,draggableNodes:I,droppableContainers:z,droppableRects:ce,over:tt,measureDroppableContainers:he,scrollableAncestors:_e,scrollableAncestorRects:Le,measuringConfiguration:se,measuringScheduled:fe,windowRect:Pe})),[G,pe,we,Z,$e,Ae,Me,I,z,ce,tt,he,_e,Le,se,fe,Pe]),mt=(0,e.useMemo)((()=>({activatorEvent:Z,activators:pt,active:G,activeNodeRect:we,ariaDescribedById:{draggable:re},dispatch:S,draggableNodes:I,over:tt,measureDroppableContainers:he})),[Z,pt,G,we,S,re,I,tt,he]);return e.createElement(N.Provider,{value:P},e.createElement(nt.Provider,{value:mt},e.createElement(it.Provider,{value:vt},e.createElement(lt.Provider,{value:ht},u)),e.createElement(ot,{disabled:!1===(null==s?void 0:s.restoreFocus)})),e.createElement(j,{...s,hiddenTextDescribedById:re}))})),ht=(0,e.createContext)(null),ft="button",dt="Droppable";function pt(t){let{id:n,data:i,disabled:r=!1,attributes:a}=t;const o=E(dt),{activators:s,activatorEvent:l,active:u,activeNodeRect:c,ariaDescribedById:h,draggableNodes:f,over:d}=(0,e.useContext)(nt),{role:p=ft,roleDescription:v="draggable",tabIndex:m=0}=null!=a?a:{},g=(null==u?void 0:u.id)===n,y=(0,e.useContext)(g?lt:ht),[A,x]=M(),[k,S]=M(),C=function(t,n){return(0,e.useMemo)((()=>t.reduce(((e,t)=>{let{eventName:i,handler:r}=t;return e[i]=e=>{r(e,n)},e}),{})),[t,n])}(s,n),T=b(i);w((()=>(f.set(n,{id:n,key:o,node:A,activatorNode:k,data:T}),()=>{const e=f.get(n);e&&e.key===o&&f.delete(n)})),[f,n]);return{active:u,activatorEvent:l,activeNodeRect:c,attributes:(0,e.useMemo)((()=>({role:p,tabIndex:m,"aria-disabled":r,"aria-pressed":!(!g||p!==ft)||void 0,"aria-roledescription":v,"aria-describedby":h.draggable})),[r,p,m,g,v,h.draggable]),isDragging:g,listeners:r?void 0:C,node:A,over:d,setNodeRef:x,setActivatorNodeRef:S,transform:y}}const vt="Droppable",mt={timeout:25};var gt=n(414);const yt=function(e){const{attributes:t,listeners:n,setNodeRef:i,transform:r}=pt({id:e.id}),a={transform:O.Translate.toString(r),touchAction:"none"};return(0,gt.jsx)("div",{ref:i,style:{...e.style,...a},className:e.className,...n,...t,onMouseMove:e.onMouseMove,id:e.id,children:e.children})};const wt=function(t){const{setNodeRef:n}=function(t){let{data:n,disabled:i=!1,id:r,resizeObserverConfig:a}=t;const o=E(vt),{active:s,dispatch:l,over:u,measureDroppableContainers:c}=(0,e.useContext)(nt),h=(0,e.useRef)({disabled:i}),f=(0,e.useRef)(!1),d=(0,e.useRef)(null),p=(0,e.useRef)(null),{disabled:v,updateMeasurementsFor:m,timeout:g}={...mt,...a},y=b(null!=m?m:r),A=He({callback:(0,e.useCallback)((()=>{f.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout((()=>{c(Array.isArray(y.current)?y.current:[y.current]),p.current=null}),g)):f.current=!0}),[g]),disabled:v||!s}),x=(0,e.useCallback)(((e,t)=>{A&&(t&&(A.unobserve(t),f.current=!1),e&&A.observe(e))}),[A]),[k,S]=M(x),C=b(n);return(0,e.useEffect)((()=>{A&&k.current&&(A.disconnect(),f.current=!1,A.observe(k.current))}),[k,A]),w((()=>(l({type:H.RegisterDroppable,element:{id:r,key:o,disabled:i,node:k,rect:d,data:C}}),()=>l({type:H.UnregisterDroppable,key:o,id:r}))),[r]),(0,e.useEffect)((()=>{i!==h.current.disabled&&(l({type:H.SetDroppableDisabled,id:r,key:o,disabled:i}),h.current.disabled=i)}),[r,o,i,l]),{active:s,rect:d,isOver:(null==u?void 0:u.id)===r,node:k,over:u,setNodeRef:S}}({id:t.id});return(0,gt.jsx)("div",{ref:n,style:{...t.style},className:t.className,id:t.id,data:JSON.stringify(t.data),children:t.children})},At=n.p+"static/media/pano2.8816b35d58b16465ef87.png",bt=n.p+"static/media/pano3.52a7c3f07d1b50cc907b.png",xt=n.p+"static/media/pano4.4523fc30bfa30e53186b.png",Mt=n.p+"static/media/pano5.731f3ba16a3193922491.png",kt=[{top:"19%",left:"5.6%",layer:0,presentation:{type:"video",link:n.p+"static/media/2.af0e86ddf4034c36ad28.mp4"}},{top:"64%",left:"86%",layer:0,presentation:{type:"3d",link:At}},{top:"75.8%",left:"46.8%",layer:0,presentation:{type:"3d",link:bt}},{top:"11.34%",left:"73.6%",layer:0,presentation:{type:"3d",link:xt}},{top:"30.6%",left:"21.6%",layer:0,presentation:{type:"3d",link:Mt}},{top:"25%",left:"45%",layer:0,presentation:{type:"video",link:n.p+"static/media/PineBeetleSap.a2e6e5c0b43303dc6367.mp4"}},{top:"46%",left:"70%",layer:0,presentation:{type:"video",link:n.p+"static/media/RealServer.95e50b86021084b14d5d.mp4"}}];var St,Et,Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ct.apply(this,arguments)};function Tt(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Pt(e){var t="function"===typeof Map?new Map:void 0;return Pt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return _t(e,arguments,Ht(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Nt(i,e)},Pt(e)}function _t(e,t,n){return _t=jt()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Nt(r,n.prototype),r},_t.apply(null,arguments)}function Lt(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function Ot(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Bt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(e,t)||Bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){if(e){if("string"===typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Rt(){return Rt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ht(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Rt.apply(this,arguments)}function zt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nt(e,t)}function Nt(e,t){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nt(e,t)}function Ft(e){var t=jt();return function(){var n,i=Ht(e);if(t){var r=Ht(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Qt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ut(e)}(this,n)}}function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}function Gt(e,t,n){return(t=Jt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(){Vt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new S(r||[]);return i(o,"_invoke",{value:b(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(E([])));g&&g!==t&&n.call(g,a)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==Qt(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function b(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return C()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=c(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(A.prototype),l(A.prototype,o,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new A(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Jt(i.key),i)}}function Yt(e,t,n){return t&&Xt(e.prototype,t),n&&Xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jt(e){var t=function(e,t){if("object"!==Qt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Qt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qt(t)?t:String(t)}var qt="150",Zt=0,Kt=1,$t=2,en=1,tn=2,nn=3,rn=0,an=1,on=2,sn=0,ln=1,un=2,cn=3,hn=4,fn=5,dn=100,pn=101,vn=102,mn=103,gn=104,yn=200,wn=201,An=202,bn=203,xn=204,Mn=205,kn=206,Sn=207,En=208,Cn=209,Tn=210,Pn=0,_n=1,Ln=2,On=3,Dn=4,Bn=5,In=6,Rn=7,zn=0,Nn=1,Fn=2,Un=0,jn=1,Hn=2,Gn=3,Vn=4,Qn=5,Wn=301,Xn=302,Yn=303,Jn=304,qn=306,Zn=1e3,Kn=1001,$n=1002,ei=1003,ti=1004,ni=1005,ii=1006,ri=1007,ai=1008,oi=1009,si=1010,li=1011,ui=1012,ci=1013,hi=1014,fi=1015,di=1016,pi=1017,vi=1018,mi=1020,gi=1021,yi=1023,wi=1024,Ai=1025,bi=1026,xi=1027,Mi=1028,ki=1029,Si=1030,Ei=1031,Ci=1033,Ti=33776,Pi=33777,_i=33778,Li=33779,Oi=35840,Di=35841,Bi=35842,Ii=35843,Ri=36196,zi=37492,Ni=37496,Fi=37808,Ui=37809,ji=37810,Hi=37811,Gi=37812,Vi=37813,Qi=37814,Wi=37815,Xi=37816,Yi=37817,Ji=37818,qi=37819,Zi=37820,Ki=37821,$i=36492,er=36283,tr=36284,nr=36285,ir=36286,rr=3e3,ar=3001,or=3201,sr=0,lr=1,ur="srgb",cr="srgb-linear",hr="display-p3",fr=7680,dr="300 es",pr=1035,vr=function(){function e(){Wt(this,e)}return Yt(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e);e.target=null}}}}]),e}(),mr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],gr=1234567,yr=Math.PI/180,wr=180/Math.PI;function Ar(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(mr[255&e]+mr[e>>8&255]+mr[e>>16&255]+mr[e>>24&255]+"-"+mr[255&t]+mr[t>>8&255]+"-"+mr[t>>16&15|64]+mr[t>>24&255]+"-"+mr[63&n|128]+mr[n>>8&255]+"-"+mr[n>>16&255]+mr[n>>24&255]+mr[255&i]+mr[i>>8&255]+mr[i>>16&255]+mr[i>>24&255]).toLowerCase()}function br(e,t,n){return Math.max(t,Math.min(n,e))}function xr(e,t){return(e%t+t)%t}function Mr(e,t,n){return(1-n)*e+n*t}function kr(e){return 0===(e&e-1)&&0!==e}function Sr(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Er(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Cr(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Tr={DEG2RAD:yr,RAD2DEG:wr,generateUUID:Ar,clamp:br,euclideanModulo:xr,mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Mr,damp:function(e,t,n,i){return Mr(e,t,1-Math.exp(-n*i))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(xr(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(gr=e);var t=gr+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*yr},radToDeg:function(e){return e*wr},isPowerOfTwo:kr,ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:Sr,setQuaternionFromProperEuler:function(e,t,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+i)/2),c=o((t+i)/2),h=a((t-i)/2),f=o((t-i)/2),d=a((i-t)/2),p=o((i-t)/2);switch(r){case"XYX":e.set(s*c,l*h,l*f,s*u);break;case"YZY":e.set(l*f,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*f,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*d,s*u);break;case"YXY":e.set(l*d,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*d,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:Cr,denormalize:Er},Pr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Wt(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return Yt(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:Vt().mark((function e(){return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),_r=function(){function e(){Wt(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return Yt(e,[{key:"set",value:function(e,t,n,i,r,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],f=n[5],d=n[8],p=i[0],v=i[3],m=i[6],g=i[1],y=i[4],w=i[7],A=i[2],b=i[5],x=i[8];return r[0]=a*p+o*g+s*A,r[3]=a*v+o*y+s*b,r[6]=a*m+o*w+s*x,r[1]=l*p+u*g+c*A,r[4]=l*v+u*y+c*b,r[7]=l*m+u*w+c*x,r[2]=h*p+f*g+d*A,r[5]=h*v+f*y+d*b,r[8]=h*m+f*w+d*x,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*r*u+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*r,f=l*r-a*s,d=t*c+n*h+i*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return e[0]=c*p,e[1]=(i*l-u*n)*p,e[2]=(o*n-i*a)*p,e[3]=h*p,e[4]=(u*t-i*s)*p,e[5]=(i*r-o*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*r)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(Lr.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(Lr.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(Lr.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),Lr=new _r;function Or(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function Dr(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var Br=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Wt(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}return Yt(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(i/2),c=o(r/2),h=s(n/2),f=s(i/2),d=s(r/2);switch(a){case"XYZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"YXZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"ZXY":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"ZYX":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"YZX":this._x=h*u*c+l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c-h*f*d;break;case"XZY":this._x=h*u*c-l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-s)*f,this._y=(r-l)*f,this._z=(a-i)*f}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(u-s)/d,this._x=.25*d,this._y=(i+a)/d,this._z=(r+l)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(r-l)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-i)/v,this._x=(r+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(br(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var i=Math.min(1,t/n);return this.slerp(e,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+i*l-r*s,this._y=i*u+a*s+r*o-n*l,this._z=r*u+a*l+n*s-i*o,this._w=a*u-n*o-i*s-r*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*i+t*this._y,this._z=l*r+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._w=a*h+this._w*f,this._x=n*h+this._x*f,this._y=i*h+this._y*f,this._z=r*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(r),n*Math.cos(r),t*Math.sin(i))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Vt().mark((function e(){return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,i,r,a,o){var s=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[a+0],f=r[a+1],d=r[a+2],p=r[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(c!==p||s!==h||l!==f||u!==d){var v=1-o,m=s*h+l*f+u*d+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var w=Math.sqrt(y),A=Math.atan2(w,m*g);v=Math.sin(v*A)/w,o=Math.sin(o*A)/w}var b=o*g;if(s=s*v+h*b,l=l*v+f*b,u=u*v+d*b,c=c*v+p*b,v===1-o){var x=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=x,l*=x,u*=x,c*=x}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],u=n[i+3],c=r[a],h=r[a+1],f=r[a+2],d=r[a+3];return e[t]=o*d+u*c+s*f-l*h,e[t+1]=s*d+u*h+l*c-o*f,e[t+2]=l*d+u*f+o*h-s*c,e[t+3]=u*d-o*c-s*h-l*f,e}}]),t}(),Ir=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Wt(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}return Yt(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(zr.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(zr.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*i-o*n,u=s*n+o*t-r*i,c=s*i+r*n-a*t,h=-r*t-a*n-o*i;return this.x=l*s+h*-r+u*-o-c*-a,this.y=u*s+h*-a+c*-r-l*-o,this.z=c*s+h*-o+l*-a-u*-r,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,i=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Rr.copy(this).projectOnVector(e),this.sub(Rr)}},{key:"reflect",value:function(e){return this.sub(Rr.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(br(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:Vt().mark((function e(){return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Rr=new Ir,zr=new Br;function Nr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Fr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Ur=(new _r).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),jr=(new _r).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),Hr=new Ir;var Gr,Vr=(Gt(St={},cr,(function(e){return e})),Gt(St,ur,(function(e){return e.convertSRGBToLinear()})),Gt(St,hr,(function(e){return e.convertSRGBToLinear(),Hr.set(e.r,e.g,e.b).applyMatrix3(jr),e.setRGB(Hr.x,Hr.y,Hr.z)})),St),Qr=(Gt(Et={},cr,(function(e){return e})),Gt(Et,ur,(function(e){return e.convertLinearToSRGB()})),Gt(Et,hr,(function(e){return Hr.set(e.r,e.g,e.b).applyMatrix3(Ur),e.setRGB(Hr.x,Hr.y,Hr.z).convertLinearToSRGB()})),Et),Wr={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return cr},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var i=Vr[t],r=Qr[n];if(void 0===i||void 0===r)throw new Error('Unsupported color space conversion, "'.concat(t,'" to "').concat(n,'".'));return r(i(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Xr=function(){function e(){Wt(this,e)}return Yt(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Gr&&(Gr=Dr("canvas")),Gr.width=e.width,Gr.height=e.height;var n=Gr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Gr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=Dr("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var i=n.getImageData(0,0,e.width,e.height),r=i.data,a=0;a<r.length;a++)r[a]=255*Nr(r[a]/255);return n.putImageData(i,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*Nr(o[s]/255)):o[s]=Nr(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Yr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Wt(this,e),this.isSource=!0,this.uuid=Ar(),this.data=t,this.version=0}return Yt(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},i=this.data;if(null!==i){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)i[a].isDataTexture?r.push(Jr(i[a].image)):r.push(Jr(i[a]))}else r=Jr(i);n.url=r}return t||(e.images[this.uuid]=n),n}}]),e}();function Jr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Xr.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var qr=0,Zr=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kn,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kn,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ii,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ai,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yi,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:oi,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:rr;return Wt(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(Ut(e),"id",{value:qr++}),e.uuid=Ar(),e.name="",e.source=new Yr(i),e.mipmaps=[],e.mapping=r,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=h,e.format=u,e.internalFormat=null,e.type=c,e.offset=new Pr(0,0),e.repeat=new Pr(1,1),e.center=new Pr(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new _r,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return Yt(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Zn:e.x=e.x-Math.floor(e.x);break;case Kn:e.x=e.x<0?0:1;break;case $n:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Zn:e.y=e.y-Math.floor(e.y);break;case Kn:e.y=e.y<0?0:1;break;case $n:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(vr);Zr.DEFAULT_IMAGE=null,Zr.DEFAULT_MAPPING=300,Zr.DEFAULT_ANISOTROPY=1;var Kr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Wt(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}return Yt(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,i,r,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],f=s[5],d=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(d-v)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(d+v)<o&&Math.abs(l+f+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(f+1)/2,w=(m+1)/2,A=(u+h)/4,b=(c+p)/4,x=(d+v)/4;return g>y&&g>w?g<a?(n=0,i=.707106781,r=.707106781):(i=A/(n=Math.sqrt(g)),r=b/n):y>w?y<a?(n=.707106781,i=0,r=.707106781):(n=A/(i=Math.sqrt(y)),r=x/i):w<a?(n=.707106781,i=.707106781,r=0):(n=b/(r=Math.sqrt(w)),i=x/r),this.set(n,i,r,t),this}var M=Math.sqrt((v-d)*(v-d)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(M)<.001&&(M=1),this.x=(v-d)/M,this.y=(c-p)/M,this.z=(h-u)/M,this.w=Math.acos((l+f+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:Vt().mark((function e(){return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),$r=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Wt(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=i,e.height=r,e.depth=1,e.scissor=new Kr(0,0,i,r),e.scissorTest=!1,e.viewport=new Kr(0,0,i,r);var o={width:i,height:r,depth:1};return e.texture=new Zr(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:ii,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return Yt(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Yr(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(vr),ea=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Wt(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:i,width:r,height:a,depth:o},e.magFilter=ei,e.minFilter=ei,e.wrapR=Kn,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Yt(n)}(Zr),ta=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Wt(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:i,width:r,height:a,depth:o},e.magFilter=ei,e.minFilter=ei,e.wrapR=Kn,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Yt(n)}(Zr),na=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir(-1/0,-1/0,-1/0);Wt(this,e),this.isBox3=!0,this.min=t,this.max=n}return Yt(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=ra.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var i=n.attributes.position,r=0,a=i.count;r<a;r++)ra.fromBufferAttribute(i,r).applyMatrix4(e.matrixWorld),this.expandByPoint(ra);else null===n.boundingBox&&n.computeBoundingBox(),aa.copy(n.boundingBox),aa.applyMatrix4(e.matrixWorld),this.union(aa);for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,ra),ra.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(fa),da.subVectors(this.max,fa),oa.subVectors(e.a,fa),sa.subVectors(e.b,fa),la.subVectors(e.c,fa),ua.subVectors(sa,oa),ca.subVectors(la,sa),ha.subVectors(oa,la);var t=[0,-ua.z,ua.y,0,-ca.z,ca.y,0,-ha.z,ha.y,ua.z,0,-ua.x,ca.z,0,-ca.x,ha.z,0,-ha.x,-ua.y,ua.x,0,-ca.y,ca.x,0,-ha.y,ha.x,0];return!!ma(t,oa,sa,la,da)&&(!!ma(t=[1,0,0,0,1,0,0,0,1],oa,sa,la,da)&&(pa.crossVectors(ua,ca),ma(t=[pa.x,pa.y,pa.z],oa,sa,la,da)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,ra).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(ra).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(ia[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ia[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ia[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ia[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ia[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ia[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ia[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ia[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ia)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),ia=[new Ir,new Ir,new Ir,new Ir,new Ir,new Ir,new Ir,new Ir],ra=new Ir,aa=new na,oa=new Ir,sa=new Ir,la=new Ir,ua=new Ir,ca=new Ir,ha=new Ir,fa=new Ir,da=new Ir,pa=new Ir,va=new Ir;function ma(e,t,n,i,r){for(var a=0,o=e.length-3;a<=o;a+=3){va.fromArray(e,a);var s=r.x*Math.abs(va.x)+r.y*Math.abs(va.y)+r.z*Math.abs(va.z),l=t.dot(va),u=n.dot(va),c=i.dot(va);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var ga=new na,ya=new Ir,wa=new Ir,Aa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Wt(this,e),this.center=t,this.radius=n}return Yt(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):ga.setFromPoints(e).getCenter(n);for(var i=0,r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ya.subVectors(e,this.center);var t=ya.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),i=.5*(n-this.radius);this.center.addScaledVector(ya,i/n),this.radius+=i}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(wa.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ya.copy(e.center).add(wa)),this.expandByPoint(ya.copy(e.center).sub(wa))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ba=new Ir,xa=new Ir,Ma=new Ir,ka=new Ir,Sa=new Ir,Ea=new Ir,Ca=new Ir,Ta=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir(0,0,-1);Wt(this,e),this.origin=t,this.direction=n}return Yt(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,ba)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=ba.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ba.copy(this.origin).addScaledVector(this.direction,t),ba.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,i){xa.copy(e).add(t).multiplyScalar(.5),Ma.copy(t).sub(e).normalize(),ka.copy(this.origin).sub(xa);var r,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Ma),c=ka.dot(this.direction),h=-ka.dot(Ma),f=ka.lengthSq(),d=Math.abs(1-u*u);if(d>0)if(a=u*c-h,s=l*d,(r=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(r*=p)*(r+u*(a*=p)+2*c)+a*(u*r+a+2*h)+f}else a=l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;else a=-l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;else a<=-s?o=-(r=Math.max(0,-(-u*l+c)))*r+(a=r>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+f):o=-(r=Math.max(0,-(u*l+c)))*r+(a=r>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f;else a=u>0?-l:l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,r),i&&i.copy(xa).addScaledVector(Ma,a),o}},{key:"intersectSphere",value:function(e,t){ba.subVectors(e.center,this.origin);var n=ba.dot(this.direction),i=ba.dot(ba)-n*n,r=e.radius*e.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,i,r,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),u>=0?(r=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(r=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),n>a||r>i?null:((r>n||isNaN(n))&&(n=r),(a<i||isNaN(i))&&(i=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>i?null:((o>n||n!==n)&&(n=o),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,ba)}},{key:"intersectTriangle",value:function(e,t,n,i,r){Sa.subVectors(t,e),Ea.subVectors(n,e),Ca.crossVectors(Sa,Ea);var a,o=this.direction.dot(Ca);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ka.subVectors(this.origin,e);var s=a*this.direction.dot(Ea.crossVectors(ka,Ea));if(s<0)return null;var l=a*this.direction.dot(Sa.cross(ka));if(l<0)return null;if(s+l>o)return null;var u=-a*ka.dot(Ca);return u<0?null:this.at(u/o,r)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Pa=function(){function e(){Wt(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return Yt(e,[{key:"set",value:function(e,t,n,i,r,a,o,s,l,u,c,h,f,d,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=i,m[1]=r,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=f,m[7]=d,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,i=1/_a.setFromMatrixColumn(e,0).length(),r=1/_a.setFromMatrixColumn(e,1).length(),a=1/_a.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){var h=a*u,f=a*c,d=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=f+d*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=d+f*l,t[10]=a*s}else if("YXZ"===e.order){var v=s*u,m=s*c,g=l*u,y=l*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var w=s*u,A=s*c,b=l*u,x=l*c;t[0]=w-x*o,t[4]=-a*c,t[8]=b+A*o,t[1]=A+b*o,t[5]=a*u,t[9]=x-w*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var M=a*u,k=a*c,S=o*u,E=o*c;t[0]=s*u,t[4]=S*l-k,t[8]=M*l+E,t[1]=s*c,t[5]=E*l+M,t[9]=k*l-S,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var C=a*s,T=a*l,P=o*s,_=o*l;t[0]=s*u,t[4]=_-C*c,t[8]=P*c+T,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=T*c+P,t[10]=C-_*c}else if("XZY"===e.order){var L=a*s,O=a*l,D=o*s,B=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=L*c+B,t[5]=a*u,t[9]=O*c-D,t[2]=D*c-O,t[6]=o*u,t[10]=B*c+L}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Oa,e,Da)}},{key:"lookAt",value:function(e,t,n){var i=this.elements;return Ra.subVectors(e,t),0===Ra.lengthSq()&&(Ra.z=1),Ra.normalize(),Ba.crossVectors(n,Ra),0===Ba.lengthSq()&&(1===Math.abs(n.z)?Ra.x+=1e-4:Ra.z+=1e-4,Ra.normalize(),Ba.crossVectors(n,Ra)),Ba.normalize(),Ia.crossVectors(Ra,Ba),i[0]=Ba.x,i[4]=Ia.x,i[8]=Ra.x,i[1]=Ba.y,i[5]=Ia.y,i[9]=Ra.y,i[2]=Ba.z,i[6]=Ia.z,i[10]=Ra.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],f=n[13],d=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],w=n[11],A=n[15],b=i[0],x=i[4],M=i[8],k=i[12],S=i[1],E=i[5],C=i[9],T=i[13],P=i[2],_=i[6],L=i[10],O=i[14],D=i[3],B=i[7],I=i[11],R=i[15];return r[0]=a*b+o*S+s*P+l*D,r[4]=a*x+o*E+s*_+l*B,r[8]=a*M+o*C+s*L+l*I,r[12]=a*k+o*T+s*O+l*R,r[1]=u*b+c*S+h*P+f*D,r[5]=u*x+c*E+h*_+f*B,r[9]=u*M+c*C+h*L+f*I,r[13]=u*k+c*T+h*O+f*R,r[2]=d*b+p*S+v*P+m*D,r[6]=d*x+p*E+v*_+m*B,r[10]=d*M+p*C+v*L+m*I,r[14]=d*k+p*T+v*O+m*R,r[3]=g*b+y*S+w*P+A*D,r[7]=g*x+y*E+w*_+A*B,r[11]=g*M+y*C+w*L+A*I,r[15]=g*k+y*T+w*O+A*R,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+r*s*c-i*l*c-r*o*h+n*l*h+i*o*f-n*s*f)+e[7]*(+t*s*f-t*l*h+r*a*h-i*a*f+i*l*u-r*s*u)+e[11]*(+t*l*c-t*o*f-r*a*c+n*a*f+r*o*u-n*l*u)+e[15]*(-i*o*u-t*s*c+t*o*h+i*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],m=e[15],g=c*v*l-p*h*l+p*s*f-o*v*f-c*s*m+o*h*m,y=d*h*l-u*v*l-d*s*f+a*v*f+u*s*m-a*h*m,w=u*p*l-d*c*l+d*o*f-a*p*f-u*o*m+a*c*m,A=d*c*s-u*p*s-d*o*h+a*p*h+u*o*v-a*c*v,b=t*g+n*y+i*w+r*A;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/b;return e[0]=g*x,e[1]=(p*h*r-c*v*r-p*i*f+n*v*f+c*i*m-n*h*m)*x,e[2]=(o*v*r-p*s*r+p*i*l-n*v*l-o*i*m+n*s*m)*x,e[3]=(c*s*r-o*h*r-c*i*l+n*h*l+o*i*f-n*s*f)*x,e[4]=y*x,e[5]=(u*v*r-d*h*r+d*i*f-t*v*f-u*i*m+t*h*m)*x,e[6]=(d*s*r-a*v*r-d*i*l+t*v*l+a*i*m-t*s*m)*x,e[7]=(a*h*r-u*s*r+u*i*l-t*h*l-a*i*f+t*s*f)*x,e[8]=w*x,e[9]=(d*c*r-u*p*r-d*n*f+t*p*f+u*n*m-t*c*m)*x,e[10]=(a*p*r-d*o*r+d*n*l-t*p*l-a*n*m+t*o*m)*x,e[11]=(u*o*r-a*c*r-u*n*l+t*c*l+a*n*f-t*o*f)*x,e[12]=A*x,e[13]=(u*p*i-d*c*i+d*n*h-t*p*h-u*n*v+t*c*v)*x,e[14]=(d*o*i-a*p*i-d*n*s+t*p*s+a*n*v-t*o*v)*x,e[15]=(a*c*i-u*o*i+u*n*s-t*c*s-a*n*h+t*o*h)*x,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,o=e.y,s=e.z,l=r*a,u=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,u*o+n,u*s-i*a,0,l*s-i*o,u*s+i*a,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,i,r,a){return this.set(1,n,r,0,e,1,a,0,t,i,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var i=this.elements,r=t._x,a=t._y,o=t._z,s=t._w,l=r+r,u=a+a,c=o+o,h=r*l,f=r*u,d=r*c,p=a*u,v=a*c,m=o*c,g=s*l,y=s*u,w=s*c,A=n.x,b=n.y,x=n.z;return i[0]=(1-(p+m))*A,i[1]=(f+w)*A,i[2]=(d-y)*A,i[3]=0,i[4]=(f-w)*b,i[5]=(1-(h+m))*b,i[6]=(v+g)*b,i[7]=0,i[8]=(d+y)*x,i[9]=(v-g)*x,i[10]=(1-(h+p))*x,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}},{key:"decompose",value:function(e,t,n){var i=this.elements,r=_a.set(i[0],i[1],i[2]).length(),a=_a.set(i[4],i[5],i[6]).length(),o=_a.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],La.copy(this);var s=1/r,l=1/a,u=1/o;return La.elements[0]*=s,La.elements[1]*=s,La.elements[2]*=s,La.elements[4]*=l,La.elements[5]*=l,La.elements[6]*=l,La.elements[8]*=u,La.elements[9]*=u,La.elements[10]*=u,t.setFromRotationMatrix(La),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,i,r,a){var o=this.elements,s=2*r/(t-e),l=2*r/(n-i),u=(t+e)/(t-e),c=(n+i)/(n-i),h=-(a+r)/(a-r),f=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,i,r,a){var o=this.elements,s=1/(t-e),l=1/(n-i),u=1/(a-r),c=(t+e)*s,h=(n+i)*l,f=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),_a=new Ir,La=new Pa,Oa=new Ir(0,0,0),Da=new Ir(1,1,1),Ba=new Ir,Ia=new Ir,Ra=new Ir,za=new Pa,Na=new Br,Fa=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;Wt(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}return Yt(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.elements,r=i[0],a=i[4],o=i[8],s=i[1],l=i[5],u=i[9],c=i[2],h=i[6],f=i[10];switch(t){case"XYZ":this._y=Math.asin(br(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-br(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin(br(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-br(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(br(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-br(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return za.makeRotationFromQuaternion(e),this.setFromRotationMatrix(za,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Na.setFromEuler(this),this.setFromQuaternion(Na,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Vt().mark((function e(){return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();Fa.DEFAULT_ORDER="XYZ";var Ua=function(){function e(){Wt(this,e),this.mask=1}return Yt(e,[{key:"set",value:function(e){this.mask=1<<e>>>0}},{key:"enable",value:function(e){this.mask|=1<<e}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e}},{key:"disable",value:function(e){this.mask&=~(1<<e)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&1<<e)}}]),e}(),ja=0,Ha=new Ir,Ga=new Br,Va=new Pa,Qa=new Ir,Wa=new Ir,Xa=new Ir,Ya=new Br,Ja=new Ir(1,0,0),qa=new Ir(0,1,0),Za=new Ir(0,0,1),Ka={type:"added"},$a={type:"removed"},eo=function(e){zt(n,e);var t=Ft(n);function n(){var e;Wt(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(Ut(e),"id",{value:ja++}),e.uuid=Ar(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var i=new Ir,r=new Fa,a=new Br,o=new Ir(1,1,1);return r._onChange((function(){a.setFromEuler(r,!1)})),a._onChange((function(){r.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(Ut(e),{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Pa},normalMatrix:{value:new _r}}),e.matrix=new Pa,e.matrixWorld=new Pa,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new Ua,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return Yt(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Ga.setFromAxisAngle(e,t),this.quaternion.multiply(Ga),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Ga.setFromAxisAngle(e,t),this.quaternion.premultiply(Ga),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Ja,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(qa,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Za,e)}},{key:"translateOnAxis",value:function(e,t){return Ha.copy(e).applyQuaternion(this.quaternion),this.position.add(Ha.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Ja,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(qa,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Za,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Va.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Qa.copy(e):Qa.set(e,t,n);var i=this.parent;this.updateWorldMatrix(!0,!1),Wa.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Va.lookAt(Wa,Qa,this.up):Va.lookAt(Qa,Wa,this.up),this.quaternion.setFromRotationMatrix(Va),i&&(Va.extractRotation(i.matrixWorld),Ga.setFromRotationMatrix(Va),this.quaternion.premultiply(Ga.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ka)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent($a)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent($a)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Va.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Va.multiply(e.parent.matrixWorld)),e.applyMatrix4(Va),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var i=0,r=this.children.length;i<r;i++){var a=this.children[i].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wa,e,Xa),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wa,Ya,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++){var r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,r=0,a=i.length;r<a;r++){var o=i[r];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];r(e.shapes,u)}else r(e.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,f=this.material.length;h<f;h++)c.push(r(e.materials,this.material[h]));i.material=c}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(var d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];i.animations.push(r(e.animations,v))}}if(t){var m=k(e.geometries),g=k(e.materials),y=k(e.textures),w=k(e.images),A=k(e.shapes),b=k(e.skeletons),x=k(e.animations),M=k(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),w.length>0&&(n.images=w),A.length>0&&(n.shapes=A),b.length>0&&(n.skeletons=b),x.length>0&&(n.animations=x),M.length>0&&(n.nodes=M)}return n.object=i,n;function k(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}]),n}(vr);eo.DEFAULT_UP=new Ir(0,1,0),eo.DEFAULT_MATRIX_AUTO_UPDATE=!0,eo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var to=new Ir,no=new Ir,io=new Ir,ro=new Ir,ao=new Ir,oo=new Ir,so=new Ir,lo=new Ir,uo=new Ir,co=new Ir,ho=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ir;Wt(this,e),this.a=t,this.b=n,this.c=i}return Yt(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return to.subVectors(this.c,this.b),no.subVectors(this.a,this.b),.5*to.cross(no).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,i,r,a){return e.getUV(t,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,i,r=this.a,a=this.b,o=this.c;ao.subVectors(a,r),oo.subVectors(o,r),lo.subVectors(e,r);var s=ao.dot(lo),l=oo.dot(lo);if(s<=0&&l<=0)return t.copy(r);uo.subVectors(e,a);var u=ao.dot(uo),c=oo.dot(uo);if(u>=0&&c<=u)return t.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(r).addScaledVector(ao,n);co.subVectors(e,o);var f=ao.dot(co),d=oo.dot(co);if(d>=0&&f<=d)return t.copy(o);var p=f*l-s*d;if(p<=0&&l>=0&&d<=0)return i=l/(l-d),t.copy(r).addScaledVector(oo,i);var v=u*d-f*c;if(v<=0&&c-u>=0&&f-d>=0)return so.subVectors(o,a),i=(c-u)/(c-u+(f-d)),t.copy(a).addScaledVector(so,i);var m=1/(v+p+h);return n=p*m,i=h*m,t.copy(r).addScaledVector(ao,n).addScaledVector(oo,i)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,i){i.subVectors(n,t),to.subVectors(e,t),i.cross(to);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,i,r){to.subVectors(i,t),no.subVectors(n,t),io.subVectors(e,t);var a=to.dot(to),o=to.dot(no),s=to.dot(io),l=no.dot(no),u=no.dot(io),c=a*l-o*o;if(0===c)return r.set(-2,-1,-1);var h=1/c,f=(l*s-o*u)*h,d=(a*u-o*s)*h;return r.set(1-f-d,d,f)}},{key:"containsPoint",value:function(e,t,n,i){return this.getBarycoord(e,t,n,i,ro),ro.x>=0&&ro.y>=0&&ro.x+ro.y<=1}},{key:"getUV",value:function(e,t,n,i,r,a,o,s){return this.getBarycoord(e,t,n,i,ro),s.set(0,0),s.addScaledVector(r,ro.x),s.addScaledVector(a,ro.y),s.addScaledVector(o,ro.z),s}},{key:"isFrontFacing",value:function(e,t,n,i){return to.subVectors(n,t),no.subVectors(e,t),to.cross(no).dot(i)<0}}]),e}(),fo=0,po=function(e){zt(n,e);var t=Ft(n);function n(){var e;return Wt(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(Ut(e),"id",{value:fo++}),e.uuid=Ar(),e.name="",e.type="Material",e.blending=ln,e.side=rn,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=xn,e.blendDst=Mn,e.blendEquation=dn,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=On,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=fr,e.stencilZFail=fr,e.stencilZPass=fr,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return Yt(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==ln&&(n.blending=this.blending),this.side!==rn&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var r=i(e.textures),a=i(e.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(vr),vo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mo={h:0,s:0,l:0},go={h:0,s:0,l:0};function yo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var wo=function(e){function t(e,n,i){return Wt(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===i?this.set(e):this.setRGB(e,n,i)}return Yt(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ur;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Wr.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Wr.workingColorSpace;return this.r=e,this.g=t,this.b=n,Wr.toWorkingColorSpace(this,i),this}},{key:"setHSL",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Wr.workingColorSpace;if(e=xr(e,1),t=br(t,0,1),n=br(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,a=2*n-r;this.r=yo(a,r,e+1/3),this.g=yo(a,r,e),this.b=yo(a,r,e-1/3)}return Wr.toWorkingColorSpace(this,i),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ur;function i(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var r,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,Wr.toWorkingColorSpace(this,n),i(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,Wr.toWorkingColorSpace(this,n),i(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(r[1])/360,l=parseFloat(r[2])/100,u=parseFloat(r[3])/100;return i(r[4]),this.setHSL(s,l,u,n)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,Wr.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,Wr.toWorkingColorSpace(this,n),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ur,n=vo[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=Nr(e.r),this.g=Nr(e.g),this.b=Nr(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Fr(e.r),this.g=Fr(e.g),this.b=Fr(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur;return Wr.fromWorkingColorSpace(Ao.copy(this),e),br(255*Ao.r,0,255)<<16^br(255*Ao.g,0,255)<<8^br(255*Ao.b,0,255)}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wr.workingColorSpace;Wr.fromWorkingColorSpace(Ao.copy(this),t);var n,i,r=Ao.r,a=Ao.g,o=Ao.b,s=Math.max(r,a,o),l=Math.min(r,a,o),u=(l+s)/2;if(l===s)n=0,i=0;else{var c=s-l;switch(i=u<=.5?c/(s+l):c/(2-s-l),s){case r:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-r)/c+2;break;case o:n=(r-a)/c+4}n/=6}return e.h=n,e.s=i,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wr.workingColorSpace;return Wr.fromWorkingColorSpace(Ao.copy(this),t),e.r=Ao.r,e.g=Ao.g,e.b=Ao.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur;Wr.fromWorkingColorSpace(Ao.copy(this),e);var t=Ao.r,n=Ao.g,i=Ao.b;return e!==ur?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(i.toFixed(3),")"):"rgb(".concat(255*t|0,",").concat(255*n|0,",").concat(255*i|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(mo),mo.h+=e,mo.s+=t,mo.l+=n,this.setHSL(mo.h,mo.s,mo.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(mo),e.getHSL(go);var n=Mr(mo.h,go.h,t),i=Mr(mo.s,go.s,t),r=Mr(mo.l,go.l,t);return this.setHSL(n,i,r),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:Vt().mark((function e(){return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Ao=new wo;wo.NAMES=vo;var bo=function(e){zt(n,e);var t=Ft(n);function n(e){var i;return Wt(this,n),(i=t.call(this)).isMeshBasicMaterial=!0,i.type="MeshBasicMaterial",i.color=new wo(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=zn,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.fog=!0,i.setValues(e),i}return Yt(n,[{key:"copy",value:function(e){return Rt(Ht(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(po),xo=new Ir,Mo=new Pr,ko=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Wt(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}return Yt(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Mo.fromBufferAttribute(this,t),Mo.applyMatrix3(e),this.setXY(t,Mo.x,Mo.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)xo.fromBufferAttribute(this,i),xo.applyMatrix3(e),this.setXYZ(i,xo.x,xo.y,xo.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)xo.fromBufferAttribute(this,t),xo.applyMatrix4(e),this.setXYZ(t,xo.x,xo.y,xo.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)xo.fromBufferAttribute(this,t),xo.applyNormalMatrix(e),this.setXYZ(t,xo.x,xo.y,xo.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)xo.fromBufferAttribute(this,t),xo.transformDirection(e),this.setXYZ(t,xo.x,xo.y,xo.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=Er(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Cr(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=Er(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Cr(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=Er(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Cr(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=Er(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Cr(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Cr(t,this.array),n=Cr(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Cr(t,this.array),n=Cr(n,this.array),i=Cr(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}},{key:"setXYZW",value:function(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Cr(t,this.array),n=Cr(n,this.array),i=Cr(i,this.array),r=Cr(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),So=function(e){zt(n,e);var t=Ft(n);function n(e,i,r){return Wt(this,n),t.call(this,new Uint16Array(e),i,r)}return Yt(n)}(ko),Eo=function(e){zt(n,e);var t=Ft(n);function n(e,i,r){return Wt(this,n),t.call(this,new Uint32Array(e),i,r)}return Yt(n)}(ko),Co=function(e){zt(n,e);var t=Ft(n);function n(e,i,r){return Wt(this,n),t.call(this,new Float32Array(e),i,r)}return Yt(n)}(ko),To=0,Po=new Pa,_o=new eo,Lo=new Ir,Oo=new na,Do=new na,Bo=new Ir,Io=function(e){zt(n,e);var t=Ft(n);function n(){var e;return Wt(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(Ut(e),"id",{value:To++}),e.uuid=Ar(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return Yt(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Or(e)?Eo:So)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new _r).getNormalMatrix(e);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Po.makeRotationFromQuaternion(e),this.applyMatrix4(Po),this}},{key:"rotateX",value:function(e){return Po.makeRotationX(e),this.applyMatrix4(Po),this}},{key:"rotateY",value:function(e){return Po.makeRotationY(e),this.applyMatrix4(Po),this}},{key:"rotateZ",value:function(e){return Po.makeRotationZ(e),this.applyMatrix4(Po),this}},{key:"translate",value:function(e,t,n){return Po.makeTranslation(e,t,n),this.applyMatrix4(Po),this}},{key:"scale",value:function(e,t,n){return Po.makeScale(e,t,n),this.applyMatrix4(Po),this}},{key:"lookAt",value:function(e){return _o.lookAt(e),_o.updateMatrix(),this.applyMatrix4(_o.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lo).negate(),this.translate(Lo.x,Lo.y,Lo.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Co(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new na);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ir(-1/0,-1/0,-1/0),new Ir(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var r=t[n];Oo.setFromBufferAttribute(r),this.morphTargetsRelative?(Bo.addVectors(this.boundingBox.min,Oo.min),this.boundingBox.expandByPoint(Bo),Bo.addVectors(this.boundingBox.max,Oo.max),this.boundingBox.expandByPoint(Bo)):(this.boundingBox.expandByPoint(Oo.min),this.boundingBox.expandByPoint(Oo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Aa);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ir,1/0);if(e){var n=this.boundingSphere.center;if(Oo.setFromBufferAttribute(e),t)for(var i=0,r=t.length;i<r;i++){var a=t[i];Do.setFromBufferAttribute(a),this.morphTargetsRelative?(Bo.addVectors(Oo.min,Do.min),Oo.expandByPoint(Bo),Bo.addVectors(Oo.max,Do.max),Oo.expandByPoint(Bo)):(Oo.expandByPoint(Do.min),Oo.expandByPoint(Do.max))}Oo.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)Bo.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(Bo));if(t)for(var u=0,c=t.length;u<c;u++)for(var h=t[u],f=this.morphTargetsRelative,d=0,p=h.count;d<p;d++)Bo.fromBufferAttribute(h,d),f&&(Lo.fromBufferAttribute(e,d),Bo.add(Lo)),o=Math.max(o,n.distanceToSquared(Bo));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,i=t.position.array,r=t.normal.array,a=t.uv.array,o=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ko(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new Ir,u[c]=new Ir;var h=new Ir,f=new Ir,d=new Ir,p=new Pr,v=new Pr,m=new Pr,g=new Ir,y=new Ir,w=this.groups;0===w.length&&(w=[{start:0,count:n.length}]);for(var A=0,b=w.length;A<b;++A)for(var x=w[A],M=x.start,k=M,S=M+x.count;k<S;k+=3)R(n[k+0],n[k+1],n[k+2]);for(var E=new Ir,C=new Ir,T=new Ir,P=new Ir,_=0,L=w.length;_<L;++_)for(var O=w[_],D=O.start,B=D,I=D+O.count;B<I;B+=3)z(n[B+0]),z(n[B+1]),z(n[B+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function R(e,t,n){h.fromArray(i,3*e),f.fromArray(i,3*t),d.fromArray(i,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),f.sub(h),d.sub(h),v.sub(p),m.sub(p);var r=1/(v.x*m.y-m.x*v.y);isFinite(r)&&(g.copy(f).multiplyScalar(m.y).addScaledVector(d,-v.y).multiplyScalar(r),y.copy(d).multiplyScalar(v.x).addScaledVector(f,-m.x).multiplyScalar(r),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function z(e){T.fromArray(r,3*e),P.copy(T);var t=l[e];E.copy(t),E.sub(T.multiplyScalar(T.dot(t))).normalize(),C.crossVectors(P,t);var n=C.dot(u[e])<0?-1:1;s[4*e]=E.x,s[4*e+1]=E.y,s[4*e+2]=E.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new ko(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new Ir,o=new Ir,s=new Ir,l=new Ir,u=new Ir,c=new Ir,h=new Ir,f=new Ir;if(e)for(var d=0,p=e.count;d<p;d+=3){var v=e.getX(d+0),m=e.getX(d+1),g=e.getX(d+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,w=t.count;y<w;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Bo.fromBufferAttribute(e,t),Bo.normalize(),e.setXYZ(t,Bo.x,Bo.y,Bo.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,i=e.itemSize,r=e.normalized,a=new n.constructor(t.length*i),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*i;for(var c=0;c<i;c++)a[s++]=n[o++]}return new ko(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,i=this.index.array,r=this.attributes;for(var a in r){var o=e(r[a],i);t.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,f=c.length;h<f;h++){var d=e(c[h],i);u.push(d)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;null!==i&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var a in r){var o=r[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],f=0,d=c.length;f<d;f++){var p=c[f];h.push(p.toJSON(e.data))}h.length>0&&(s[u]=h,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var i=e.attributes;for(var r in i){var a=i[r];this.setAttribute(r,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,d=0,p=f.length;d<p;d++){var v=f[d];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(vr),Ro=new Pa,zo=new Ta,No=new Aa,Fo=new Ir,Uo=new Ir,jo=new Ir,Ho=new Ir,Go=new Ir,Vo=new Ir,Qo=new Pr,Wo=new Pr,Xo=new Pr,Yo=new Ir,Jo=new Ir,qo=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Io,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bo;return Wt(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=i,e.material=r,e.updateMorphTargets(),e}return Yt(n,[{key:"copy",value:function(e,t){return Rt(Ht(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(i,e);var o=this.morphTargetInfluences;if(r&&o){Vo.set(0,0,0);for(var s=0,l=r.length;s<l;s++){var u=o[s],c=r[s];0!==u&&(Go.fromBufferAttribute(c,e),a?Vo.addScaledVector(Go,u):Vo.addScaledVector(Go.sub(t),u))}t.add(Vo)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}},{key:"raycast",value:function(e,t){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),No.copy(n.boundingSphere),No.applyMatrix4(r),zo.copy(e.ray).recast(e.near),!1===No.containsPoint(zo.origin)){if(null===zo.intersectSphere(No,Fo))return;if(zo.origin.distanceToSquared(Fo)>Math.pow(e.far-e.near,2))return}if(Ro.copy(r).invert(),zo.copy(e.ray).applyMatrix4(Ro),null===n.boundingBox||!1!==zo.intersectsBox(n.boundingBox)){var a,o=n.index,s=n.attributes.position,l=n.attributes.uv,u=n.attributes.uv2,c=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(i))for(var f=0,d=c.length;f<d;f++)for(var p=c[f],v=i[p.materialIndex],m=Math.max(p.start,h.start),g=Math.min(o.count,Math.min(p.start+p.count,h.start+h.count));m<g;m+=3){var y=o.getX(m),w=o.getX(m+1),A=o.getX(m+2);(a=Zo(this,v,e,zo,l,u,y,w,A))&&(a.faceIndex=Math.floor(m/3),a.face.materialIndex=p.materialIndex,t.push(a))}else for(var b=Math.max(0,h.start),x=Math.min(o.count,h.start+h.count);b<x;b+=3){var M=o.getX(b),k=o.getX(b+1),S=o.getX(b+2);(a=Zo(this,i,e,zo,l,u,M,k,S))&&(a.faceIndex=Math.floor(b/3),t.push(a))}else if(void 0!==s)if(Array.isArray(i))for(var E=0,C=c.length;E<C;E++)for(var T=c[E],P=i[T.materialIndex],_=Math.max(T.start,h.start),L=Math.min(s.count,Math.min(T.start+T.count,h.start+h.count));_<L;_+=3){(a=Zo(this,P,e,zo,l,u,_,_+1,_+2))&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=T.materialIndex,t.push(a))}else for(var O=Math.max(0,h.start),D=Math.min(s.count,h.start+h.count);O<D;O+=3){(a=Zo(this,i,e,zo,l,u,O,O+1,O+2))&&(a.faceIndex=Math.floor(O/3),t.push(a))}}}}}]),n}(eo);function Zo(e,t,n,i,r,a,o,s,l){e.getVertexPosition(o,Uo),e.getVertexPosition(s,jo),e.getVertexPosition(l,Ho);var u=function(e,t,n,i,r,a,o,s){if(null===(t.side===an?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,t.side===rn,s)))return null;Jo.copy(s),Jo.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Jo);return l<n.near||l>n.far?null:{distance:l,point:Jo.clone(),object:e}}(e,t,n,i,Uo,jo,Ho,Yo);if(u){r&&(Qo.fromBufferAttribute(r,o),Wo.fromBufferAttribute(r,s),Xo.fromBufferAttribute(r,l),u.uv=ho.getUV(Yo,Uo,jo,Ho,Qo,Wo,Xo,new Pr)),a&&(Qo.fromBufferAttribute(a,o),Wo.fromBufferAttribute(a,s),Xo.fromBufferAttribute(a,l),u.uv2=ho.getUV(Yo,Uo,jo,Ho,Qo,Wo,Xo,new Pr));var c={a:o,b:s,c:l,normal:new Ir,materialIndex:0};ho.getNormal(Uo,jo,Ho,c.normal),u.face=c}return u}var Ko=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Wt(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=Ut(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],f=[],d=[],p=0,v=0;function m(e,t,n,i,r,a,o,s,l,m,g){for(var y=a/l,w=o/m,A=a/2,b=o/2,x=s/2,M=l+1,k=m+1,S=0,E=0,C=new Ir,T=0;T<k;T++)for(var P=T*w-b,_=0;_<M;_++){var L=_*y-A;C[e]=L*i,C[t]=P*r,C[n]=x,h.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=s>0?1:-1,f.push(C.x,C.y,C.z),d.push(_/l),d.push(1-T/m),S+=1}for(var O=0;O<m;O++)for(var D=0;D<l;D++){var B=p+D+M*O,I=p+D+M*(O+1),R=p+(D+1)+M*(O+1),z=p+(D+1)+M*O;c.push(B,I,z),c.push(I,R,z),E+=6}u.addGroup(v,E,g),v+=E,p+=S}return m("z","y","x",-1,-1,a,r,i,l,s,0),m("z","y","x",1,-1,a,r,-i,l,s,1),m("x","z","y",1,1,i,a,r,o,l,2),m("x","z","y",1,-1,i,a,-r,o,l,3),m("x","y","z",1,-1,i,r,a,o,s,4),m("x","y","z",-1,-1,i,r,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new Co(h,3)),e.setAttribute("normal",new Co(f,3)),e.setAttribute("uv",new Co(d,2)),e}return Yt(n,[{key:"copy",value:function(e){return Rt(Ht(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Io);function $o(e){var t={};for(var n in e)for(var i in t[n]={},e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}return t}function es(e){for(var t={},n=0;n<e.length;n++){var i=$o(e[n]);for(var r in i)t[r]=i[r]}return t}function ts(e){return null===e.getRenderTarget()&&e.outputEncoding===ar?ur:cr}var ns={clone:$o,merge:es},is=function(e){zt(n,e);var t=Ft(n);function n(e){var i;return Wt(this,n),(i=t.call(this)).isShaderMaterial=!0,i.type="ShaderMaterial",i.defines={},i.uniforms={},i.uniformsGroups=[],i.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",i.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",i.linewidth=1,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.lights=!1,i.clipping=!1,i.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},i.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},i.index0AttributeName=void 0,i.uniformsNeedUpdate=!1,i.glslVersion=null,void 0!==e&&i.setValues(e),i}return Yt(n,[{key:"copy",value:function(e){return Rt(Ht(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$o(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=Rt(Ht(n.prototype),"toJSON",this).call(this,e);for(var i in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?t.uniforms[i]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[i]={type:"m4",value:r.toArray()}:t.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(po),rs=function(e){zt(n,e);var t=Ft(n);function n(){var e;return Wt(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new Pa,e.projectionMatrix=new Pa,e.projectionMatrixInverse=new Pa,e}return Yt(n,[{key:"copy",value:function(e,t){return Rt(Ht(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){Rt(Ht(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){Rt(Ht(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(eo),as=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return Wt(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=i,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=r,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return Yt(n,[{key:"copy",value:function(e,t){return Rt(Ht(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*wr*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*yr*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*wr*Math.atan(Math.tan(.5*yr*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*yr*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,t-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Rt(Ht(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(rs),os=-90,ss=function(e){zt(n,e);var t=Ft(n);function n(e,i,r){var a;Wt(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=r;var o=new as(os,1,e,i);o.layers=a.layers,o.up.set(0,1,0),o.lookAt(1,0,0),a.add(o);var s=new as(os,1,e,i);s.layers=a.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),a.add(s);var l=new as(os,1,e,i);l.layers=a.layers,l.up.set(0,0,-1),l.lookAt(0,1,0),a.add(l);var u=new as(os,1,e,i);u.layers=a.layers,u.up.set(0,0,1),u.lookAt(0,-1,0),a.add(u);var c=new as(os,1,e,i);c.layers=a.layers,c.up.set(0,1,0),c.lookAt(0,0,1),a.add(c);var h=new as(os,1,e,i);return h.layers=a.layers,h.up.set(0,1,0),h.lookAt(0,0,-1),a.add(h),a}return Yt(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=Dt(this.children,6),r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],u=i[5],c=e.getRenderTarget(),h=e.toneMapping,f=e.xr.enabled;e.toneMapping=Un,e.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(eo),ls=function(e){zt(n,e);var t=Ft(n);function n(e,i,r,a,o,s,l,u,c,h){var f;return Wt(this,n),e=void 0!==e?e:[],i=void 0!==i?i:Wn,(f=t.call(this,e,i,r,a,o,s,l,u,c,h)).isCubeTexture=!0,f.flipY=!1,f}return Yt(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Zr),us=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Wt(this,n),(e=t.call(this,i,i,r)).isWebGLCubeRenderTarget=!0;var a={width:i,height:i,depth:1},o=[a,a,a,a,a,a];return e.texture=new ls(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,e.texture.minFilter=void 0!==r.minFilter?r.minFilter:ii,e}return Yt(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Ko(5,5,5),o=new is({name:"CubemapFromEquirect",uniforms:$o(n),vertexShader:i,fragmentShader:r,side:an,blending:sn});o.uniforms.tEquirect.value=t;var s=new qo(a,o),l=t.minFilter;return t.minFilter===ai&&(t.minFilter=ii),new ss(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,i){for(var r=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,i);e.setRenderTarget(r)}}]),n}($r),cs=new Ir,hs=new Ir,fs=new _r,ds=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Wt(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return Yt(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var i=cs.subVectors(n,t).cross(hs.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(cs),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||fs.getNormalMatrix(e),i=this.coplanarPoint(cs).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ps=new Aa,vs=new Ir,ms=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ds,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ds,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ds,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ds,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ds,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new ds;Wt(this,e),this.planes=[t,n,i,r,a,o]}return Yt(e,[{key:"set",value:function(e,t,n,i,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],f=n[9],d=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(o-i,c-s,p-h,y-v).normalize(),t[1].setComponents(o+i,c+s,p+h,y+v).normalize(),t[2].setComponents(o+r,c+l,p+f,y+m).normalize(),t[3].setComponents(o-r,c-l,p-f,y-m).normalize(),t[4].setComponents(o-a,c-u,p-d,y-g).normalize(),t[5].setComponents(o+a,c+u,p+d,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ps.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ps)}},{key:"intersectsSprite",value:function(e){return ps.center.set(0,0,0),ps.radius=.7071067811865476,ps.applyMatrix4(e.matrixWorld),this.intersectsSphere(ps)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];if(vs.x=i.normal.x>0?e.max.x:e.min.x,vs.y=i.normal.y>0?e.max.y:e.min.y,vs.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(vs)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function gs(){var e=null,t=!1,n=null,i=null;function r(t,a){n(t,a),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function ys(e,t){var n=t.isWebGL2,i=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))},update:function(t,r){if(t.isGLBufferAttribute){var a=i.get(t);(!a||a.version<t.version)&&i.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=i.get(t);void 0===o?i.set(t,function(t,i){var r,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(i,s),e.bufferData(i,a,o),t.onUploadCallback(),a instanceof Float32Array)r=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");r=5131}else r=5123;else if(a instanceof Int16Array)r=5122;else if(a instanceof Uint32Array)r=5125;else if(a instanceof Int32Array)r=5124;else if(a instanceof Int8Array)r=5120;else if(a instanceof Uint8Array)r=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);r=5121}return{buffer:s,type:r,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,r)):o.version<t.version&&(!function(t,i,r){var a=i.array,o=i.updateRange;e.bindBuffer(r,t),-1===o.count?e.bufferSubData(r,0,a):(n?e.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),i.onUploadCallback()}(o.buffer,t,r),o.version=t.version)}}}}var ws=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Wt(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:i,height:r,widthSegments:a,heightSegments:o};for(var s=i/2,l=r/2,u=Math.floor(a),c=Math.floor(o),h=u+1,f=c+1,d=i/u,p=r/c,v=[],m=[],g=[],y=[],w=0;w<f;w++)for(var A=w*p-l,b=0;b<h;b++){var x=b*d-s;m.push(x,-A,0),g.push(0,0,1),y.push(b/u),y.push(1-w/c)}for(var M=0;M<c;M++)for(var k=0;k<u;k++){var S=k+h*M,E=k+h*(M+1),C=k+1+h*(M+1),T=k+1+h*M;v.push(S,E,T),v.push(E,C,T)}return e.setIndex(v),e.setAttribute("position",new Co(m,3)),e.setAttribute("normal",new Co(g,3)),e.setAttribute("uv",new Co(y,2)),e}return Yt(n,[{key:"copy",value:function(e){return Rt(Ht(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Io),As={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\t\n\t\tvec2 lodFudge = pow( 1.95, lod ) / fullSize;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},bs={common:{diffuse:{value:new wo(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new _r},uv2Transform:{value:new _r},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Pr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wo(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wo(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _r}},sprite:{diffuse:{value:new wo(16777215)},opacity:{value:1},center:{value:new Pr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _r}}},xs={basic:{uniforms:es([bs.common,bs.specularmap,bs.envmap,bs.aomap,bs.lightmap,bs.fog]),vertexShader:As.meshbasic_vert,fragmentShader:As.meshbasic_frag},lambert:{uniforms:es([bs.common,bs.specularmap,bs.envmap,bs.aomap,bs.lightmap,bs.emissivemap,bs.bumpmap,bs.normalmap,bs.displacementmap,bs.fog,bs.lights,{emissive:{value:new wo(0)}}]),vertexShader:As.meshlambert_vert,fragmentShader:As.meshlambert_frag},phong:{uniforms:es([bs.common,bs.specularmap,bs.envmap,bs.aomap,bs.lightmap,bs.emissivemap,bs.bumpmap,bs.normalmap,bs.displacementmap,bs.fog,bs.lights,{emissive:{value:new wo(0)},specular:{value:new wo(1118481)},shininess:{value:30}}]),vertexShader:As.meshphong_vert,fragmentShader:As.meshphong_frag},standard:{uniforms:es([bs.common,bs.envmap,bs.aomap,bs.lightmap,bs.emissivemap,bs.bumpmap,bs.normalmap,bs.displacementmap,bs.roughnessmap,bs.metalnessmap,bs.fog,bs.lights,{emissive:{value:new wo(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:As.meshphysical_vert,fragmentShader:As.meshphysical_frag},toon:{uniforms:es([bs.common,bs.aomap,bs.lightmap,bs.emissivemap,bs.bumpmap,bs.normalmap,bs.displacementmap,bs.gradientmap,bs.fog,bs.lights,{emissive:{value:new wo(0)}}]),vertexShader:As.meshtoon_vert,fragmentShader:As.meshtoon_frag},matcap:{uniforms:es([bs.common,bs.bumpmap,bs.normalmap,bs.displacementmap,bs.fog,{matcap:{value:null}}]),vertexShader:As.meshmatcap_vert,fragmentShader:As.meshmatcap_frag},points:{uniforms:es([bs.points,bs.fog]),vertexShader:As.points_vert,fragmentShader:As.points_frag},dashed:{uniforms:es([bs.common,bs.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:As.linedashed_vert,fragmentShader:As.linedashed_frag},depth:{uniforms:es([bs.common,bs.displacementmap]),vertexShader:As.depth_vert,fragmentShader:As.depth_frag},normal:{uniforms:es([bs.common,bs.bumpmap,bs.normalmap,bs.displacementmap,{opacity:{value:1}}]),vertexShader:As.meshnormal_vert,fragmentShader:As.meshnormal_frag},sprite:{uniforms:es([bs.sprite,bs.fog]),vertexShader:As.sprite_vert,fragmentShader:As.sprite_frag},background:{uniforms:{uvTransform:{value:new _r},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:As.background_vert,fragmentShader:As.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:As.backgroundCube_vert,fragmentShader:As.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:As.cube_vert,fragmentShader:As.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:As.equirect_vert,fragmentShader:As.equirect_frag},distanceRGBA:{uniforms:es([bs.common,bs.displacementmap,{referencePosition:{value:new Ir},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:As.distanceRGBA_vert,fragmentShader:As.distanceRGBA_frag},shadow:{uniforms:es([bs.lights,bs.fog,{color:{value:new wo(0)},opacity:{value:1}}]),vertexShader:As.shadow_vert,fragmentShader:As.shadow_frag}};xs.physical={uniforms:es([xs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Pr(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new wo(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Pr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new wo(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new wo(1,1,1)},specularColorMap:{value:null}}]),vertexShader:As.meshphysical_vert,fragmentShader:As.meshphysical_frag};var Ms={r:0,b:0,g:0};function ks(e,t,n,i,r,a,o){var s,l,u=new wo(0),c=!0===a?0:1,h=null,f=0,d=null;function p(t,n){t.getRGB(Ms,ts(e)),i.buffers.color.setClear(Ms.r,Ms.g,Ms.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),p(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(u,c=e)},render:function(i,a){var o=!1,v=!0===a.isScene?a.background:null;v&&v.isTexture&&(v=(a.backgroundBlurriness>0?n:t).get(v));var m=e.xr,g=m.getSession&&m.getSession();g&&"additive"===g.environmentBlendMode&&(v=null),null===v?p(u,c):v&&v.isColor&&(p(v,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.mapping===qn)?(void 0===l&&((l=new qo(new Ko(1,1,1),new is({name:"BackgroundCubeMaterial",uniforms:$o(xs.backgroundCube.uniforms),vertexShader:xs.backgroundCube.vertexShader,fragmentShader:xs.backgroundCube.fragmentShader,side:an,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=v,l.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,l.material.toneMapped=v.encoding!==ar,h===v&&f===v.version&&d===e.toneMapping||(l.material.needsUpdate=!0,h=v,f=v.version,d=e.toneMapping),l.layers.enableAll(),i.unshift(l,l.geometry,l.material,0,0,null)):v&&v.isTexture&&(void 0===s&&((s=new qo(new ws(2,2),new is({name:"BackgroundMaterial",uniforms:$o(xs.background.uniforms),vertexShader:xs.background.vertexShader,fragmentShader:xs.background.fragmentShader,side:rn,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(s)),s.material.uniforms.t2D.value=v,s.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,s.material.toneMapped=v.encoding!==ar,!0===v.matrixAutoUpdate&&v.updateMatrix(),s.material.uniforms.uvTransform.value.copy(v.matrix),h===v&&f===v.version&&d===e.toneMapping||(s.material.needsUpdate=!0,h=v,f=v.version,d=e.toneMapping),s.layers.enableAll(),i.unshift(s,s.geometry,s.material,0,0,null))}}}function Ss(e,t,n,i){var r=e.getParameter(34921),a=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||null!==a,s={},l=d(null),u=l,c=!1;function h(t){return i.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function f(t){return i.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],i=[],a=0;a<r;a++)t[a]=0,n[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,r){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==r)&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),s[n]=r)}function g(){for(var t=u.newAttributes,n=u.enabledAttributes,i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function y(t,n,r,a,o,s){!0!==i.isWebGL2||5124!==r&&5125!==r?e.vertexAttribPointer(t,n,r,a,o,s):e.vertexAttribIPointer(t,n,r,o,s)}function w(){A(),c=!0,u!==l&&h((u=l).object)}function A(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,f,w,A){var b=!1;if(o){var x=function(t,n,r){var o=!0===r.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=d(i.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c);return c}(w,f,l);u!==x&&h((u=x).object),b=function(e,t,n,i){var r=u.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=r[l],h=a[l];if(void 0===h&&("instanceMatrix"===l&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(h=e.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}}return u.attributesNum!==o||u.index!==i}(r,w,f,A),b&&function(e,t,n,i){var r={},a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=a[l];void 0===c&&("instanceMatrix"===l&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(c=e.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),r[l]=h,o++}}u.attributes=r,u.attributesNum=o,u.index=i}(r,w,f,A)}else{var M=!0===l.wireframe;u.geometry===w.id&&u.program===f.id&&u.wireframe===M||(u.geometry=w.id,u.program=f.id,u.wireframe=M,b=!0)}null!==A&&n.update(A,34963),(b||c)&&(c=!1,function(r,a,o,s){if(!1===i.isWebGL2&&(r.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var f=u[h];if(f.location>=0){var d=l[h];if(void 0===d&&("instanceMatrix"===h&&r.instanceMatrix&&(d=r.instanceMatrix),"instanceColor"===h&&r.instanceColor&&(d=r.instanceColor)),void 0!==d){var w=d.normalized,A=d.itemSize,b=n.get(d);if(void 0===b)continue;var x=b.buffer,M=b.type,k=b.bytesPerElement;if(d.isInterleavedBufferAttribute){var S=d.data,E=S.stride,C=d.offset;if(S.isInstancedInterleavedBuffer){for(var T=0;T<f.locationSize;T++)m(f.location+T,S.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)}else for(var P=0;P<f.locationSize;P++)v(f.location+P);e.bindBuffer(34962,x);for(var _=0;_<f.locationSize;_++)y(f.location+_,A/f.locationSize,M,w,E*k,(C+A/f.locationSize*_)*k)}else{if(d.isInstancedBufferAttribute){for(var L=0;L<f.locationSize;L++)m(f.location+L,d.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=d.meshPerAttribute*d.count)}else for(var O=0;O<f.locationSize;O++)v(f.location+O);e.bindBuffer(34962,x);for(var D=0;D<f.locationSize;D++)y(f.location+D,A/f.locationSize,M,w,A*k,A/f.locationSize*D*k)}}else if(void 0!==c){var B=c[h];if(void 0!==B)switch(B.length){case 2:e.vertexAttrib2fv(f.location,B);break;case 3:e.vertexAttrib3fv(f.location,B);break;case 4:e.vertexAttrib4fv(f.location,B);break;default:e.vertexAttrib1fv(f.location,B)}}}}g()}(r,l,f,w),null!==A&&e.bindBuffer(34963,n.get(A).buffer))},reset:w,resetDefaultState:A,dispose:function(){for(var e in w(),s){var t=s[e];for(var n in t){var i=t[n];for(var r in i)f(i[r].object),delete i[r];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var i=t[n];for(var r in i)f(i[r].object),delete i[r];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var i=n[e.id];for(var r in i)f(i[r].object),delete i[r];delete n[e.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:g}}function Es(e,t,n,i){var r,a=i.isWebGL2;this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=function(i,o,s){if(0!==s){var l,u;if(a)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](r,i,o,s),n.update(o,r,s)}}}function Cs(e,t,n){var i;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=r(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),f=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),v=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),y=h>0,w=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:w,floatVertexTextures:y&&w,maxSamples:a?e.getParameter(36183):0}}function Ts(e){var t=this,n=null,i=0,r=!1,a=!1,o=new ds,s=new _r,l={value:null,needsUpdate:!1};function u(e,n,i,r){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==r||null===u){var c=i+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var f=0,d=i;f!==a;++f,d+=4)o.copy(e[f]).applyMatrix4(h,s),o.normal.toArray(u,d),u[d+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==i||r;return r=t,i=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){var h=o.clippingPlanes,f=o.clipIntersection,d=o.clipShadows,p=e.get(o);if(!r||null===h||0===h.length||a&&!d)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=i>0);t.numPlanes=i,t.numIntersection=0}();else{var v=a?0:i,m=4*v,g=p.clippingState||null;l.value=g,g=u(h,s,m,c);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=v}}}function Ps(e){var t=new WeakMap;function n(e,t){return t===Yn?e.mapping=Wn:t===Jn&&(e.mapping=Xn),e}function i(e){var n=e.target;n.removeEventListener("dispose",i);var r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){var a=r.mapping;if(a===Yn||a===Jn){if(t.has(r))return n(t.get(r).texture,r.mapping);var o=r.image;if(o&&o.height>0){var s=new us(o.height/2);return s.fromEquirectangularTexture(e,r),t.set(r,s),r.addEventListener("dispose",i),n(s.texture,r.mapping)}return null}}return r},dispose:function(){t=new WeakMap}}}var _s=[.125,.215,.35,.446,.526,.582],Ls=20,Os=new(function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return Wt(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=i,e.right=r,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return Yt(n,[{key:"copy",value:function(e,t){return Rt(Ht(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,a=n+e,o=i+t,s=i-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Rt(Ht(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(rs)),Ds=new wo,Bs=null,Is=(1+Math.sqrt(5))/2,Rs=1/Is,zs=[new Ir(1,1,1),new Ir(-1,1,1),new Ir(1,1,-1),new Ir(-1,1,-1),new Ir(0,Is,Rs),new Ir(0,Is,-Rs),new Ir(Rs,0,Is),new Ir(-Rs,0,Is),new Ir(Is,Rs,0),new Ir(-Is,Rs,0)],Ns=function(){function e(t){Wt(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return Yt(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Bs=this._renderer.getRenderTarget(),this._setSize(256);var r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Hs(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=js(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Bs),e.scissorTest=!1,Us(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Wn||e.mapping===Xn?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Bs=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ii,minFilter:ii,generateMipmaps:!1,type:di,format:yi,encoding:rr,depthBuffer:!1},i=Fs(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Fs(e,t,n);var r=this._lodMax,a=function(e){for(var t=[],n=[],i=[],r=e,a=e-4+1+_s.length,o=0;o<a;o++){var s=Math.pow(2,r);n.push(s);var l=1/s;o>e-4?l=_s[o-e+4-1]:0===o&&(l=0),i.push(l);for(var u=1/(s-2),c=-u,h=1+u,f=[c,c,h,c,h,h,c,c,h,h,c,h],d=6,p=6,v=3,m=2,g=1,y=new Float32Array(v*p*d),w=new Float32Array(m*p*d),A=new Float32Array(g*p*d),b=0;b<d;b++){var x=b%3*2/3-1,M=b>2?0:-1,k=[x,M,0,x+2/3,M,0,x+2/3,M+1,0,x,M,0,x+2/3,M+1,0,x,M+1,0];y.set(k,v*p*b),w.set(f,m*p*b);var S=[b,b,b,b,b,b];A.set(S,g*p*b)}var E=new Io;E.setAttribute("position",new ko(y,v)),E.setAttribute("uv",new ko(w,m)),E.setAttribute("faceIndex",new ko(A,g)),t.push(E),r>4&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}(r);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var i=new Float32Array(Ls),r=new Ir(0,1,0),a=new is({name:"SphericalGaussianBlur",defines:{n:Ls,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:sn,depthTest:!1,depthWrite:!1});return a}(r,e,t)}return i}},{key:"_compileMaterial",value:function(e){var t=new qo(this._lodPlanes[0],e);this._renderer.compile(t,Os)}},{key:"_sceneToCubeUV",value:function(e,t,n,i){var r=new as(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(Ds),s.toneMapping=Un,s.autoClear=!1;var c=new bo({name:"PMREM.Background",side:an,depthWrite:!1,depthTest:!1}),h=new qo(new Ko,c),f=!1,d=e.background;d?d.isColor&&(c.color.copy(d),e.background=null,f=!0):(c.color.copy(Ds),f=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(r.up.set(0,a[p],0),r.lookAt(o[p],0,0)):1===v?(r.up.set(0,0,a[p]),r.lookAt(0,o[p],0)):(r.up.set(0,a[p],0),r.lookAt(0,0,o[p]));var m=this._cubeSize;Us(i,v*m,p>2?m:0,m,m),s.setRenderTarget(i),f&&s.render(h,r),s.render(e,r)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=d}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,i=e.mapping===Wn||e.mapping===Xn;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Hs()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=js());var r=i?this._cubemapMaterial:this._equirectMaterial,a=new qo(this._lodPlanes[0],r);r.uniforms.envMap.value=e;var o=this._cubeSize;Us(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Os)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var i=1;i<this._lodPlanes.length;i++){var r=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=zs[(i-1)%zs.length];this._blur(e,i-1,i,r,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,i,r){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)}},{key:"_halfBlur",value:function(e,t,n,i,r,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new qo(this._lodPlanes[i],l),c=l.uniforms,h=this._sizeLods[n]-1,f=isFinite(r)?Math.PI/(2*h):2*Math.PI/39,d=r/f,p=isFinite(r)?1+Math.floor(3*d):Ls;p>Ls&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Ls));for(var v=[],m=0,g=0;g<Ls;++g){var y=g/d,w=Math.exp(-y*y/2);v.push(w),0===g?m+=w:g<p&&(m+=2*w)}for(var A=0;A<v.length;A++)v[A]=v[A]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var b=this._lodMax;c.dTheta.value=f,c.mipInt.value=b-n;var x=this._sizeLods[i];Us(t,3*x*(i>b-4?i-b+4:0),4*(this._cubeSize-x),3*x,2*x),s.setRenderTarget(t),s.render(u,Os)}}]),e}();function Fs(e,t,n){var i=new $r(e,t,n);return i.texture.mapping=qn,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Us(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function js(){return new is({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:sn,depthTest:!1,depthWrite:!1})}function Hs(){return new is({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:sn,depthTest:!1,depthWrite:!1})}function Gs(e){var t=new WeakMap,n=null;function i(e){var n=e.target;n.removeEventListener("dispose",i);var r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){var a=r.mapping,o=a===Yn||a===Jn,s=a===Wn||a===Xn;if(o||s){if(r.isRenderTargetTexture&&!0===r.needsPMREMUpdate){r.needsPMREMUpdate=!1;var l=t.get(r);return null===n&&(n=new Ns(e)),l=o?n.fromEquirectangular(r,l):n.fromCubemap(r,l),t.set(r,l),l.texture}if(t.has(r))return t.get(r).texture;var u=r.image;if(o&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=6,i=0;i<n;i++)void 0!==e[i]&&t++;return t===n}(u)){null===n&&(n=new Ns(e));var c=o?n.fromEquirectangular(r):n.fromCubemap(r);return t.set(r,c),r.addEventListener("dispose",i),c.texture}return null}}return r},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Vs(e){var t={};function n(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Qs(e,t,n,i){var r={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete r[s.id];var u=a.get(s);u&&(t.remove(u),a.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],i=e.index,r=e.attributes.position,o=0;if(null!==i){var s=i.array;o=i.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],f=s[l+2];n.push(c,h,h,f,f,c)}}else{var d=r.array;o=r.version;for(var p=0,v=d.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var w=new(Or(n)?Eo:So)(n,1);w.version=o;var A=a.get(e);A&&t.remove(A),a.set(e,w)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",o),r[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var i in n)t.update(n[i],34962);var r=e.morphAttributes;for(var a in r)for(var o=r[a],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Ws(e,t,n,i){var r,a,o,s=i.isWebGL2;this.setMode=function(e){r=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,i){e.drawElements(r,i,a,t*o),n.update(i,r,1)},this.renderInstances=function(i,l,u){if(0!==u){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](r,l,a,i*o,u),n.update(l,r,u)}}}function Xs(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Ys(e,t){return e[0]-t[0]}function Js(e,t){return Math.abs(t[1])-Math.abs(e[1])}function qs(e,t,n){for(var i={},r=new Float32Array(8),a=new WeakMap,o=new Kr,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c){var h=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,d=void 0!==f?f.length:0,p=a.get(u);if(void 0===p||p.count!==d){void 0!==p&&p.texture.dispose();var v=void 0!==u.morphAttributes.position,m=void 0!==u.morphAttributes.normal,g=void 0!==u.morphAttributes.color,y=u.morphAttributes.position||[],w=u.morphAttributes.normal||[],A=u.morphAttributes.color||[],b=0;!0===v&&(b=1),!0===m&&(b=2),!0===g&&(b=3);var x=u.attributes.position.count*b,M=1;x>t.maxTextureSize&&(M=Math.ceil(x/t.maxTextureSize),x=t.maxTextureSize);var k=new Float32Array(x*M*4*d),S=new ea(k,x,M,d);S.type=fi,S.needsUpdate=!0;for(var E=4*b,C=0;C<d;C++)for(var T=y[C],P=w[C],_=A[C],L=x*M*4*C,O=0;O<T.count;O++){var D=O*E;!0===v&&(o.fromBufferAttribute(T,O),k[L+D+0]=o.x,k[L+D+1]=o.y,k[L+D+2]=o.z,k[L+D+3]=0),!0===m&&(o.fromBufferAttribute(P,O),k[L+D+4]=o.x,k[L+D+5]=o.y,k[L+D+6]=o.z,k[L+D+7]=0),!0===g&&(o.fromBufferAttribute(_,O),k[L+D+8]=o.x,k[L+D+9]=o.y,k[L+D+10]=o.z,k[L+D+11]=4===_.itemSize?o.w:1)}p={count:d,texture:S,size:new Pr(x,M)},a.set(u,p),u.addEventListener("dispose",(function e(){S.dispose(),a.delete(u),u.removeEventListener("dispose",e)}))}for(var B=0,I=0;I<h.length;I++)B+=h[I];var R=u.morphTargetsRelative?1:1-B;c.getUniforms().setValue(e,"morphTargetBaseInfluence",R),c.getUniforms().setValue(e,"morphTargetInfluences",h),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var z=void 0===h?0:h.length,N=i[u.id];if(void 0===N||N.length!==z){N=[];for(var F=0;F<z;F++)N[F]=[F,0];i[u.id]=N}for(var U=0;U<z;U++){var j=N[U];j[0]=U,j[1]=h[U]}N.sort(Js);for(var H=0;H<8;H++)H<z&&N[H][1]?(s[H][0]=N[H][0],s[H][1]=N[H][1]):(s[H][0]=Number.MAX_SAFE_INTEGER,s[H][1]=0);s.sort(Ys);for(var G=u.morphAttributes.position,V=u.morphAttributes.normal,Q=0,W=0;W<8;W++){var X=s[W],Y=X[0],J=X[1];Y!==Number.MAX_SAFE_INTEGER&&J?(G&&u.getAttribute("morphTarget"+W)!==G[Y]&&u.setAttribute("morphTarget"+W,G[Y]),V&&u.getAttribute("morphNormal"+W)!==V[Y]&&u.setAttribute("morphNormal"+W,V[Y]),r[W]=J,Q+=J):(G&&!0===u.hasAttribute("morphTarget"+W)&&u.deleteAttribute("morphTarget"+W),V&&!0===u.hasAttribute("morphNormal"+W)&&u.deleteAttribute("morphNormal"+W),r[W]=0)}var q=u.morphTargetsRelative?1:1-Q;c.getUniforms().setValue(e,"morphTargetBaseInfluence",q),c.getUniforms().setValue(e,"morphTargetInfluences",r)}}}}function Zs(e,t,n,i){var r=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=i.render.frame,s=e.geometry,l=t.get(e,s);return r.get(l)!==o&&(t.update(l),r.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){r=new WeakMap}}}var Ks=new Zr,$s=new ea,el=new ta,tl=new ls,nl=[],il=[],rl=new Float32Array(16),al=new Float32Array(9),ol=new Float32Array(4);function sl(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,a=nl[r];if(void 0===a&&(a=new Float32Array(r),nl[r]=a),0!==t){i.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function ll(e,t){if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function ul(e,t){for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}function cl(e,t){var n=il[t];void 0===n&&(n=new Int32Array(t),il[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function hl(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function fl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ll(n,t))return;e.uniform2fv(this.addr,t),ul(n,t)}}function dl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ll(n,t))return;e.uniform3fv(this.addr,t),ul(n,t)}}function pl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ll(n,t))return;e.uniform4fv(this.addr,t),ul(n,t)}}function vl(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(ll(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ul(n,t)}else{if(ll(n,i))return;ol.set(i),e.uniformMatrix2fv(this.addr,!1,ol),ul(n,i)}}function ml(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(ll(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ul(n,t)}else{if(ll(n,i))return;al.set(i),e.uniformMatrix3fv(this.addr,!1,al),ul(n,i)}}function gl(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(ll(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ul(n,t)}else{if(ll(n,i))return;rl.set(i),e.uniformMatrix4fv(this.addr,!1,rl),ul(n,i)}}function yl(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function wl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ll(n,t))return;e.uniform2iv(this.addr,t),ul(n,t)}}function Al(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ll(n,t))return;e.uniform3iv(this.addr,t),ul(n,t)}}function bl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ll(n,t))return;e.uniform4iv(this.addr,t),ul(n,t)}}function xl(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Ml(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ll(n,t))return;e.uniform2uiv(this.addr,t),ul(n,t)}}function kl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ll(n,t))return;e.uniform3uiv(this.addr,t),ul(n,t)}}function Sl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ll(n,t))return;e.uniform4uiv(this.addr,t),ul(n,t)}}function El(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||Ks,r)}function Cl(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||el,r)}function Tl(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||tl,r)}function Pl(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||$s,r)}function _l(e,t){e.uniform1fv(this.addr,t)}function Ll(e,t){var n=sl(t,this.size,2);e.uniform2fv(this.addr,n)}function Ol(e,t){var n=sl(t,this.size,3);e.uniform3fv(this.addr,n)}function Dl(e,t){var n=sl(t,this.size,4);e.uniform4fv(this.addr,n)}function Bl(e,t){var n=sl(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Il(e,t){var n=sl(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Rl(e,t){var n=sl(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function zl(e,t){e.uniform1iv(this.addr,t)}function Nl(e,t){e.uniform2iv(this.addr,t)}function Fl(e,t){e.uniform3iv(this.addr,t)}function Ul(e,t){e.uniform4iv(this.addr,t)}function jl(e,t){e.uniform1uiv(this.addr,t)}function Hl(e,t){e.uniform2uiv(this.addr,t)}function Gl(e,t){e.uniform3uiv(this.addr,t)}function Vl(e,t){e.uniform4uiv(this.addr,t)}function Ql(e,t,n){var i=this.cache,r=t.length,a=cl(n,r);ll(i,a)||(e.uniform1iv(this.addr,a),ul(i,a));for(var o=0;o!==r;++o)n.setTexture2D(t[o]||Ks,a[o])}function Wl(e,t,n){var i=this.cache,r=t.length,a=cl(n,r);ll(i,a)||(e.uniform1iv(this.addr,a),ul(i,a));for(var o=0;o!==r;++o)n.setTexture3D(t[o]||el,a[o])}function Xl(e,t,n){var i=this.cache,r=t.length,a=cl(n,r);ll(i,a)||(e.uniform1iv(this.addr,a),ul(i,a));for(var o=0;o!==r;++o)n.setTextureCube(t[o]||tl,a[o])}function Yl(e,t,n){var i=this.cache,r=t.length,a=cl(n,r);ll(i,a)||(e.uniform1iv(this.addr,a),ul(i,a));for(var o=0;o!==r;++o)n.setTexture2DArray(t[o]||$s,a[o])}var Jl=Yt((function e(t,n,i){Wt(this,e),this.id=t,this.addr=i,this.cache=[],this.setValue=function(e){switch(e){case 5126:return hl;case 35664:return fl;case 35665:return dl;case 35666:return pl;case 35674:return vl;case 35675:return ml;case 35676:return gl;case 5124:case 35670:return yl;case 35667:case 35671:return wl;case 35668:case 35672:return Al;case 35669:case 35673:return bl;case 5125:return xl;case 36294:return Ml;case 36295:return kl;case 36296:return Sl;case 35678:case 36198:case 36298:case 36306:case 35682:return El;case 35679:case 36299:case 36307:return Cl;case 35680:case 36300:case 36308:case 36293:return Tl;case 36289:case 36303:case 36311:case 36292:return Pl}}(n.type)})),ql=Yt((function e(t,n,i){Wt(this,e),this.id=t,this.addr=i,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return _l;case 35664:return Ll;case 35665:return Ol;case 35666:return Dl;case 35674:return Bl;case 35675:return Il;case 35676:return Rl;case 5124:case 35670:return zl;case 35667:case 35671:return Nl;case 35668:case 35672:return Fl;case 35669:case 35673:return Ul;case 5125:return jl;case 36294:return Hl;case 36295:return Gl;case 36296:return Vl;case 35678:case 36198:case 36298:case 36306:case 35682:return Ql;case 35679:case 36299:case 36307:return Wl;case 35680:case 36300:case 36308:case 36293:return Xl;case 36289:case 36303:case 36311:case 36292:return Yl}}(n.type)})),Zl=function(){function e(t){Wt(this,e),this.id=t,this.seq=[],this.map={}}return Yt(e,[{key:"setValue",value:function(e,t,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(e,t[o.id],n)}}}]),e}(),Kl=/(\w+)(\])?(\[|\.)?/g;function $l(e,t){e.seq.push(t),e.map[t.id]=t}function eu(e,t,n){var i=e.name,r=i.length;for(Kl.lastIndex=0;;){var a=Kl.exec(i),o=Kl.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===r){$l(n,void 0===u?new Jl(s,e,t):new ql(s,e,t));break}var c=n.map[s];void 0===c&&$l(n,c=new Zl(s)),n=c}}var tu=function(){function e(t,n){Wt(this,e),this.seq=[],this.map={};for(var i=t.getProgramParameter(n,35718),r=0;r<i;++r){var a=t.getActiveUniform(n,r);eu(a,t.getUniformLocation(n,a.name),this)}}return Yt(e,[{key:"setValue",value:function(e,t,n,i){var r=this.map[t];void 0!==r&&r.setValue(e,n,i)}},{key:"setOptional",value:function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)}}],[{key:"upload",value:function(e,t,n,i){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var a=e[i];a.id in t&&n.push(a)}return n}}]),e}();function nu(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}var iu=0;function ru(e,t,n){var i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";var a=/ERROR: 0:(\d+)/.exec(r);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(e,t){for(var n=e.split("\n"),i=[],r=Math.max(t-6,0),a=Math.min(t+6,n.length),o=r;o<a;o++){var s=o+1;i.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return i.join("\n")}(e.getShaderSource(t),o)}return r}function au(e,t){var n=function(e){switch(e){case rr:return["Linear","( value )"];case ar:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ou(e,t){var n;switch(t){case jn:n="Linear";break;case Hn:n="Reinhard";break;case Gn:n="OptimizedCineon";break;case Vn:n="ACESFilmic";break;case Qn:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function su(e){return""!==e}function lu(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function uu(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var cu=/^[ \t]*#include +<([\w\d./]+)>/gm;function hu(e){return e.replace(cu,fu)}function fu(e,t){var n=As[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return hu(n)}var du=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pu(e){return e.replace(du,vu)}function vu(e,t,n,i){for(var r="",a=parseInt(t);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function mu(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function gu(e,t,n,i){var r,a,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===en?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===tn?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===nn&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Wn:case Xn:t="ENVMAP_TYPE_CUBE";break;case qn:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Xn&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case zn:t="ENVMAP_BLENDING_MULTIPLY";break;case Nn:t="ENVMAP_BLENDING_MIX";break;case Fn:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(su).join("\n")}(n),m=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((r=[m].filter(su).join("\n")).length>0&&(r+="\n"),(a=[v,m].filter(su).join("\n")).length>0&&(a+="\n")):(r=[mu(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(su).join("\n"),a=[v,mu(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Un?"#define TONE_MAPPING":"",n.toneMapping!==Un?As.tonemapping_pars_fragment:"",n.toneMapping!==Un?ou("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",As.encodings_pars_fragment,au("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(su).join("\n")),l=uu(l=lu(l=hu(l),n),n),u=uu(u=lu(u=hu(u),n),n),l=pu(l),u=pu(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",r=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+r,a=["#define varying in",n.glslVersion===dr?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===dr?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var w,A,b=y+a+u,x=nu(o,35633,y+r+l),M=nu(o,35632,b);if(o.attachShader(g,x),o.attachShader(g,M),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var k=o.getProgramInfoLog(g).trim(),S=o.getShaderInfoLog(x).trim(),E=o.getShaderInfoLog(M).trim(),C=!0,T=!0;if(!1===o.getProgramParameter(g,35714)){C=!1;var P=ru(o,x,"vertex"),_=ru(o,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+k+"\n"+P+"\n"+_)}else""!==k?console.warn("THREE.WebGLProgram: Program Info Log:",k):""!==S&&""!==E||(T=!1);T&&(this.diagnostics={runnable:C,programLog:k,vertexShader:{log:S,prefix:r},fragmentShader:{log:E,prefix:a}})}return o.deleteShader(x),o.deleteShader(M),this.getUniforms=function(){return void 0===w&&(w=new tu(o,g)),w},this.getAttributes=function(){return void 0===A&&(A=function(e,t){for(var n={},i=e.getProgramParameter(t,35721),r=0;r<i;r++){var a=e.getActiveAttrib(t,r),o=a.name,s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),A},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=iu++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=x,this.fragmentShader=M,this}var yu=0,wu=function(){function e(){Wt(this,e),this.shaderCache=new Map,this.materialCache=new Map}return Yt(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(i)&&(a.add(i),i.usedTimes++),!1===a.has(r)&&(a.add(r),r.usedTimes++),this}},{key:"remove",value:function(e){var t,n=Ot(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(r){n.e(r)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new Au(e),t.set(e,n)),n}}]),e}(),Au=Yt((function e(t){Wt(this,e),this.id=yu++,this.code=t,this.usedTimes=0}));function bu(e,t,n,i,r,a,o){var s=new Ua,l=new wu,u=[],c=r.isWebGL2,h=r.logarithmicDepthBuffer,f=r.vertexTextures,d=r.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,u,v,m){var g=v.fog,y=m.geometry,w=a.isMeshStandardMaterial?v.environment:null,A=(a.isMeshStandardMaterial?n:t).get(a.envMap||w),b=A&&A.mapping===qn?A.image.height:null,x=p[a.type];null!==a.precision&&(d=r.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",d,"instead.");var M,k,S,E,C=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,T=void 0!==C?C.length:0,P=0;if(void 0!==y.morphAttributes.position&&(P=1),void 0!==y.morphAttributes.normal&&(P=2),void 0!==y.morphAttributes.color&&(P=3),x){var _=xs[x];M=_.vertexShader,k=_.fragmentShader}else M=a.vertexShader,k=a.fragmentShader,l.update(a),S=l.getVertexShaderID(a),E=l.getFragmentShaderID(a);var L=e.getRenderTarget(),O=a.alphaTest>0,D=a.clearcoat>0,B=a.iridescence>0;return{isWebGL2:c,shaderID:x,shaderName:a.type,vertexShader:M,fragmentShader:k,defines:a.defines,customVertexShaderID:S,customFragmentShaderID:E,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:d,instancing:!0===m.isInstancedMesh,instancingColor:!0===m.isInstancedMesh&&null!==m.instanceColor,supportsVertexTextures:f,outputEncoding:null===L?e.outputEncoding:!0===L.isXRRenderTarget?L.texture.encoding:rr,map:!!a.map,matcap:!!a.matcap,envMap:!!A,envMapMode:A&&A.mapping,envMapCubeUVHeight:b,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===lr,tangentSpaceNormalMap:a.normalMapType===sr,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===ar,clearcoat:D,clearcoatMap:D&&!!a.clearcoatMap,clearcoatRoughnessMap:D&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:D&&!!a.clearcoatNormalMap,iridescence:B,iridescenceMap:B&&!!a.iridescenceMap,iridescenceThicknessMap:B&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===ln,alphaMap:!!a.alphaMap,alphaTest:O,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!y.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.iridescenceMap||!!a.iridescenceThicknessMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!g,useFog:!0===a.fog,fogExp2:g&&g.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:T,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:Un,useLegacyLights:e.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===on,flipSided:a.side===an,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var i in t.defines)n.push(i),n.push(t.defines[i]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.lightMap&&s.enable(7);t.aoMap&&s.enable(8);t.emissiveMap&&s.enable(9);t.bumpMap&&s.enable(10);t.normalMap&&s.enable(11);t.objectSpaceNormalMap&&s.enable(12);t.tangentSpaceNormalMap&&s.enable(13);t.clearcoat&&s.enable(14);t.clearcoatMap&&s.enable(15);t.clearcoatRoughnessMap&&s.enable(16);t.clearcoatNormalMap&&s.enable(17);t.iridescence&&s.enable(18);t.iridescenceMap&&s.enable(19);t.iridescenceThicknessMap&&s.enable(20);t.displacementMap&&s.enable(21);t.specularMap&&s.enable(22);t.roughnessMap&&s.enable(23);t.metalnessMap&&s.enable(24);t.gradientMap&&s.enable(25);t.alphaMap&&s.enable(26);t.alphaTest&&s.enable(27);t.vertexColors&&s.enable(28);t.vertexAlphas&&s.enable(29);t.vertexUvs&&s.enable(30);t.vertexTangents&&s.enable(31);t.uvsVertexOnly&&s.enable(32);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.specularIntensityMap&&s.enable(15);t.specularColorMap&&s.enable(16);t.transmission&&s.enable(17);t.transmissionMap&&s.enable(18);t.thicknessMap&&s.enable(19);t.sheen&&s.enable(20);t.sheenColorMap&&s.enable(21);t.sheenRoughnessMap&&s.enable(22);t.decodeVideoTexture&&s.enable(23);t.opaque&&s.enable(24);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var i=xs[n];t=ns.clone(i.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var i,r=0,o=u.length;r<o;r++){var s=u[r];if(s.cacheKey===n){++(i=s).usedTimes;break}}return void 0===i&&(i=new gu(e,n,t,a),u.push(i)),i},releaseProgram:function(e){if(0===--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function xu(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Mu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ku(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Su(){var e=[],t=0,n=[],i=[],r=[];function a(n,i,r,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){t=0,n.length=0,i.length=0,r.length=0},push:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?i.push(c):!0===o.transparent?r.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?i.unshift(c):!0===o.transparent?r.unshift(c):n.unshift(c)},finish:function(){for(var n=t,i=e.length;n<i;n++){var r=e[n];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Mu),i.length>1&&i.sort(t||ku),r.length>1&&r.sort(t||ku)}}}function Eu(){var e=new WeakMap;return{get:function(t,n){var i,r=e.get(t);return void 0===r?(i=new Su,e.set(t,[i])):n>=r.length?(i=new Su,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Cu(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Ir,color:new wo};break;case"SpotLight":n={position:new Ir,direction:new Ir,color:new wo,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ir,color:new wo,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ir,skyColor:new wo,groundColor:new wo};break;case"RectAreaLight":n={color:new wo,position:new Ir,halfWidth:new Ir,halfHeight:new Ir}}return e[t.id]=n,n}}}var Tu=0;function Pu(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function _u(e,t){for(var n=new Cu,i=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)r.probe.push(new Ir);var o=new Ir,s=new Pa,l=new Pa;return{setup:function(a,o){for(var s=0,l=0,u=0,c=0;c<9;c++)r.probe[c].set(0,0,0);var h=0,f=0,d=0,p=0,v=0,m=0,g=0,y=0,w=0,A=0;a.sort(Pu);for(var b=!0===o?Math.PI:1,x=0,M=a.length;x<M;x++){var k=a[x],S=k.color,E=k.intensity,C=k.distance,T=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)s+=S.r*E*b,l+=S.g*E*b,u+=S.b*E*b;else if(k.isLightProbe)for(var P=0;P<9;P++)r.probe[P].addScaledVector(k.sh.coefficients[P],E);else if(k.isDirectionalLight){var _=n.get(k);if(_.color.copy(k.color).multiplyScalar(k.intensity*b),k.castShadow){var L=k.shadow,O=i.get(k);O.shadowBias=L.bias,O.shadowNormalBias=L.normalBias,O.shadowRadius=L.radius,O.shadowMapSize=L.mapSize,r.directionalShadow[h]=O,r.directionalShadowMap[h]=T,r.directionalShadowMatrix[h]=k.shadow.matrix,m++}r.directional[h]=_,h++}else if(k.isSpotLight){var D=n.get(k);D.position.setFromMatrixPosition(k.matrixWorld),D.color.copy(S).multiplyScalar(E*b),D.distance=C,D.coneCos=Math.cos(k.angle),D.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),D.decay=k.decay,r.spot[d]=D;var B=k.shadow;if(k.map&&(r.spotLightMap[w]=k.map,w++,B.updateMatrices(k),k.castShadow&&A++),r.spotLightMatrix[d]=B.matrix,k.castShadow){var I=i.get(k);I.shadowBias=B.bias,I.shadowNormalBias=B.normalBias,I.shadowRadius=B.radius,I.shadowMapSize=B.mapSize,r.spotShadow[d]=I,r.spotShadowMap[d]=T,y++}d++}else if(k.isRectAreaLight){var R=n.get(k);R.color.copy(S).multiplyScalar(E),R.halfWidth.set(.5*k.width,0,0),R.halfHeight.set(0,.5*k.height,0),r.rectArea[p]=R,p++}else if(k.isPointLight){var z=n.get(k);if(z.color.copy(k.color).multiplyScalar(k.intensity*b),z.distance=k.distance,z.decay=k.decay,k.castShadow){var N=k.shadow,F=i.get(k);F.shadowBias=N.bias,F.shadowNormalBias=N.normalBias,F.shadowRadius=N.radius,F.shadowMapSize=N.mapSize,F.shadowCameraNear=N.camera.near,F.shadowCameraFar=N.camera.far,r.pointShadow[f]=F,r.pointShadowMap[f]=T,r.pointShadowMatrix[f]=k.shadow.matrix,g++}r.point[f]=z,f++}else if(k.isHemisphereLight){var U=n.get(k);U.skyColor.copy(k.color).multiplyScalar(E*b),U.groundColor.copy(k.groundColor).multiplyScalar(E*b),r.hemi[v]=U,v++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=bs.LTC_FLOAT_1,r.rectAreaLTC2=bs.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=bs.LTC_HALF_1,r.rectAreaLTC2=bs.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=s,r.ambient[1]=l,r.ambient[2]=u;var j=r.hash;j.directionalLength===h&&j.pointLength===f&&j.spotLength===d&&j.rectAreaLength===p&&j.hemiLength===v&&j.numDirectionalShadows===m&&j.numPointShadows===g&&j.numSpotShadows===y&&j.numSpotMaps===w||(r.directional.length=h,r.spot.length=d,r.rectArea.length=p,r.point.length=f,r.hemi.length=v,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=y,r.spotShadowMap.length=y,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=g,r.spotLightMatrix.length=y+w-A,r.spotLightMap.length=w,r.numSpotLightShadowsWithMaps=A,j.directionalLength=h,j.pointLength=f,j.spotLength=d,j.rectAreaLength=p,j.hemiLength=v,j.numDirectionalShadows=m,j.numPointShadows=g,j.numSpotShadows=y,j.numSpotMaps=w,r.version=Tu++)},setupView:function(e,t){for(var n=0,i=0,a=0,u=0,c=0,h=t.matrixWorldInverse,f=0,d=e.length;f<d;f++){var p=e[f];if(p.isDirectionalLight){var v=r.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(h),n++}else if(p.isSpotLight){var m=r.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var g=r.rectArea[u];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),l.identity(),s.copy(p.matrixWorld),s.premultiply(h),l.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var y=r.point[i];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),i++}else if(p.isHemisphereLight){var w=r.hemi[c];w.direction.setFromMatrixPosition(p.matrixWorld),w.direction.transformDirection(h),c++}}},state:r}}function Lu(e,t){var n=new _u(e,t),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(e){n.setup(i,e)},setupLightsView:function(e){n.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){r.push(e)}}}function Ou(e,t){var n=new WeakMap;return{get:function(i){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(i);return void 0===o?(r=new Lu(e,t),n.set(i,[r])):a>=o.length?(r=new Lu(e,t),o.push(r)):r=o[a],r},dispose:function(){n=new WeakMap}}}var Du=function(e){zt(n,e);var t=Ft(n);function n(e){var i;return Wt(this,n),(i=t.call(this)).isMeshDepthMaterial=!0,i.type="MeshDepthMaterial",i.depthPacking=3200,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.setValues(e),i}return Yt(n,[{key:"copy",value:function(e){return Rt(Ht(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(po),Bu=function(e){zt(n,e);var t=Ft(n);function n(e){var i;return Wt(this,n),(i=t.call(this)).isMeshDistanceMaterial=!0,i.type="MeshDistanceMaterial",i.referencePosition=new Ir,i.nearDistance=1,i.farDistance=1e3,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.setValues(e),i}return Yt(n,[{key:"copy",value:function(e){return Rt(Ht(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(po),Iu="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Ru="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function zu(e,t,n){var i,r=new ms,a=new Pr,o=new Pr,s=new Kr,l=new Du({depthPacking:or}),u=new Bu,c={},h=n.maxTextureSize,f=(Gt(i={},rn,an),Gt(i,an,rn),Gt(i,on,on),i),d=new is({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Pr},radius:{value:4}},vertexShader:Iu,fragmentShader:Ru}),p=d.clone();p.defines.HORIZONTAL_PASS=1;var v=new Io;v.setAttribute("position",new ko(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new qo(v,d),g=this;function y(n,i){var r=t.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new $r(a.x,a.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,r,d,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,r,p,m,null)}function w(t,n,i,r,a,o){var s=null,h=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==h)s=h;else if(s=!0===i.isPointLight?u:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var d=s.uuid,p=n.uuid,v=c[d];void 0===v&&(v={},c[d]=v);var m=v[p];void 0===m&&(m=s.clone(),v[p]=m),s=m}return s.visible=n.visible,s.wireframe=n.wireframe,s.side=o===nn?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],s.alphaMap=n.alphaMap,s.alphaTest=n.alphaTest,s.map=n.map,s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.displacementMap=n.displacementMap,s.displacementScale=n.displacementScale,s.displacementBias=n.displacementBias,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===i.isPointLight&&!0===s.isMeshDistanceMaterial&&(s.referencePosition.setFromMatrixPosition(i.matrixWorld),s.nearDistance=r,s.farDistance=a),s}function A(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===nn)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,f=c.length;h<f;h++){var d=c[h],p=u[d.materialIndex];if(p&&p.visible){var v=w(n,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,v,n,d)}}else if(u.visible){var m=w(n,u,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,m,n,null)}}for(var g=n.children,y=0,b=g.length;y<b;y++)A(g[y],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=en,this.render=function(t,n,i){if(!1!==g.enabled&&(!1!==g.autoUpdate||!1!==g.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),f=e.state;f.setBlending(sn),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var v=t[d],m=v.shadow;if(void 0!==m){if(!1!==m.autoUpdate||!1!==m.needsUpdate){a.copy(m.mapSize);var w=m.getFrameExtents();if(a.multiply(w),o.copy(m.mapSize),(a.x>h||a.y>h)&&(a.x>h&&(o.x=Math.floor(h/w.x),a.x=o.x*w.x,m.mapSize.x=o.x),a.y>h&&(o.y=Math.floor(h/w.y),a.y=o.y*w.y,m.mapSize.y=o.y)),null===m.map){var b=this.type!==nn?{minFilter:ei,magFilter:ei}:{};m.map=new $r(a.x,a.y,b),m.map.texture.name=v.name+".shadowMap",m.camera.updateProjectionMatrix()}e.setRenderTarget(m.map),e.clear();for(var x=m.getViewportCount(),M=0;M<x;M++){var k=m.getViewport(M);s.set(o.x*k.x,o.y*k.y,o.x*k.z,o.y*k.w),f.viewport(s),m.updateMatrices(v,M),r=m.getFrustum(),A(n,i,m.camera,v,this.type)}!0!==m.isPointLightShadow&&this.type===nn&&y(m,i),m.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}g.needsUpdate=!1,e.setRenderTarget(l,u,c)}}}function Nu(e,t,n){var i,r,a=n.isWebGL2;var o=new function(){var t=!1,n=new Kr,i=null,r=new Kr(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,o,s){!0===s&&(t*=o,i*=o,a*=o),n.set(t,i,a,o),!1===r.equals(n)&&(e.clearColor(t,i,a,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(e){e?H(2929):G(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){switch(t){case Pn:e.depthFunc(512);break;case _n:e.depthFunc(519);break;case Ln:e.depthFunc(513);break;case On:e.depthFunc(515);break;case Dn:e.depthFunc(514);break;case Bn:e.depthFunc(518);break;case In:e.depthFunc(516);break;case Rn:e.depthFunc(517);break;default:e.depthFunc(515)}i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},l=new function(){var t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?H(2960):G(2960))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,o){i===t&&r===n&&a===o||(e.stencilFunc(t,n,o),i=t,r=n,a=o)},setOp:function(t,n,i){o===t&&s===n&&l===i||(e.stencilOp(t,n,i),o=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null}}},u=new WeakMap,c=new WeakMap,h={},f={},d=new WeakMap,p=[],v=null,m=!1,g=null,y=null,w=null,A=null,b=null,x=null,M=null,k=!1,S=null,E=null,C=null,T=null,P=null,_=e.getParameter(35661),L=!1,O=0,D=e.getParameter(7938);-1!==D.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(D)[1]),L=O>=1):-1!==D.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),L=O>=2);var B=null,I={},R=e.getParameter(3088),z=e.getParameter(2978),N=(new Kr).fromArray(R),F=(new Kr).fromArray(z);function U(t,n,i){var r=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<i;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var j={};function H(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function G(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}j[3553]=U(3553,3553,1),j[34067]=U(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),H(2929),s.setFunc(On),Y(!1),J(Kt),H(2884),X(sn);var V=(Gt(i={},dn,32774),Gt(i,pn,32778),Gt(i,vn,32779),i);if(a)V[mn]=32775,V[gn]=32776;else{var Q=t.get("EXT_blend_minmax");null!==Q&&(V[mn]=Q.MIN_EXT,V[gn]=Q.MAX_EXT)}var W=(Gt(r={},yn,0),Gt(r,wn,1),Gt(r,An,768),Gt(r,xn,770),Gt(r,Tn,776),Gt(r,En,774),Gt(r,kn,772),Gt(r,bn,769),Gt(r,Mn,771),Gt(r,Cn,775),Gt(r,Sn,773),r);function X(t,n,i,r,a,o,s,l){if(t!==sn){if(!1===m&&(H(3042),m=!0),t===fn)a=a||n,o=o||i,s=s||r,n===y&&a===b||(e.blendEquationSeparate(V[n],V[a]),y=n,b=a),i===w&&r===A&&o===x&&s===M||(e.blendFuncSeparate(W[i],W[r],W[o],W[s]),w=i,A=r,x=o,M=s),g=t,k=!1;else if(t!==g||l!==k){if(y===dn&&b===dn||(e.blendEquation(32774),y=dn,b=dn),l)switch(t){case ln:e.blendFuncSeparate(1,771,1,771);break;case un:e.blendFunc(1,1);break;case cn:e.blendFuncSeparate(0,769,0,1);break;case hn:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case ln:e.blendFuncSeparate(770,771,1,771);break;case un:e.blendFunc(770,1);break;case cn:e.blendFuncSeparate(0,769,0,1);break;case hn:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}w=null,A=null,x=null,M=null,g=t,k=l}}else!0===m&&(G(3042),m=!1)}function Y(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function J(t){t!==Zt?(H(2884),t!==E&&(t===Kt?e.cullFace(1029):t===$t?e.cullFace(1028):e.cullFace(1032))):G(2884),E=t}function q(t,n,i){t?(H(32823),T===n&&P===i||(e.polygonOffset(n,i),T=n,P=i)):G(32823)}return{buffers:{color:o,depth:s,stencil:l},enable:H,disable:G,bindFramebuffer:function(t,n){return f[t]!==n&&(e.bindFramebuffer(t,n),f[t]=n,a&&(36009===t&&(f[36160]=n),36160===t&&(f[36009]=n)),!0)},drawBuffers:function(i,r){var a=p,o=!1;if(i)if(void 0===(a=d.get(r))&&(a=[],d.set(r,a)),i.isWebGLMultipleRenderTargets){var s=i.texture;if(a.length!==s.length||36064!==a[0]){for(var l=0,u=s.length;l<u;l++)a[l]=36064+l;a.length=s.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return v!==t&&(e.useProgram(t),v=t,!0)},setBlending:X,setMaterial:function(e,t){e.side===on?G(2884):H(2884);var n=e.side===an;t&&(n=!n),Y(n),e.blending===ln&&!1===e.transparent?X(sn):X(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var i=e.stencilWrite;l.setTest(i),i&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),q(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?H(32926):G(32926)},setFlipSided:Y,setCullFace:J,setLineWidth:function(t){t!==C&&(L&&e.lineWidth(t),C=t)},setPolygonOffset:q,setScissorTest:function(e){e?H(3089):G(3089)},activeTexture:function(t){void 0===t&&(t=33984+_-1),B!==t&&(e.activeTexture(t),B=t)},bindTexture:function(t,n,i){void 0===i&&(i=null===B?33984+_-1:B);var r=I[i];void 0===r&&(r={type:void 0,texture:void 0},I[i]=r),r.type===t&&r.texture===n||(B!==i&&(e.activeTexture(i),B=i),e.bindTexture(t,n||j[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=I[B];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var i=c.get(n);void 0===i&&(i=new WeakMap,c.set(n,i));var r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))},uniformBlockBinding:function(t,n){var i=c.get(n).get(t);u.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),u.set(n,i))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===N.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},B=null,I={},f={},d=new WeakMap,p=[],v=null,m=!1,g=null,y=null,w=null,A=null,b=null,x=null,M=null,k=!1,S=null,E=null,C=null,T=null,P=null,N.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),l.reset()}}}function Fu(e,t,n,i,r,a,o){var s,l,u,c=r.isWebGL2,h=r.maxTextures,f=r.maxCubemapSize,d=r.maxTextureSize,p=r.maxSamples,v=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,m="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap,y=new WeakMap,w=!1;try{w="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(V){}function A(e,t){return w?new OffscreenCanvas(e,t):Dr("canvas")}function b(e,t,n,i){var r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Sr:Math.floor,o=a(r*e.width),s=a(r*e.height);void 0===u&&(u=A(o,s));var l=n?A(o,s):u;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function x(e){return kr(e.width)&&kr(e.height)}function M(e,t){return e.generateMipmaps&&t&&e.minFilter!==ei&&e.minFilter!==ii}function k(t){e.generateMipmap(t)}function S(n,i,r,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=i;return 6403===i&&(5126===r&&(s=33326),5131===r&&(s=33325),5121===r&&(s=33321)),33319===i&&(5126===r&&(s=33328),5131===r&&(s=33327),5121===r&&(s=33323)),6408===i&&(5126===r&&(s=34836),5131===r&&(s=34842),5121===r&&(s=a===ar&&!1===o?35907:32856),32819===r&&(s=32854),32820===r&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function E(e,t,n){return!0===M(e,n)||e.isFramebufferTexture&&e.minFilter!==ei&&e.minFilter!==ii?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function C(e){return e===ei||e===ti||e===ni?9728:9729}function T(e){var t=e.target;t.removeEventListener("dispose",T),function(e){var t=i.get(e);if(void 0===t.__webglInit)return;var n=e.source,r=y.get(n);if(r){var a=r[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&_(e),0===Object.keys(r).length&&y.delete(n)}i.remove(e)}(t),t.isVideoTexture&&g.delete(t)}function P(t){var n=t.target;n.removeEventListener("dispose",P),function(t){var n=t.texture,r=i.get(t),a=i.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(r.__webglFramebuffer[s]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer)for(var l=0;l<r.__webglColorRenderbuffer.length;l++)r.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(r.__webglColorRenderbuffer[l]);r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var h=i.get(n[u]);h.__webglTexture&&(e.deleteTexture(h.__webglTexture),o.memory.textures--),i.remove(n[u])}i.remove(n),i.remove(t)}(n)}function _(t){var n=i.get(t);e.deleteTexture(n.__webglTexture);var r=t.source;delete y.get(r)[n.__cacheKey],o.memory.textures--}var L=0;function O(e,t){var r=i.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;g.get(e)!==t&&(g.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&r.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void z(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,r.__webglTexture,33984+t)}var D=(Gt(s={},Zn,10497),Gt(s,Kn,33071),Gt(s,$n,33648),s),B=(Gt(l={},ei,9728),Gt(l,ti,9984),Gt(l,ni,9986),Gt(l,ii,9729),Gt(l,ri,9985),Gt(l,ai,9987),l);function I(n,a,o){if(o?(e.texParameteri(n,10242,D[a.wrapS]),e.texParameteri(n,10243,D[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,D[a.wrapR]),e.texParameteri(n,10240,B[a.magFilter]),e.texParameteri(n,10241,B[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===Kn&&a.wrapT===Kn||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,C(a.magFilter)),e.texParameteri(n,10241,C(a.minFilter)),a.minFilter!==ei&&a.minFilter!==ii&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===ei)return;if(a.minFilter!==ni&&a.minFilter!==ai)return;if(a.type===fi&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&a.type===di&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function R(t,n){var i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",T));var r=n.source,a=y.get(r);void 0===a&&(a={},y.set(r,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,i=!0),a[s].usedTimes++;var l=a[t.__cacheKey];void 0!==l&&(a[t.__cacheKey].usedTimes--,0===l.usedTimes&&_(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return i}function z(t,r,o){var s=3553;(r.isDataArrayTexture||r.isCompressedArrayTexture)&&(s=35866),r.isData3DTexture&&(s=32879);var l=R(t,r),u=r.source;n.bindTexture(s,t.__webglTexture,33984+o);var h=i.get(u);if(u.version!==h.__version||!0===l){n.activeTexture(33984+o),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var f,p=function(e){return!c&&(e.wrapS!==Kn||e.wrapT!==Kn||e.minFilter!==ei&&e.minFilter!==ii)}(r)&&!1===x(r.image),v=b(r.image,p,!1,d),m=x(v=G(r,v))||c,g=a.convert(r.format,r.encoding),y=a.convert(r.type),w=S(r.internalFormat,g,y,r.encoding,r.isVideoTexture);I(s,r,m);var A=r.mipmaps,C=c&&!0!==r.isVideoTexture,T=void 0===h.__version||!0===l,P=E(r,v,m);if(r.isDepthTexture)w=6402,c?w=r.type===fi?36012:r.type===hi?33190:r.type===mi?35056:33189:r.type===fi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===bi&&6402===w&&r.type!==ui&&r.type!==hi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=hi,y=a.convert(r.type)),r.format===xi&&6402===w&&(w=34041,r.type!==mi&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=mi,y=a.convert(r.type))),T&&(C?n.texStorage2D(3553,1,w,v.width,v.height):n.texImage2D(3553,0,w,v.width,v.height,0,g,y,null));else if(r.isDataTexture)if(A.length>0&&m){C&&T&&n.texStorage2D(3553,P,w,A[0].width,A[0].height);for(var _=0,L=A.length;_<L;_++)f=A[_],C?n.texSubImage2D(3553,_,0,0,f.width,f.height,g,y,f.data):n.texImage2D(3553,_,w,f.width,f.height,0,g,y,f.data);r.generateMipmaps=!1}else C?(T&&n.texStorage2D(3553,P,w,v.width,v.height),n.texSubImage2D(3553,0,0,0,v.width,v.height,g,y,v.data)):n.texImage2D(3553,0,w,v.width,v.height,0,g,y,v.data);else if(r.isCompressedTexture)if(r.isCompressedArrayTexture){C&&T&&n.texStorage3D(35866,P,w,A[0].width,A[0].height,v.depth);for(var O=0,D=A.length;O<D;O++)f=A[O],r.format!==yi?null!==g?C?n.compressedTexSubImage3D(35866,O,0,0,0,f.width,f.height,v.depth,g,f.data,0,0):n.compressedTexImage3D(35866,O,w,f.width,f.height,v.depth,0,f.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage3D(35866,O,0,0,0,f.width,f.height,v.depth,g,y,f.data):n.texImage3D(35866,O,w,f.width,f.height,v.depth,0,g,y,f.data)}else{C&&T&&n.texStorage2D(3553,P,w,A[0].width,A[0].height);for(var B=0,z=A.length;B<z;B++)f=A[B],r.format!==yi?null!==g?C?n.compressedTexSubImage2D(3553,B,0,0,f.width,f.height,g,f.data):n.compressedTexImage2D(3553,B,w,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage2D(3553,B,0,0,f.width,f.height,g,y,f.data):n.texImage2D(3553,B,w,f.width,f.height,0,g,y,f.data)}else if(r.isDataArrayTexture)C?(T&&n.texStorage3D(35866,P,w,v.width,v.height,v.depth),n.texSubImage3D(35866,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(35866,0,w,v.width,v.height,v.depth,0,g,y,v.data);else if(r.isData3DTexture)C?(T&&n.texStorage3D(32879,P,w,v.width,v.height,v.depth),n.texSubImage3D(32879,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(32879,0,w,v.width,v.height,v.depth,0,g,y,v.data);else if(r.isFramebufferTexture){if(T)if(C)n.texStorage2D(3553,P,w,v.width,v.height);else for(var N=v.width,F=v.height,U=0;U<P;U++)n.texImage2D(3553,U,w,N,F,0,g,y,null),N>>=1,F>>=1}else if(A.length>0&&m){C&&T&&n.texStorage2D(3553,P,w,A[0].width,A[0].height);for(var j=0,H=A.length;j<H;j++)f=A[j],C?n.texSubImage2D(3553,j,0,0,g,y,f):n.texImage2D(3553,j,w,g,y,f);r.generateMipmaps=!1}else C?(T&&n.texStorage2D(3553,P,w,v.width,v.height),n.texSubImage2D(3553,0,0,0,g,y,v)):n.texImage2D(3553,0,w,g,y,v);M(r,m)&&k(s),h.__version=u.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function N(t,r,o,s,l){var u=a.convert(o.format,o.encoding),c=a.convert(o.type),h=S(o.internalFormat,u,c,o.encoding);i.get(r).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,r.width,r.height,r.depth,0,u,c,null):n.texImage2D(l,0,h,r.width,r.height,0,u,c,null)),n.bindFramebuffer(36160,t),H(r)?v.framebufferTexture2DMultisampleEXT(36160,s,l,i.get(o).__webglTexture,0,j(r)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,i.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function F(t,n,i){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var r=33189;if(i||H(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===fi?r=36012:o.type===hi&&(r=33190));var s=j(n);H(n)?v.renderbufferStorageMultisampleEXT(36161,s,r,n.width,n.height):e.renderbufferStorageMultisample(36161,s,r,n.width,n.height)}else e.renderbufferStorage(36161,r,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=j(n);i&&!1===H(n)?e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height):H(n)?v.renderbufferStorageMultisampleEXT(36161,l,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var u=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<u.length;c++){var h=u[c],f=a.convert(h.format,h.encoding),d=a.convert(h.type),p=S(h.internalFormat,f,d,h.encoding),m=j(n);i&&!1===H(n)?e.renderbufferStorageMultisample(36161,m,p,n.width,n.height):H(n)?v.renderbufferStorageMultisampleEXT(36161,m,p,n.width,n.height):e.renderbufferStorage(36161,p,n.width,n.height)}e.bindRenderbuffer(36161,null)}function U(t){var r=i.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),O(r.depthTexture,0);var a=i.get(r.depthTexture).__webglTexture,o=j(r);if(r.depthTexture.format===bi)H(r)?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(r.depthTexture.format!==xi)throw new Error("Unknown depthTexture format");H(r)?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(r.__webglFramebuffer,t)}else if(a){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=e.createRenderbuffer(),F(r.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),F(r.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function j(e){return Math.min(p,e.samples)}function H(e){var n=i.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function G(e,n){var i=e.encoding,r=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===pr||i!==rr&&(i===ar?!1===c?!0===t.has("EXT_sRGB")&&r===yi?(e.format=pr,e.minFilter=ii,e.generateMipmaps=!1):n=Xr.sRGBToLinear(n):r===yi&&a===oi||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",i)),n}this.allocateTextureUnit=function(){var e=L;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),L+=1,e},this.resetTextureUnits=function(){L=0},this.setTexture2D=O,this.setTexture2DArray=function(e,t){var r=i.get(e);e.version>0&&r.__version!==e.version?z(r,e,t):n.bindTexture(35866,r.__webglTexture,33984+t)},this.setTexture3D=function(e,t){var r=i.get(e);e.version>0&&r.__version!==e.version?z(r,e,t):n.bindTexture(32879,r.__webglTexture,33984+t)},this.setTextureCube=function(t,r){var o=i.get(t);t.version>0&&o.__version!==t.version?function(t,r,o){if(6!==r.image.length)return;var s=R(t,r),l=r.source;n.bindTexture(34067,t.__webglTexture,33984+o);var u=i.get(l);if(l.version!==u.__version||!0===s){n.activeTexture(33984+o),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var h=r.isCompressedTexture||r.image[0].isCompressedTexture,d=r.image[0]&&r.image[0].isDataTexture,p=[],v=0;v<6;v++)p[v]=h||d?d?r.image[v].image:r.image[v]:b(r.image[v],!1,!0,f),p[v]=G(r,p[v]);var m,g=p[0],y=x(g)||c,w=a.convert(r.format,r.encoding),A=a.convert(r.type),C=S(r.internalFormat,w,A,r.encoding),T=c&&!0!==r.isVideoTexture,P=void 0===u.__version||!0===s,_=E(r,g,y);if(I(34067,r,y),h){T&&P&&n.texStorage2D(34067,_,C,g.width,g.height);for(var L=0;L<6;L++){m=p[L].mipmaps;for(var O=0;O<m.length;O++){var D=m[O];r.format!==yi?null!==w?T?n.compressedTexSubImage2D(34069+L,O,0,0,D.width,D.height,w,D.data):n.compressedTexImage2D(34069+L,O,C,D.width,D.height,0,D.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):T?n.texSubImage2D(34069+L,O,0,0,D.width,D.height,w,A,D.data):n.texImage2D(34069+L,O,C,D.width,D.height,0,w,A,D.data)}}}else{m=r.mipmaps,T&&P&&(m.length>0&&_++,n.texStorage2D(34067,_,C,p[0].width,p[0].height));for(var B=0;B<6;B++)if(d){T?n.texSubImage2D(34069+B,0,0,0,p[B].width,p[B].height,w,A,p[B].data):n.texImage2D(34069+B,0,C,p[B].width,p[B].height,0,w,A,p[B].data);for(var z=0;z<m.length;z++){var N=m[z].image[B].image;T?n.texSubImage2D(34069+B,z+1,0,0,N.width,N.height,w,A,N.data):n.texImage2D(34069+B,z+1,C,N.width,N.height,0,w,A,N.data)}}else{T?n.texSubImage2D(34069+B,0,0,0,w,A,p[B]):n.texImage2D(34069+B,0,C,w,A,p[B]);for(var F=0;F<m.length;F++){var U=m[F];T?n.texSubImage2D(34069+B,F+1,0,0,w,A,U.image[B]):n.texImage2D(34069+B,F+1,C,w,A,U.image[B])}}}M(r,y)&&k(34067),u.__version=l.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}(o,t,r):n.bindTexture(34067,o.__webglTexture,33984+r)},this.rebindTextures=function(e,t,n){var r=i.get(e);void 0!==t&&N(r.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&U(e)},this.setupRenderTarget=function(t){var s=t.texture,l=i.get(t),u=i.get(s);t.addEventListener("dispose",P),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,o.memory.textures++);var h=!0===t.isWebGLCubeRenderTarget,f=!0===t.isWebGLMultipleRenderTargets,d=x(t)||c;if(h){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=e.createFramebuffer()}else{if(l.__webglFramebuffer=e.createFramebuffer(),f)if(r.drawBuffers)for(var v=t.texture,m=0,g=v.length;m<g;m++){var y=i.get(v[m]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&t.samples>0&&!1===H(t)){var w=f?s:[s];l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer);for(var A=0;A<w.length;A++){var b=w[A];l.__webglColorRenderbuffer[A]=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer[A]);var E=a.convert(b.format,b.encoding),C=a.convert(b.type),T=S(b.internalFormat,E,C,b.encoding,!0===t.isXRRenderTarget),_=j(t);e.renderbufferStorageMultisample(36161,_,T,t.width,t.height),e.framebufferRenderbuffer(36160,36064+A,36161,l.__webglColorRenderbuffer[A])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),F(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,u.__webglTexture),I(34067,s,d);for(var L=0;L<6;L++)N(l.__webglFramebuffer[L],t,s,36064,34069+L);M(s,d)&&k(34067),n.unbindTexture()}else if(f){for(var O=t.texture,D=0,B=O.length;D<B;D++){var R=O[D],z=i.get(R);n.bindTexture(3553,z.__webglTexture),I(3553,R,d),N(l.__webglFramebuffer,t,R,36064+D,3553),M(R,d)&&k(3553)}n.unbindTexture()}else{var G=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?G=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(G,u.__webglTexture),I(G,s,d),N(l.__webglFramebuffer,t,s,36064,G),M(s,d)&&k(G),n.unbindTexture()}t.depthBuffer&&U(t)},this.updateRenderTargetMipmap=function(e){for(var t=x(e)||c,r=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=r.length;a<o;a++){var s=r[a];if(M(s,t)){var l=e.isWebGLCubeRenderTarget?34067:3553,u=i.get(s).__webglTexture;n.bindTexture(l,u),k(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===H(t)){var r=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=16384,l=[],u=t.stencilBuffer?33306:36096,h=i.get(t),f=!0===t.isWebGLMultipleRenderTargets;if(f)for(var d=0;d<r.length;d++)n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+d,36161,null),n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+d,3553,null,0);n.bindFramebuffer(36008,h.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,h.__webglFramebuffer);for(var p=0;p<r.length;p++){l.push(36064+p),t.depthBuffer&&l.push(u);var v=void 0!==h.__ignoreDepthValues&&h.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),f&&e.framebufferRenderbuffer(36008,36064,36161,h.__webglColorRenderbuffer[p]),!0===v&&(e.invalidateFramebuffer(36008,[u]),e.invalidateFramebuffer(36009,[u])),f){var g=i.get(r[p]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,g,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),m&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),f)for(var y=0;y<r.length;y++){n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+y,36161,h.__webglColorRenderbuffer[y]);var w=i.get(r[y]).__webglTexture;n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+y,3553,w,0)}n.bindFramebuffer(36009,h.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=N,this.useMultisampledRTT=H}function Uu(e,t,n){var i=n.isWebGL2;return{convert:function(n){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===oi)return 5121;if(n===pi)return 32819;if(n===vi)return 32820;if(n===si)return 5120;if(n===li)return 5122;if(n===ui)return 5123;if(n===ci)return 5124;if(n===hi)return 5125;if(n===fi)return 5126;if(n===di)return i?5131:null!==(r=t.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(n===gi)return 6406;if(n===yi)return 6408;if(n===wi)return 6409;if(n===Ai)return 6410;if(n===bi)return 6402;if(n===xi)return 34041;if(n===pr)return null!==(r=t.get("EXT_sRGB"))?r.SRGB_ALPHA_EXT:null;if(n===Mi)return 6403;if(n===ki)return 36244;if(n===Si)return 33319;if(n===Ei)return 33320;if(n===Ci)return 36249;if(n===Ti||n===Pi||n===_i||n===Li)if(a===ar){if(null===(r=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===Ti)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Pi)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===_i)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Li)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===Ti)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Pi)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===_i)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Li)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Oi||n===Di||n===Bi||n===Ii){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===Oi)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Di)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Bi)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ii)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Ri)return null!==(r=t.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===zi||n===Ni){if(null===(r=t.get("WEBGL_compressed_texture_etc")))return null;if(n===zi)return a===ar?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===Ni)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===Fi||n===Ui||n===ji||n===Hi||n===Gi||n===Vi||n===Qi||n===Wi||n===Xi||n===Yi||n===Ji||n===qi||n===Zi||n===Ki){if(null===(r=t.get("WEBGL_compressed_texture_astc")))return null;if(n===Fi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Ui)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===ji)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Hi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Gi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Vi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Qi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Wi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Xi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Yi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Ji)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===qi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Zi)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Ki)return a===ar?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===$i){if(null===(r=t.get("EXT_texture_compression_bptc")))return null;if(n===$i)return a===ar?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===er||n===tr||n===nr||n===ir){if(null===(r=t.get("EXT_texture_compression_rgtc")))return null;if(n===$i)return r.COMPRESSED_RED_RGTC1_EXT;if(n===tr)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===nr)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===ir)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===mi?i?34042:null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var ju=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Wt(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=i,e}return Yt(n)}(as),Hu=function(e){zt(n,e);var t=Ft(n);function n(){var e;return Wt(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return Yt(n)}(eo),Gu={type:"move"},Vu=function(){function e(){Wt(this,e),this._targetRay=null,this._grip=null,this._hand=null}return Yt(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Hu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Hu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ir,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ir),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Hu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ir,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ir),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,i=Ot(e.hand.values());try{for(i.s();!(n=i.n()).done;){var r=n.value;this._getHandJoint(t,r)}}catch(a){i.e(a)}finally{i.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var i=null,r=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;var u,c=Ot(e.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,f=t.getJointPose(h,n),d=this._getHandJoint(l,h);null!==f&&(d.matrix.fromArray(f.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=f.radius),d.visible=null!==f}}catch(g){c.e(g)}finally{c.f()}var p=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],m=p.position.distanceTo(v.position);l.inputState.pinching&&m>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&m<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(r=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(i=t.getPose(e.targetRaySpace,n))&&null!==r&&(i=r),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Gu)))}return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new Hu;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),Qu=function(e){zt(n,e);var t=Ft(n);function n(e,i,r,a,o,s,l,u,c,h){var f;if(Wt(this,n),(h=void 0!==h?h:bi)!==bi&&h!==xi)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===r&&h===bi&&(r=hi),void 0===r&&h===xi&&(r=mi),(f=t.call(this,null,a,o,s,l,u,h,r,c)).isDepthTexture=!0,f.image={width:e,height:i},f.magFilter=void 0!==l?l:ei,f.minFilter=void 0!==u?u:ei,f.flipY=!1,f.generateMipmaps=!1,f}return Yt(n)}(Zr),Wu=function(e){zt(n,e);var t=Ft(n);function n(e,i){var r;Wt(this,n);var a=Ut(r=t.call(this)),o=null,s=1,l=null,u="local-floor",c=1,h=null,f=null,d=null,p=null,v=null,m=null,g=i.getContextAttributes(),y=null,w=null,A=[],b=[],x=new Set,M=new Map,k=new as;k.layers.enable(1),k.viewport=new Kr;var S=new as;S.layers.enable(2),S.viewport=new Kr;var E=[k,S],C=new ju;C.layers.enable(1),C.layers.enable(2);var T=null,P=null;function _(e){var t=b.indexOf(e.inputSource);if(-1!==t){var n=A[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}}function L(){o.removeEventListener("select",_),o.removeEventListener("selectstart",_),o.removeEventListener("selectend",_),o.removeEventListener("squeeze",_),o.removeEventListener("squeezestart",_),o.removeEventListener("squeezeend",_),o.removeEventListener("end",L),o.removeEventListener("inputsourceschange",O);for(var t=0;t<A.length;t++){var n=b[t];null!==n&&(b[t]=null,A[t].disconnect(n))}T=null,P=null,e.setRenderTarget(y),v=null,p=null,d=null,o=null,w=null,z.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function O(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],i=b.indexOf(n);i>=0&&(b[i]=null,A[i].disconnect(n))}for(var r=0;r<e.added.length;r++){var a=e.added[r],o=b.indexOf(a);if(-1===o){for(var s=0;s<A.length;s++){if(s>=b.length){b.push(a),o=s;break}if(null===b[s]){b[s]=a,o=s;break}}if(-1===o)break}var l=A[o];l&&l.connect(a)}}r.cameraAutoUpdate=!0,r.enabled=!1,r.isPresenting=!1,r.getController=function(e){var t=A[e];return void 0===t&&(t=new Vu,A[e]=t),t.getTargetRaySpace()},r.getControllerGrip=function(e){var t=A[e];return void 0===t&&(t=new Vu,A[e]=t),t.getGripSpace()},r.getHand=function(e){var t=A[e];return void 0===t&&(t=new Vu,A[e]=t),t.getHandSpace()},r.setFramebufferScaleFactor=function(e){s=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},r.setReferenceSpaceType=function(e){u=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},r.getReferenceSpace=function(){return h||l},r.setReferenceSpace=function(e){h=e},r.getBaseLayer=function(){return null!==p?p:v},r.getBinding=function(){return d},r.getFrame=function(){return m},r.getSession=function(){return o},r.setSession=function(){var t,n=(t=Vt().mark((function t(n){var r,f,m,A,b;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=25;break}if(y=e.getRenderTarget(),o.addEventListener("select",_),o.addEventListener("selectstart",_),o.addEventListener("selectend",_),o.addEventListener("squeeze",_),o.addEventListener("squeezestart",_),o.addEventListener("squeezeend",_),o.addEventListener("end",L),o.addEventListener("inputsourceschange",O),!0===g.xrCompatible){t.next=14;break}return t.next=14,i.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(r={antialias:void 0!==o.renderState.layers||g.antialias,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s},v=new XRWebGLLayer(o,i,r),o.updateRenderState({baseLayer:v}),w=new $r(v.framebufferWidth,v.framebufferHeight,{format:yi,type:oi,encoding:e.outputEncoding,stencilBuffer:g.stencil})):(f=null,m=null,A=null,g.depth&&(A=g.stencil?35056:33190,f=g.stencil?xi:bi,m=g.stencil?mi:hi),b={colorFormat:32856,depthFormat:A,scaleFactor:s},d=new XRWebGLBinding(o,i),p=d.createProjectionLayer(b),o.updateRenderState({layers:[p]}),w=new $r(p.textureWidth,p.textureHeight,{format:yi,type:oi,depthTexture:new Qu(p.textureWidth,p.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,f),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0}),e.properties.get(w).__ignoreDepthValues=p.ignoreDepthValues),w.isXRRenderTarget=!0,this.setFoveation(c),h=null,t.next=20,o.requestReferenceSpace(u);case 20:l=t.sent,z.setContext(o),z.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(e){Lt(a,i,r,o,s,"next",e)}function s(e){Lt(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();var D=new Ir,B=new Ir;function I(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}r.updateCamera=function(e){if(null!==o){C.near=S.near=k.near=e.near,C.far=S.far=k.far=e.far,T===C.near&&P===C.far||(o.updateRenderState({depthNear:C.near,depthFar:C.far}),T=C.near,P=C.far);var t=e.parent,n=C.cameras;I(C,t);for(var i=0;i<n.length;i++)I(n[i],t);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),e.matrix.copy(C.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var r=e.children,a=0,s=r.length;a<s;a++)r[a].updateMatrixWorld(!0);2===n.length?function(e,t,n){D.setFromMatrixPosition(t.matrixWorld),B.setFromMatrixPosition(n.matrixWorld);var i=D.distanceTo(B),r=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],u=(r[9]-1)/r[5],c=(r[8]-1)/r[0],h=(a[8]+1)/a[0],f=o*c,d=o*h,p=i/(-c+h),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,g=s+p,y=f-v,w=d+(i-v),A=l*s/g*m,b=u*s/g*m;e.projectionMatrix.makePerspective(y,w,A,b,m,g)}(C,k,S):C.projectionMatrix.copy(k.projectionMatrix)}},r.getCamera=function(){return C},r.getFoveation=function(){if(null!==p||null!==v)return c},r.setFoveation=function(e){c=e,null!==p&&(p.fixedFoveation=e),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=e)},r.getPlanes=function(){return x};var R=null;var z=new gs;return z.setAnimationLoop((function(t,n){if(f=n.getViewerPose(h||l),m=n,null!==f){var i=f.views;null!==v&&(e.setRenderTargetFramebuffer(w,v.framebuffer),e.setRenderTarget(w));var r=!1;i.length!==C.cameras.length&&(C.cameras.length=0,r=!0);for(var o=0;o<i.length;o++){var s=i[o],u=null;if(null!==v)u=v.getViewport(s);else{var c=d.getViewSubImage(p,s);u=c.viewport,0===o&&(e.setRenderTargetTextures(w,c.colorTexture,p.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(w))}var g=E[o];void 0===g&&((g=new as).layers.enable(o),g.viewport=new Kr,E[o]=g),g.matrix.fromArray(s.transform.matrix),g.projectionMatrix.fromArray(s.projectionMatrix),g.viewport.set(u.x,u.y,u.width,u.height),0===o&&C.matrix.copy(g.matrix),!0===r&&C.cameras.push(g)}}for(var y=0;y<A.length;y++){var k=b[y],S=A[y];null!==k&&void 0!==S&&S.update(k,n,h||l)}if(R&&R(t,n),n.detectedPlanes){a.dispatchEvent({type:"planesdetected",data:n.detectedPlanes});var T,P=null,_=Ot(x);try{for(_.s();!(T=_.n()).done;){var L=T.value;n.detectedPlanes.has(L)||(null===P&&(P=[]),P.push(L))}}catch(U){_.e(U)}finally{_.f()}if(null!==P){var O,D=Ot(P);try{for(D.s();!(O=D.n()).done;){var B=O.value;x.delete(B),M.delete(B),a.dispatchEvent({type:"planeremoved",data:B})}}catch(U){D.e(U)}finally{D.f()}}var I,z=Ot(n.detectedPlanes);try{for(z.s();!(I=z.n()).done;){var N=I.value;if(x.has(N)){var F=M.get(N);N.lastChangedTime>F&&(M.set(N,N.lastChangedTime),a.dispatchEvent({type:"planechanged",data:N}))}else x.add(N),M.set(N,n.lastChangedTime),a.dispatchEvent({type:"planeadded",data:N})}}catch(U){z.e(U)}finally{z.f()}}m=null})),r.setAnimationLoop=function(e){R=e},r.dispose=function(){},r}return Yt(n)}(vr);function Xu(e,t){function n(n,i){n.opacity.value=i.opacity,i.color&&n.diffuse.value.copy(i.color),i.emissive&&n.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(n.map.value=i.map),i.alphaMap&&(n.alphaMap.value=i.alphaMap),i.bumpMap&&(n.bumpMap.value=i.bumpMap,n.bumpScale.value=i.bumpScale,i.side===an&&(n.bumpScale.value*=-1)),i.displacementMap&&(n.displacementMap.value=i.displacementMap,n.displacementScale.value=i.displacementScale,n.displacementBias.value=i.displacementBias),i.emissiveMap&&(n.emissiveMap.value=i.emissiveMap),i.normalMap&&(n.normalMap.value=i.normalMap,n.normalScale.value.copy(i.normalScale),i.side===an&&n.normalScale.value.negate()),i.specularMap&&(n.specularMap.value=i.specularMap),i.alphaTest>0&&(n.alphaTest.value=i.alphaTest);var r,a,o=t.get(i).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=i.reflectivity,n.ior.value=i.ior,n.refractionRatio.value=i.refractionRatio),i.lightMap){n.lightMap.value=i.lightMap;var s=!0===e.useLegacyLights?Math.PI:1;n.lightMapIntensity.value=i.lightMapIntensity*s}i.aoMap&&(n.aoMap.value=i.aoMap,n.aoMapIntensity.value=i.aoMapIntensity),i.map?r=i.map:i.specularMap?r=i.specularMap:i.displacementMap?r=i.displacementMap:i.normalMap?r=i.normalMap:i.bumpMap?r=i.bumpMap:i.roughnessMap?r=i.roughnessMap:i.metalnessMap?r=i.metalnessMap:i.alphaMap?r=i.alphaMap:i.emissiveMap?r=i.emissiveMap:i.clearcoatMap?r=i.clearcoatMap:i.clearcoatNormalMap?r=i.clearcoatNormalMap:i.clearcoatRoughnessMap?r=i.clearcoatRoughnessMap:i.iridescenceMap?r=i.iridescenceMap:i.iridescenceThicknessMap?r=i.iridescenceThicknessMap:i.specularIntensityMap?r=i.specularIntensityMap:i.specularColorMap?r=i.specularColorMap:i.transmissionMap?r=i.transmissionMap:i.thicknessMap?r=i.thicknessMap:i.sheenColorMap?r=i.sheenColorMap:i.sheenRoughnessMap&&(r=i.sheenRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),n.uvTransform.value.copy(r.matrix)),i.aoMap?a=i.aoMap:i.lightMap&&(a=i.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,ts(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,r,a,o){i.isMeshBasicMaterial||i.isMeshLambertMaterial?n(e,i):i.isMeshToonMaterial?(n(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(n(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(n(e,i),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);var i=t.get(n).envMap;i&&(e.envMapIntensity.value=n.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===an&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,i,o)):i.isMeshMatcapMaterial?(n(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?n(e,i):i.isMeshDistanceMaterial?(n(e,i),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,i)):i.isMeshNormalMaterial?n(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,n,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*i,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,i,r,a):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Yu(e,t,n,i){var r={},a={},o=[],s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){var i=e.value;if(void 0===n[t]){if("number"===typeof i)n[t]=i;else{for(var r=Array.isArray(i)?i:[i],a=[],o=0;o<r.length;o++)a.push(r[o].clone());n[t]=a}return!0}if("number"===typeof i){if(n[t]!==i)return n[t]=i,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],l=Array.isArray(i)?i:[i],u=0;u<s.length;u++){var c=s[u];if(!1===c.equals(l[u]))return c.copy(l[u]),!0}return!1}function u(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var i=o.indexOf(n.__bindingPointIndex);o.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;i.uniformBlockBinding(e,n)},update:function(n,h){var f=r[n.id];void 0===f&&(!function(e){for(var t=e.uniforms,n=0,i=16,r=0,a=0,o=t.length;a<o;a++){for(var s=t[a],l={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],h=0,f=c.length;h<f;h++){var d=u(c[h]);l.boundary+=d.boundary,l.storage+=d.storage}if(s.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(r=n%i)&&i-r-l.boundary<0&&(n+=i-r,s.__offset=n);n+=l.storage}(r=n%i)>0&&(n+=i-r);e.__size=n,e.__cache={}}(n),f=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var i=e.createBuffer(),r=t.__size,a=t.usage;return e.bindBuffer(35345,i),e.bufferData(35345,r,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,i),i}(n),r[n.id]=f,n.addEventListener("dispose",c));var d=h.program;i.updateUBOMapping(n,d);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=r[t.id],i=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(var o=0,s=i.length;o<s;o++){var c=i[o];if(!0===l(c,o,a)){for(var h=c.__offset,f=Array.isArray(c.value)?c.value:[c.value],d=0,p=0;p<f.length;p++){var v=f[p],m=u(v);"number"===typeof v?(c.__data[0]=v,e.bufferSubData(35345,h+d,c.__data)):v.isMatrix3?(c.__data[0]=v.elements[0],c.__data[1]=v.elements[1],c.__data[2]=v.elements[2],c.__data[3]=v.elements[0],c.__data[4]=v.elements[3],c.__data[5]=v.elements[4],c.__data[6]=v.elements[5],c.__data[7]=v.elements[0],c.__data[8]=v.elements[6],c.__data[9]=v.elements[7],c.__data[10]=v.elements[8],c.__data[11]=v.elements[0]):(v.toArray(c.__data,d),d+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,h,c.__data)}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(var t in r)e.deleteBuffer(r[t]);o=[],r={},a={}}}}function Ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isWebGLRenderer=!0;var t,n=void 0!==e.canvas?e.canvas:function(){var e=Dr("canvas");return e.style.display="block",e}(),i=void 0!==e.context?e.context:null,r=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;t=null!==i?i.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;var h=null,f=null,d=[],p=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=rr,this.useLegacyLights=!0,this.toneMapping=Un,this.toneMappingExposure=1;var v=this,m=!1,g=0,y=0,w=null,A=-1,b=null,x=new Kr,M=new Kr,k=null,S=n.width,E=n.height,C=1,T=null,P=null,_=new Kr(0,0,S,E),L=new Kr(0,0,S,E),O=!1,D=new ms,B=!1,I=!1,R=null,z=new Pa,N=new Ir,F={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return null===w?C:1}var j,H,G,V,Q,W,X,Y,J,q,Z,K,$,ee,te,ne,ie,re,ae,oe,se,le,ue,ce,he=i;function fe(e,t){for(var i=0;i<e.length;i++){var r=e[i],a=n.getContext(r,t);if(null!==a)return a}return null}try{var de={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(qt)),n.addEventListener("webglcontextlost",ge,!1),n.addEventListener("webglcontextrestored",ye,!1),n.addEventListener("webglcontextcreationerror",we,!1),null===he){var pe=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&pe.shift(),null===(he=fe(pe,de)))throw fe(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===he.getShaderPrecisionFormat&&(he.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Le){throw console.error("THREE.WebGLRenderer: "+Le.message),Le}function ve(){j=new Vs(he),H=new Cs(he,j,e),j.init(H),le=new Uu(he,j,H),G=new Nu(he,j,H),V=new Xs,Q=new xu,W=new Fu(he,j,G,Q,H,le,V),X=new Ps(v),Y=new Gs(v),J=new ys(he,H),ue=new Ss(he,j,J,H),q=new Qs(he,J,V,ue),Z=new Zs(he,q,J,V),ae=new qs(he,H,W),ne=new Ts(Q),K=new bu(v,X,Y,j,H,ue,ne),$=new Xu(v,Q),ee=new Eu,te=new Ou(j,H),re=new ks(v,X,Y,G,Z,t,s),ie=new zu(v,Z,H),ce=new Yu(he,V,H,G),oe=new Es(he,j,V,H),se=new Ws(he,j,V,H),V.programs=K.programs,v.capabilities=H,v.extensions=j,v.properties=Q,v.renderLists=ee,v.shadowMap=ie,v.state=G,v.info=V}ve();var me=new Wu(v,he);function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=V.autoReset,t=ie.enabled,n=ie.autoUpdate,i=ie.needsUpdate,r=ie.type;ve(),V.autoReset=e,ie.enabled=t,ie.autoUpdate=n,ie.needsUpdate=i,ie.type=r}function we(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ae(e){var t=e.target;t.removeEventListener("dispose",Ae),function(e){(function(e){var t=Q.get(e).programs;void 0!==t&&(t.forEach((function(e){K.releaseProgram(e)})),e.isShaderMaterial&&K.releaseShaderCache(e))})(e),Q.remove(e)}(t)}this.xr=me,this.getContext=function(){return he},this.getContextAttributes=function(){return he.getContextAttributes()},this.forceContextLoss=function(){var e=j.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=j.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(e){void 0!==e&&(C=e,this.setSize(S,E,!1))},this.getSize=function(e){return e.set(S,E)},this.setSize=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];me.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=e,E=t,n.width=Math.floor(e*C),n.height=Math.floor(t*C),!0===i&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(S*C,E*C).floor()},this.setDrawingBufferSize=function(e,t,i){S=e,E=t,C=i,n.width=Math.floor(e*i),n.height=Math.floor(t*i),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(x)},this.getViewport=function(e){return e.copy(_)},this.setViewport=function(e,t,n,i){e.isVector4?_.set(e.x,e.y,e.z,e.w):_.set(e,t,n,i),G.viewport(x.copy(_).multiplyScalar(C).floor())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,i){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,i),G.scissor(M.copy(L).multiplyScalar(C).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(e){G.setScissorTest(O=e)},this.setOpaqueSort=function(e){T=e},this.setTransparentSort=function(e){P=e},this.getClearColor=function(e){return e.copy(re.getClearColor())},this.setClearColor=function(){re.setClearColor.apply(re,arguments)},this.getClearAlpha=function(){return re.getClearAlpha()},this.setClearAlpha=function(){re.setClearAlpha.apply(re,arguments)},this.clear=function(){var e=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e|=16384),(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e|=256),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(e|=1024),he.clear(e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ge,!1),n.removeEventListener("webglcontextrestored",ye,!1),n.removeEventListener("webglcontextcreationerror",we,!1),ee.dispose(),te.dispose(),Q.dispose(),X.dispose(),Y.dispose(),Z.dispose(),ue.dispose(),ce.dispose(),K.dispose(),me.dispose(),me.removeEventListener("sessionstart",xe),me.removeEventListener("sessionend",Me),R&&(R.dispose(),R=null),ke.stop()},this.renderBufferDirect=function(e,t,n,i,r,a){null===t&&(t=F);var o=r.isMesh&&r.matrixWorld.determinant()<0,s=function(e,t,n,i,r){!0!==t.isScene&&(t=F);W.resetTextureUnits();var a=t.fog,o=i.isMeshStandardMaterial?t.environment:null,s=null===w?v.outputEncoding:!0===w.isXRRenderTarget?w.texture.encoding:rr,l=(i.isMeshStandardMaterial?Y:X).get(i.envMap||o),u=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!i.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=i.toneMapped?v.toneMapping:Un,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==g?g.length:0,x=Q.get(i),M=f.state.lights;if(!0===B&&(!0===I||e!==b)){var k=e===b&&i.id===A;ne.setState(i,e,k)}var S=!1;i.version===x.__version?x.needsLights&&x.lightsStateVersion!==M.state.version||x.outputEncoding!==s||r.isInstancedMesh&&!1===x.instancing?S=!0:r.isInstancedMesh||!0!==x.instancing?r.isSkinnedMesh&&!1===x.skinning?S=!0:r.isSkinnedMesh||!0!==x.skinning?x.envMap!==l||!0===i.fog&&x.fog!==a?S=!0:void 0===x.numClippingPlanes||x.numClippingPlanes===ne.numPlanes&&x.numIntersection===ne.numIntersection?(x.vertexAlphas!==u||x.vertexTangents!==c||x.morphTargets!==h||x.morphNormals!==d||x.morphColors!==p||x.toneMapping!==m||!0===H.isWebGL2&&x.morphTargetsCount!==y)&&(S=!0):S=!0:S=!0:S=!0:(S=!0,x.__version=i.version);var T=x.currentProgram;!0===S&&(T=Pe(i,t,r));var P=!1,_=!1,L=!1,O=T.getUniforms(),D=x.uniforms;G.useProgram(T.program)&&(P=!0,_=!0,L=!0);i.id!==A&&(A=i.id,_=!0);if(P||b!==e){if(O.setValue(he,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&O.setValue(he,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),b!==e&&(b=e,_=!0,L=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap){var z=O.map.cameraPosition;void 0!==z&&z.setValue(he,N.setFromMatrixPosition(e.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&O.setValue(he,"isOrthographic",!0===e.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.isShadowMaterial||r.isSkinnedMesh)&&O.setValue(he,"viewMatrix",e.matrixWorldInverse)}if(r.isSkinnedMesh){O.setOptional(he,r,"bindMatrix"),O.setOptional(he,r,"bindMatrixInverse");var U=r.skeleton;U&&(H.floatVertexTextures?(null===U.boneTexture&&U.computeBoneTexture(),O.setValue(he,"boneTexture",U.boneTexture,W),O.setValue(he,"boneTextureSize",U.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var j=n.morphAttributes;(void 0!==j.position||void 0!==j.normal||void 0!==j.color&&!0===H.isWebGL2)&&ae.update(r,n,T);(_||x.receiveShadow!==r.receiveShadow)&&(x.receiveShadow=r.receiveShadow,O.setValue(he,"receiveShadow",r.receiveShadow));i.isMeshGouraudMaterial&&null!==i.envMap&&(D.envMap.value=l,D.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);_&&(O.setValue(he,"toneMappingExposure",v.toneMappingExposure),x.needsLights&&(J=L,(V=D).ambientLightColor.needsUpdate=J,V.lightProbe.needsUpdate=J,V.directionalLights.needsUpdate=J,V.directionalLightShadows.needsUpdate=J,V.pointLights.needsUpdate=J,V.pointLightShadows.needsUpdate=J,V.spotLights.needsUpdate=J,V.spotLightShadows.needsUpdate=J,V.rectAreaLights.needsUpdate=J,V.hemisphereLights.needsUpdate=J),a&&!0===i.fog&&$.refreshFogUniforms(D,a),$.refreshMaterialUniforms(D,i,C,E,R),tu.upload(he,x.uniformsList,D,W));var V,J;i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(tu.upload(he,x.uniformsList,D,W),i.uniformsNeedUpdate=!1);i.isSpriteMaterial&&O.setValue(he,"center",r.center);if(O.setValue(he,"modelViewMatrix",r.modelViewMatrix),O.setValue(he,"normalMatrix",r.normalMatrix),O.setValue(he,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial)for(var q=i.uniformsGroups,Z=0,K=q.length;Z<K;Z++)if(H.isWebGL2){var ee=q[Z];ce.update(ee,T),ce.bind(ee,T)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return T}(e,t,n,i,r);G.setMaterial(i,o);var l=n.index,u=1;!0===i.wireframe&&(l=q.getWireframeAttribute(n),u=2);var c=n.drawRange,h=n.attributes.position,d=c.start*u,p=(c.start+c.count)*u;null!==a&&(d=Math.max(d,a.start*u),p=Math.min(p,(a.start+a.count)*u)),null!==l?(d=Math.max(d,0),p=Math.min(p,l.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),p=Math.min(p,h.count));var m=p-d;if(!(m<0||m===1/0)){var g;ue.setup(r,i,s,n,l);var y=oe;if(null!==l&&(g=J.get(l),(y=se).setIndex(g)),r.isMesh)!0===i.wireframe?(G.setLineWidth(i.wireframeLinewidth*U()),y.setMode(1)):y.setMode(4);else if(r.isLine){var x=i.linewidth;void 0===x&&(x=1),G.setLineWidth(x*U()),r.isLineSegments?y.setMode(1):r.isLineLoop?y.setMode(2):y.setMode(3)}else r.isPoints?y.setMode(0):r.isSprite&&y.setMode(4);if(r.isInstancedMesh)y.renderInstances(d,m,r.count);else if(n.isInstancedBufferGeometry){var M=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,k=Math.min(n.instanceCount,M);y.renderInstances(d,m,k)}else y.render(d,m)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===on&&!1===e.forceSinglePass?(e.side=an,e.needsUpdate=!0,Pe(e,t,n),e.side=rn,e.needsUpdate=!0,Pe(e,t,n),e.side=on):Pe(e,t,n)}(f=te.get(e)).init(),p.push(f),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))})),f.setupLights(v.useLegacyLights),e.traverse((function(t){var i=t.material;if(i)if(Array.isArray(i))for(var r=0;r<i.length;r++){n(i[r],e,t)}else n(i,e,t)})),p.pop(),f=null};var be=null;function xe(){ke.stop()}function Me(){ke.start()}var ke=new gs;function Se(e,t,n,i){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)f.pushLight(e),e.castShadow&&f.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){i&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var r=Z.update(e),a=e.material;a.visible&&h.push(e,r,a,n,N.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==V.render.frame&&(e.skeleton.update(),e.skeleton.frame=V.render.frame),!e.frustumCulled||D.intersectsObject(e))){i&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var o=Z.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var d=l[u],p=s[d.materialIndex];p&&p.visible&&h.push(e,o,p,n,N.z,d)}else s.visible&&h.push(e,o,s,n,N.z,null)}for(var v=e.children,m=0,g=v.length;m<g;m++)Se(v[m],t,n,i)}}function Ee(e,t,n,i){var r=e.opaque,a=e.transmissive,s=e.transparent;f.setupLightsView(n),!0===B&&ne.setGlobalState(v.clippingPlanes,n),a.length>0&&function(e,t,n){var i=H.isWebGL2;null===R&&(R=new $r(1024,1024,{generateMipmaps:!0,type:j.has("EXT_color_buffer_half_float")?di:oi,minFilter:ai,samples:i&&!0===o?4:0}));var r=v.getRenderTarget();v.setRenderTarget(R),v.clear();var a=v.toneMapping;v.toneMapping=Un,Ce(e,t,n),v.toneMapping=a,W.updateMultisampleRenderTarget(R),W.updateRenderTargetMipmap(R),v.setRenderTarget(r)}(r,t,n),i&&G.viewport(x.copy(i)),r.length>0&&Ce(r,t,n),a.length>0&&Ce(a,t,n),s.length>0&&Ce(s,t,n),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1)}function Ce(e,t,n){for(var i=!0===t.isScene?t.overrideMaterial:null,r=0,a=e.length;r<a;r++){var o=e[r],s=o.object,l=o.geometry,u=null===i?o.material:i,c=o.group;s.layers.test(n.layers)&&Te(s,t,n,l,u,c)}}function Te(e,t,n,i,r,a){e.onBeforeRender(v,t,n,i,r,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(v,t,n,i,e,a),!0===r.transparent&&r.side===on&&!1===r.forceSinglePass?(r.side=an,r.needsUpdate=!0,v.renderBufferDirect(n,t,i,r,e,a),r.side=rn,r.needsUpdate=!0,v.renderBufferDirect(n,t,i,r,e,a),r.side=on):v.renderBufferDirect(n,t,i,r,e,a),e.onAfterRender(v,t,n,i,r,a)}function Pe(e,t,n){!0!==t.isScene&&(t=F);var i=Q.get(e),r=f.state.lights,a=f.state.shadowsArray,o=r.state.version,s=K.getParameters(e,r.state,a,t,n),l=K.getProgramCacheKey(s),u=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?Y:X).get(e.envMap||i.environment),void 0===u&&(e.addEventListener("dispose",Ae),u=new Map,i.programs=u);var c=u.get(l);if(void 0!==c){if(i.currentProgram===c&&i.lightsStateVersion===o)return _e(e,s),c}else s.uniforms=K.getUniforms(e),e.onBuild(n,s,v),e.onBeforeCompile(s,v),c=K.acquireProgram(s,l),u.set(l,c),i.uniforms=s.uniforms;var h=i.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=ne.uniform),_e(e,s),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=o,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotLightMatrix.value=r.state.spotLightMatrix,h.spotLightMap.value=r.state.spotLightMap,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);var d=c.getUniforms(),p=tu.seqWithValue(d.seq,h);return i.currentProgram=c,i.uniformsList=p,c}function _e(e,t){var n=Q.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}ke.setAnimationLoop((function(e){be&&be(e)})),"undefined"!==typeof self&&ke.setContext(self),this.setAnimationLoop=function(e){be=e,me.setAnimationLoop(e),null===e?ke.stop():ke.start()},me.addEventListener("sessionstart",xe),me.addEventListener("sessionend",Me),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==m){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===me.enabled&&!0===me.isPresenting&&(!0===me.cameraAutoUpdate&&me.updateCamera(t),t=me.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,w),(f=te.get(e,p.length)).init(),p.push(f),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(z),I=this.localClippingEnabled,B=ne.init(this.clippingPlanes,I),(h=ee.get(e,d.length)).init(),d.push(h),Se(e,t,0,v.sortObjects),h.finish(),!0===v.sortObjects&&h.sort(T,P),!0===B&&ne.beginShadows();var n=f.state.shadowsArray;if(ie.render(n,e,t),!0===B&&ne.endShadows(),!0===this.info.autoReset&&this.info.reset(),re.render(h,e),f.setupLights(v.useLegacyLights),t.isArrayCamera)for(var i=t.cameras,r=0,a=i.length;r<a;r++){var o=i[r];Ee(h,e,o,o.viewport)}else Ee(h,e,t);null!==w&&(W.updateMultisampleRenderTarget(w),W.updateRenderTargetMipmap(w)),!0===e.isScene&&e.onAfterRender(v,e,t),ue.resetDefaultState(),A=-1,b=null,p.pop(),f=p.length>0?p[p.length-1]:null,d.pop(),h=d.length>0?d[d.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(e,t,n){Q.get(e.texture).__webglTexture=t,Q.get(e.depthTexture).__webglTexture=n;var i=Q.get(e);i.__hasExternalTextures=!0,i.__hasExternalTextures&&(i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===j.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=Q.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;w=e,g=t,y=n;var i=!0,r=null,a=!1,o=!1;if(e){var s=Q.get(e);void 0!==s.__useDefaultFramebuffer?(G.bindFramebuffer(36160,null),i=!1):void 0===s.__webglFramebuffer?W.setupRenderTarget(e):s.__hasExternalTextures&&W.rebindTextures(e,Q.get(e.texture).__webglTexture,Q.get(e.depthTexture).__webglTexture);var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var u=Q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=u[t],a=!0):r=H.isWebGL2&&e.samples>0&&!1===W.useMultisampledRTT(e)?Q.get(e).__webglMultisampledFramebuffer:u,x.copy(e.viewport),M.copy(e.scissor),k=e.scissorTest}else x.copy(_).multiplyScalar(C).floor(),M.copy(L).multiplyScalar(C).floor(),k=O;if(G.bindFramebuffer(36160,r)&&H.drawBuffers&&i&&G.drawBuffers(e,r),G.viewport(x),G.scissor(M),G.setScissorTest(k),a){var c=Q.get(e.texture);he.framebufferTexture2D(36160,36064,34069+t,c.__webglTexture,n)}else if(o){var h=Q.get(e.texture),f=t||0;he.framebufferTextureLayer(36160,36064,h.__webglTexture,n||0,f)}A=-1},this.readRenderTargetPixels=function(e,t,n,i,r,a,o){if(e&&e.isWebGLRenderTarget){var s=Q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){G.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==yi&&le.convert(u)!==he.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===di&&(j.has("EXT_color_buffer_half_float")||H.isWebGL2&&j.has("EXT_color_buffer_float"));if(c!==oi&&le.convert(c)!==he.getParameter(35738)&&(c!==fi||!(H.isWebGL2||j.has("OES_texture_float")||j.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&he.readPixels(t,n,i,r,le.convert(u),le.convert(c),a)}finally{var f=null!==w?Q.get(w).__webglFramebuffer:null;G.bindFramebuffer(36160,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Math.pow(2,-n),r=Math.floor(t.image.width*i),a=Math.floor(t.image.height*i);W.setTexture2D(t,0),he.copyTexSubImage2D(3553,n,0,0,e.x,e.y,r,a),G.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=t.image.width,a=t.image.height,o=le.convert(n.format),s=le.convert(n.type);W.setTexture2D(n,0),he.pixelStorei(37440,n.flipY),he.pixelStorei(37441,n.premultiplyAlpha),he.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?he.texSubImage2D(3553,i,e.x,e.y,r,a,o,s,t.image.data):t.isCompressedTexture?he.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):he.texSubImage2D(3553,i,e.x,e.y,o,s,t.image),0===i&&n.generateMipmaps&&he.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(v.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=le.convert(i.format),c=le.convert(i.type);if(i.isData3DTexture)W.setTexture3D(i,0),a=32879;else{if(!i.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");W.setTexture2DArray(i,0),a=35866}he.pixelStorei(37440,i.flipY),he.pixelStorei(37441,i.premultiplyAlpha),he.pixelStorei(3317,i.unpackAlignment);var h=he.getParameter(3314),f=he.getParameter(32878),d=he.getParameter(3316),p=he.getParameter(3315),m=he.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;he.pixelStorei(3314,g.width),he.pixelStorei(32878,g.height),he.pixelStorei(3316,e.min.x),he.pixelStorei(3315,e.min.y),he.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?he.texSubImage3D(a,r,t.x,t.y,t.z,o,s,l,u,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),he.compressedTexSubImage3D(a,r,t.x,t.y,t.z,o,s,l,u,g.data)):he.texSubImage3D(a,r,t.x,t.y,t.z,o,s,l,u,c,g),he.pixelStorei(3314,h),he.pixelStorei(32878,f),he.pixelStorei(3316,d),he.pixelStorei(3315,p),he.pixelStorei(32877,m),0===r&&i.generateMipmaps&&he.generateMipmap(a),G.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?W.setTextureCube(e,0):e.isData3DTexture?W.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?W.setTexture2DArray(e,0):W.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){g=0,y=0,w=null,G.reset(),ue.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(Ju.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}}),function(e){zt(n,e);var t=Ft(n);function n(){return Wt(this,n),t.apply(this,arguments)}return Yt(n)}(Ju).prototype.isWebGL1Renderer=!0;var qu=function(e){zt(n,e);var t=Ft(n);function n(){var e;return Wt(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Ut(e)})),e}return Yt(n,[{key:"copy",value:function(e,t){return Rt(Ht(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Rt(Ht(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(eo),Zu=function(){function e(){Wt(this,e),this.type="Curve",this.arcLengthDivisions=200}return Yt(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=e;a++)r+=(t=this.getPoint(a/e)).distanceTo(i),n.push(r),i=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,i=this.getLengths(),r=0,a=i.length;n=t||e*i[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(a-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);var a=this.getPoint(i),o=this.getPoint(r),s=t||(a.isVector2?new Pr:new Ir);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Ir,i=[],r=[],a=[],o=new Ir,s=new Pa,l=0;l<=e;l++){var u=l/e;i[l]=this.getTangentAt(u,new Ir)}r[0]=new Ir,a[0]=new Ir;var c=Number.MAX_VALUE,h=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);h<=c&&(c=h,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var p=1;p<=e;p++){if(r[p]=r[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(br(i[p-1].dot(i[p]),-1,1));r[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(i[p],r[p])}if(!0===t){var m=Math.acos(br(r[0].dot(r[e]),-1,1));m/=e,i[0].dot(o.crossVectors(r[0],r[e]))>0&&(m=-m);for(var g=1;g<=e;g++)r[g].applyMatrix4(s.makeRotationAxis(i[g],m*g)),a[g].crossVectors(i[g],r[g])}return{tangents:i,normals:r,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}();function Ku(e,t,n,i,r){var a=.5*(i-t),o=.5*(r-n),s=e*e;return(2*n-2*i+a+o)*(e*s)+(-3*n+3*i-2*a-o)*s+a*e+n}var $u,ec=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Wt(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=i,e}return Yt(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pr,n=this.points,i=(n.length-1)*e,r=Math.floor(i),a=i-r,o=n[0===r?r:r-1],s=n[r],l=n[r>n.length-2?n.length-1:r+1],u=n[r>n.length-3?n.length-1:r+2];return t.set(Ku(a,o.x,s.x,l.x,u.x),Ku(a,o.y,s.y,l.y,u.y)),t}},{key:"copy",value:function(e){Rt(Ht(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push(r.clone())}return this}},{key:"toJSON",value:function(){var e=Rt(Ht(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var r=this.points[t];e.points.push(r.toArray())}return e}},{key:"fromJSON",value:function(e){Rt(Ht(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push((new Pr).fromArray(r))}return this}}]),n}(Zu),tc=function(e){zt(n,e);var t=Ft(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;Wt(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:i,widthSegments:r,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},r=Math.max(3,Math.floor(r)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),h=0,f=[],d=new Ir,p=new Ir,v=[],m=[],g=[],y=[],w=0;w<=a;w++){var A=[],b=w/a,x=0;0==w&&0==l?x=.5/r:w==a&&c==Math.PI&&(x=-.5/r);for(var M=0;M<=r;M++){var k=M/r;d.x=-i*Math.cos(o+k*s)*Math.sin(l+b*u),d.y=i*Math.cos(l+b*u),d.z=i*Math.sin(o+k*s)*Math.sin(l+b*u),m.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),y.push(k+x,1-b),A.push(h++)}f.push(A)}for(var S=0;S<a;S++)for(var E=0;E<r;E++){var C=f[S][E+1],T=f[S][E],P=f[S+1][E],_=f[S+1][E+1];(0!==S||l>0)&&v.push(C,T,_),(S!==a-1||c<Math.PI)&&v.push(T,P,_)}return e.setIndex(v),e.setAttribute("position",new Co(m,3)),e.setAttribute("normal",new Co(g,3)),e.setAttribute("uv",new Co(y,2)),e}return Yt(n,[{key:"copy",value:function(e){return Rt(Ht(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(Io),nc={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},ic=new(Yt((function e(t,n,i){Wt(this,e);var r=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=i,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var i=u[t],r=u[t+1];if(i.global&&(i.lastIndex=0),i.test(e))return r}return null}}))),rc=function(){function e(t){Wt(this,e),this.manager=void 0!==t?t:ic,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return Yt(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),ac={},oc=function(e){zt(n,e);var t=Ft(n);function n(e,i){var r;return Wt(this,n),(r=t.call(this,e)).response=i,r}return Yt(n)}(Pt(Error)),sc=function(e){zt(n,e);var t=Ft(n);function n(e){return Wt(this,n),t.call(this,e)}return Yt(n,[{key:"load",value:function(e,t,n,i){var r=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=nc.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;if(void 0===ac[e]){ac[e]=[],ac[e].push({onLoad:t,onProgress:n,onError:i});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=ac[e],i=t.body.getReader(),r=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=r?parseInt(r):0,o=0!==a,s=0,l=new ReadableStream({start:function(e){!function t(){i.read().then((function(i){var r=i.done,l=i.value;if(r)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,h=n.length;c<h;c++){var f=n[c];f.onProgress&&f.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new oc('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,i=new TextDecoder(n);return e.arrayBuffer().then((function(e){return i.decode(e)}))}})).then((function(t){nc.add(e,t);var n=ac[e];delete ac[e];for(var i=0,r=n.length;i<r;i++){var a=n[i];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=ac[e];if(void 0===n)throw r.manager.itemError(e),t;delete ac[e];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e)})).finally((function(){r.manager.itemEnd(e)})),this.manager.itemStart(e)}else ac[e].push({onLoad:t,onProgress:n,onError:i})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(rc),lc=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;Wt(this,e),this.ray=new Ta(t,n),this.near=i,this.far=r,this.camera=null,this.layers=new Ua,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return Yt(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return cc(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(uc),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=0,r=e.length;i<r;i++)cc(e[i],this,n,t);return n.sort(uc),n}}]),e}();function uc(e,t){return e.distance-t.distance}function cc(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i)for(var r=e.children,a=0,o=r.length;a<o;a++)cc(r[a],t,n,!0)}function hc(){hc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new S(r||[]);return i(o,"_invoke",{value:b(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(E([])));g&&g!==t&&n.call(g,a)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==_c(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function b(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return C()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=c(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(A.prototype),l(A.prototype,o,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new A(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function fc(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function dc(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){fc(a,i,r,o,s,"next",e)}function s(e){fc(a,i,r,o,s,"throw",e)}o(void 0)}))}}function pc(){return pc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},pc.apply(this,arguments)}function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){gc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gc(e,t,n){return(t=Ac(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ac(i.key),i)}}function wc(e,t,n){return t&&yc(e.prototype,t),n&&yc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ac(e){var t=function(e,t){if("object"!==_c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_c(t)?t:String(t)}function bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xc(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tc(e,t)}function Mc(e){var t=Cc();return function(){var n,i=Pc(e);if(t){var r=Pc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===_c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kc(e)}(this,n)}}function kc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sc(e){var t="function"===typeof Map?new Map:void 0;return Sc=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return Ec(e,arguments,Pc(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Tc(i,e)},Sc(e)}function Ec(e,t,n){return Ec=Cc()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Tc(r,n.prototype),r},Ec.apply(null,arguments)}function Cc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Tc(e,t){return Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tc(e,t)}function Pc(e){return Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pc(e)}function _c(e){return _c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(e)}function Lc(e){return function(e){if(Array.isArray(e))return Bc(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(e,t)||Dc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){if(e){if("string"===typeof e)return Bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bc(e,t):void 0}}function Bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:qt}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=qt);var Ic=Object.defineProperty,Rc=function(e,t){for(var n in t)Ic(e,n,{get:t[n],enumerable:!0})},zc={};Rc(zc,{ACTIONS:function(){return Yc},ANIMATION_MIN_DURATION:function(){return Fc},CTRLZOOM_TIMEOUT:function(){return Vc},DBLCLICK_DELAY:function(){return jc},DEFAULT_TRANSITION:function(){return Nc},EASINGS:function(){return Kc},ICONS:function(){return Zc},IDS:function(){return Jc},INERTIA_WINDOW:function(){return Qc},KEY_CODES:function(){return qc},LONGTOUCH_DELAY:function(){return Hc},MOVE_THRESHOLD:function(){return Uc},SPHERE_RADIUS:function(){return Wc},TWOFINGERSOVERLAY_DELAY:function(){return Gc},VIEWER_DATA:function(){return Xc}});var Nc=1500,Fc=500,Uc=4,jc=300,Hc=500,Gc=100,Vc=2e3,Qc=300,Wc=10,Xc="photoSphereViewer",Yc=function(e){return e.ROTATE_UP="ROTATE_UP",e.ROTATE_DOWN="ROTATE_DOWN",e.ROTATE_RIGHT="ROTATE_RIGHT",e.ROTATE_LEFT="ROTATE_LEFT",e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e}(Yc||{}),Jc={MENU:"menu",TWO_FINGERS:"twoFingers",CTRL_ZOOM:"ctrlZoom",ERROR:"error",DESCRIPTION:"description"},qc={Enter:"Enter",Control:"Control",Escape:"Escape",Space:" ",PageUp:"PageUp",PageDown:"PageDown",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",Delete:"Delete",Plus:"+",Minus:"-"},Zc={arrow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="40 40 432 432"><g transform="rotate(0, 256, 256)"><path fill="currentColor" d="M425.23 210.55H227.39a5 5 0 01-3.53-8.53l56.56-56.57a45.5 45.5 0 000-64.28 45.15 45.15 0 00-32.13-13.3 45.15 45.15 0 00-32.14 13.3L41.32 256l174.83 174.83a45.15 45.15 0 0032.14 13.3 45.15 45.15 0 0032.13-13.3 45.5 45.5 0 000-64.28l-56.57-56.57a5 5 0 013.54-8.53h197.84c25.06 0 45.45-20.39 45.45-45.45s-20.4-45.45-45.45-45.45z"/></g>\x3c!-- Created by Flatart from the Noun Project --\x3e</svg>\n',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><g fill="currentColor" transform=" translate(50, 50) rotate(45)"><rect x="-5" y="-65" width="10" height="130"/><rect x="-65" y="-5" width="130" height="10"/></g></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M83.3 35.6h-17V3H32.2v32.6H16.6l33.6 32.7 33-32.7z"/><path fill="currentColor" d="M83.3 64.2v16.3H16.6V64.2H-.1v32.6H100V64.2H83.3z"/>\x3c!--Created by Michael Zenaty from the Noun Project--\x3e</svg>\n',fullscreenIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M100 40H87.1V18.8h-21V6H100zM100 93.2H66V80.3h21.1v-21H100zM34 93.2H0v-34h12.9v21.1h21zM12.9 40H0V6h34v12.9H12.8z"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>\n',fullscreenOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M66 7h13v21h21v13H66zM66 60.3h34v12.9H79v21H66zM0 60.3h34v34H21V73.1H0zM21 7h13v34H0V28h21z"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>\n',info:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path fill="currentColor" d="M28.3 26.1c-1 2.6-1.9 4.8-2.6 7-2.5 7.4-5 14.7-7.2 22-1.3 4.4.5 7.2 4.3 7.8 1.3.2 2.8.2 4.2-.1 8.2-2 11.9-8.6 15.7-15.2l-2.2 2a18.8 18.8 0 0 1-7.4 5.2 2 2 0 0 1-1.6-.2c-.2-.1 0-1 0-1.4l.8-1.8L41.9 28c.5-1.4.9-3 .7-4.4-.2-2.6-3-4.4-6.3-4.4-8.8.2-15 4.5-19.5 11.8-.2.3-.2.6-.3 1.3 3.7-2.8 6.8-6.1 11.8-6.2z"/><circle fill="currentColor" cx="39.3" cy="9.2" r="8.2"/>\x3c!--Created by Arafat Uddin from the Noun Project--\x3e</svg>\n',menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 80 80"><g fill="currentColor"><circle r="10" cx="20" cy="20"/><circle r="10" cx="50" cy="20"/><circle r="10" cx="80" cy="20"/><circle r="10" cx="20" cy="50"/><circle r="10" cx="50" cy="50"/><circle r="10" cx="80" cy="50"/><circle r="10" cx="20" cy="80"/><circle r="10" cx="50" cy="80"/><circle r="10" cx="80" cy="80"/></g>\x3c!-- Created by Richard Kun\xe1k from the Noun Project--\x3e</svg>\n',zoomIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M14.043 12.22a7.738 7.738 0 1 0-1.823 1.822l4.985 4.985c.503.504 1.32.504 1.822 0a1.285 1.285 0 0 0 0-1.822l-4.984-4.985zm-6.305 1.043a5.527 5.527 0 1 1 0-11.053 5.527 5.527 0 0 1 0 11.053z"/><path fill="currentColor" d="M8.728 4.009H6.744v2.737H4.006V8.73h2.738v2.736h1.984V8.73h2.737V6.746H8.728z"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>\n',zoomOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M14.043 12.22a7.738 7.738 0 1 0-1.823 1.822l4.985 4.985c.503.504 1.32.504 1.822 0a1.285 1.285 0 0 0 0-1.822l-4.984-4.985zm-6.305 1.043a5.527 5.527 0 1 1 0-11.053 5.527 5.527 0 0 1 0 11.053z"/><path fill="currentColor" d="M4.006 6.746h7.459V8.73H4.006z"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>\n'},Kc={linear:function(e){return e},inQuad:function(e){return e*e},outQuad:function(e){return e*(2-e)},inOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},inCubic:function(e){return e*e*e},outCubic:function(e){return--e*e*e+1},inOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},inQuart:function(e){return e*e*e*e},outQuart:function(e){return 1- --e*e*e*e},inOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},inQuint:function(e){return e*e*e*e*e},outQuint:function(e){return 1+--e*e*e*e*e},inOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},inSine:function(e){return 1-Math.cos(e*(Math.PI/2))},outSine:function(e){return Math.sin(e*(Math.PI/2))},inOutSine:function(e){return.5-.5*Math.cos(Math.PI*e)},inExpo:function(e){return Math.pow(2,10*(e-1))},outExpo:function(e){return 1-Math.pow(2,-10*e)},inOutExpo:function(e){return(e=2*e-1)<0?.5*Math.pow(2,10*e):1-.5*Math.pow(2,-10*e)},inCirc:function(e){return 1-Math.sqrt(1-e*e)},outCirc:function(e){return Math.sqrt(1-(e-1)*(e-1))},inOutCirc:function(e){return(e*=2)<1?.5-.5*Math.sqrt(1-e*e):.5+.5*Math.sqrt(1-(e-=2)*e)}},$c={};function eh(e,t){var n=e%t;return n<0&&(n+=t),n}function th(e){return e.reduce((function(e,t){return e+t}),0)}function nh(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ih(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}function rh(e,t){return[0,2*Math.PI,2*-Math.PI].reduce((function(n,i){var r=t-e+i;return Math.abs(r)<Math.abs(n)?r:n}),1/0)}function ah(e,t){return Math.acos(Math.cos(e.pitch)*Math.cos(t.pitch)*Math.cos(e.yaw-t.yaw)+Math.sin(e.pitch)*Math.sin(t.pitch))}function oh(e,t){var n=Oc(e,2),i=n[0],r=n[1],a=Oc(t,2),o=a[0],s=a[1],l=(o-i)*Math.cos((r+s)/2),u=s-r;return Math.sqrt(l*l+u*u)}function sh(e){return"string"===typeof e?e.match(/^[a-z]/i)?document.getElementById(e):document.querySelector(e):e}function lh(e,t,n){void 0===n?e.classList.toggle(t):n?e.classList.add(t):n||e.classList.remove(t)}function uh(e,t){var n;(n=e.classList).add.apply(n,Lc(t.split(" ")))}function ch(e,t){var n;(n=e.classList).remove.apply(n,Lc(t.split(" ")))}function hh(e,t){var n=e;do{if(n===t)return!0;n=n.parentElement}while(n);return!1}function fh(e,t){if(null===e||void 0===e||!e.matches)return null;var n=e;do{if(n.matches(t))return n;n=n.parentElement}while(n);return null}function dh(e){for(var t=0,n=0,i=e;i;)t+=i.offsetLeft-i.scrollLeft+i.clientLeft,n+=i.offsetTop-i.scrollTop+i.clientTop,i=i.offsetParent;return{x:t,y:n}}function ph(e,t){return window.getComputedStyle(e,null)[t]}function vh(e){if(e.touches.length<2)return null;var t={x:e.touches[0].clientX,y:e.touches[0].clientY},n={x:e.touches[1].clientX,y:e.touches[1].clientY};return{distance:nh(t,n),angle:ih(t,n),center:{x:(t.x+n.x)/2,y:(t.y+n.y)/2}}}function mh(e){return(document.fullscreenElement||document.webkitFullscreenElement)===e}function gh(e){(e.requestFullscreen||e.webkitRequestFullscreen).call(e)}function yh(){(document.exitFullscreen||document.webkitExitFullscreen).call(document)}function wh(e){return e.replace(/[A-Z](?:(?=[^A-Z])|[A-Z]*(?=[A-Z][^A-Z]|$))/g,(function(e,t){return(t>0?"-":"")+e.toLowerCase()}))}function Ah(e,t){var n=!1;return function(){for(var i=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n||(n=!0,setTimeout((function(){e.apply(i,a),n=!1}),t))}}function bh(e){if("object"!==_c(e)||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xh(e,t){var n=t;return function e(t,i){return Array.isArray(i)?(t&&Array.isArray(t)?t.length=0:t=[],i.forEach((function(n,i){t[i]=e(null,n)}))):"object"===_c(i)?(t&&!Array.isArray(t)||(t={}),Object.keys(i).forEach((function(r){"object"===_c(i[r])&&i[r]&&bh(i[r])?i[r]!==n&&(t[r]?e(t[r],i[r]):t[r]=e(null,i[r])):t[r]=i[r]}))):t=i,t}(e,t)}function Mh(e){return xh(null,e)}function kh(e){return!e||0===Object.keys(e).length&&e.constructor===Object}function Sh(e){return null===e||void 0===e}function Eh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var a=r[i];if(!Sh(a))return a}return null}function Ch(e,t){if(e===t)return!0;if(Th(e)&&Th(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(!Ch(e[r],t[r]))return!1}return!0}return!1}function Th(e){return"object"===_c(e)&&null!==e}Rc($c,{Animation:function(){return Zh},Dynamic:function(){return Kh},MultiDynamic:function(){return $h},PressHandler:function(){return ef},Slider:function(){return nf},SliderDirection:function(){return tf},addClasses:function(){return uh},angle:function(){return ih},applyEulerInverse:function(){return Jh},cleanCssPosition:function(){return Gh},clone:function(){return Mh},createTexture:function(){return Xh},cssPositionIsOrdered:function(){return Vh},dasherize:function(){return wh},deepEqual:function(){return Ch},deepmerge:function(){return xh},distance:function(){return nh},exitFullscreen:function(){return yh},firstNonNull:function(){return Eh},getAbortError:function(){return Oh},getAngle:function(){return ah},getClosest:function(){return fh},getConfigParser:function(){return qh},getElement:function(){return sh},getPosition:function(){return dh},getShortestArc:function(){return rh},getStyle:function(){return ph},getTouchData:function(){return vh},getXMPValue:function(){return Rh},greatArcDistance:function(){return oh},hasParent:function(){return hh},invertResolvableBoolean:function(){return Lh},isAbortError:function(){return Dh},isEmpty:function(){return kh},isExtendedPosition:function(){return Ih},isFullscreenEnabled:function(){return mh},isNil:function(){return Sh},isPlainObject:function(){return bh},logWarn:function(){return Bh},parseAngle:function(){return Wh},parsePoint:function(){return Hh},parseSpeed:function(){return Qh},removeClasses:function(){return ch},requestFullscreen:function(){return gh},resolveBoolean:function(){return _h},sum:function(){return th},throttle:function(){return Ah},toggleClass:function(){return lh},wrap:function(){return eh}});var Ph=function(e){xc(n,e);var t=Mc(n);function n(e){var i,r;return bc(this,n),(r=t.call(this,e)).name="PSVError",null===(i=Error.captureStackTrace)||void 0===i||i.call(Error,kc(r),n),r}return wc(n)}(Sc(Error));function _h(e,t){bh(e)?(t(e.initial,!0),e.promise.then((function(e){return t(e,!1)}))):t(e,!0)}function Lh(e){return{initial:!e.initial,promise:e.promise.then((function(e){return!e}))}}function Oh(){var e=new Error("Loading was aborted.");return e.name="AbortError",e}function Dh(e){return"AbortError"===(null===e||void 0===e?void 0:e.name)}function Bh(e){console.warn("PhotoSphereViewer: ".concat(e))}function Ih(e){return!!e&&[["textureX","textureY"],["yaw","pitch"]].some((function(t){var n=Oc(t,2),i=n[0],r=n[1];return void 0!==e[i]&&void 0!==e[r]}))}function Rh(e,t){var n=e.match("<GPano:"+t+">(.*)</GPano:"+t+">");if(null!==n){var i=parseInt(n[1],10);return isNaN(i)?null:i}if(null!==(n=e.match("GPano:"+t+'="(.*?)"'))){var r=parseInt(n[1],10);return isNaN(r)?null:r}return null}var zh={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Nh=["left","center","right"],Fh=["top","center","bottom"],Uh=[].concat(Nh,Fh),jh="center";function Hh(e){if(!e)return{x:.5,y:.5};if("object"===_c(e))return e;var t=e.toLocaleLowerCase().split(" ").slice(0,2);1===t.length&&(t=zh[t[0]]?[t[0],jh]:[t[0],t[0]]);var n="left"!==t[1]&&"right"!==t[1]&&"top"!==t[0]&&"bottom"!==t[0];t=t.map((function(e){return zh[e]||e})),n||t.reverse();var i=t.join(" ").match(/^([0-9.]+)% ([0-9.]+)%$/);return i?{x:parseFloat(i[1])/100,y:parseFloat(i[2])/100}:{x:.5,y:.5}}function Gh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowCenter:!0,cssOrder:!0},n=t.allowCenter,i=t.cssOrder;return e?("string"===typeof e&&(e=e.split(" ")),1===e.length&&(e[0]===jh?e=[jh,jh]:-1!==Nh.indexOf(e[0])?e=[jh,e[0]]:-1!==Fh.indexOf(e[0])&&(e=[e[0],jh])),2!==e.length||-1===Uh.indexOf(e[0])||-1===Uh.indexOf(e[1])?(Bh("Unparsable position ".concat(e)),null):n||e[0]!==jh||e[1]!==jh?(i&&!Vh(e)&&(e=[e[1],e[0]]),e[1]===jh&&-1!==Nh.indexOf(e[0])&&(e=[jh,e[0]]),e[0]===jh&&-1!==Fh.indexOf(e[1])&&(e=[e[1],jh]),e):(Bh("Invalid position center center"),null)):null}function Vh(e){return-1!==Fh.indexOf(e[0])&&-1!==Nh.indexOf(e[1])}function Qh(e){var t;if("string"===typeof e){var n=e.toString().trim(),i=parseFloat(n.replace(/^(-?[0-9]+(?:\.[0-9]*)?).*$/,"$1")),r=n.replace(/^-?[0-9]+(?:\.[0-9]*)?(.*)$/,"$1").trim();switch(r.match(/(pm|per minute)$/)&&(i/=60),r){case"dpm":case"degrees per minute":case"dps":case"degrees per second":t=Tr.degToRad(i);break;case"rdpm":case"radians per minute":case"rdps":case"radians per second":t=i;break;case"rpm":case"revolutions per minute":case"rps":case"revolutions per second":t=i*Math.PI*2;break;default:throw new Ph('Unknown speed unit "'.concat(r,'"'))}}else t=e;return t}function Wh(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if("string"===typeof e){var r=e.toLowerCase().trim().match(/^(-?[0-9]+(?:\.[0-9]*)?)(.*)$/);if(!r)throw new Ph('Unknown angle "'.concat(e,'"'));var a=parseFloat(r[1]),o=r[2];if(o)switch(o){case"deg":case"degs":t=Tr.degToRad(a);break;case"rad":case"rads":t=a;break;default:throw new Ph('Unknown angle unit "'.concat(o,'"'))}else t=a}else{if("number"!==typeof e||isNaN(e))throw new Ph('Unknown angle "'.concat(e,'"'));t=e}return t=eh(n?t+Math.PI:t,2*Math.PI),n?Tr.clamp(t-Math.PI,-Math.PI/(i?2:1),Math.PI/(i?2:1)):t}function Xh(e){var t=new Zr(e);return t.needsUpdate=!0,t.minFilter=ii,t.generateMipmaps=!1,t}var Yh=new Br;function Jh(e,t){Yh.setFromEuler(t).invert(),e.applyQuaternion(Yh)}function qh(e,t){var n=function(n){if(!n)return Mh(e);for(var i=Mh(mc(mc({},e),n)),r={},a=0,o=Object.entries(i);a<o.length;a++){var s=Oc(o[a],2),l=s[0],u=s[1];if(t&&l in t)u=t[l](u,{rawConfig:i,defValue:e[l]});else if(!(l in e)){Bh("Unknown option ".concat(l));continue}r[l]=u}return r};return n.defaults=e,n.parsers=t||{},n}var Zh=function(){function e(t){var n=this;bc(this,e),this.easing=Kc.linear,this.callbacks=[],this.resolved=!1,this.cancelled=!1,this.options=t,t?(t.easing&&(this.easing="function"===typeof t.easing?t.easing:Kc[t.easing]||Kc.linear),this.delayTimeout=setTimeout((function(){n.delayTimeout=void 0,n.animationFrame=window.requestAnimationFrame((function(e){return n.__run(e)}))}),t.delay||0)):this.resolved=!0}return wc(e,[{key:"__run",value:function(e){var t=this;if(!this.cancelled){this.start||(this.start=e);var n=(e-this.start)/this.options.duration,i={};if(n<1){for(var r=0,a=Object.entries(this.options.properties);r<a.length;r++){var o=Oc(a[r],2),s=o[0],l=o[1];if(l){var u=l.start+(l.end-l.start)*this.easing(n);i[s]=u}}this.options.onTick(i,n),this.animationFrame=window.requestAnimationFrame((function(e){return t.__run(e)}))}else{for(var c=0,h=Object.entries(this.options.properties);c<h.length;c++){var f=Oc(h[c],2),d=f[0],p=f[1];p&&(i[d]=p.end)}this.options.onTick(i,1),this.__resolve(!0),this.animationFrame=void 0}}}},{key:"__resolve",value:function(e){e?this.resolved=!0:this.cancelled=!0,this.callbacks.forEach((function(t){return t(e)})),this.callbacks.length=0}},{key:"then",value:function(e){var t=this;return this.resolved||this.cancelled?Promise.resolve(this.resolved).then(e):new Promise((function(e){t.callbacks.push(e)})).then(e)}},{key:"cancel",value:function(){this.cancelled||this.resolved||(this.__resolve(!1),this.delayTimeout&&(window.clearTimeout(this.delayTimeout),this.delayTimeout=void 0),this.animationFrame&&(window.cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0))}}]),e}(),Kh=function(){function e(t,n){if(bc(this,e),this.fn=t,this.mode=0,this.speed=0,this.speedMult=0,this.currentSpeed=0,this.target=0,this.__current=0,this.min=n.min,this.max=n.max,this.wrap=n.wrap,this.current=n.defaultValue,this.wrap&&0!==this.min)throw new Ph("invalid config");this.fn&&this.fn(this.current)}return wc(e,[{key:"current",get:function(){return this.__current},set:function(e){this.__current=e}},{key:"setSpeed",value:function(e){this.speed=e}},{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.mode=2,this.target=this.wrap?eh(e,this.max):Tr.clamp(e,this.min,this.max),this.speedMult=t}},{key:"step",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;0===t?this.setValue(this.current+e):(2!==this.mode&&(this.target=this.current),this.goto(this.target+e,t))}},{key:"roll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.mode=1,this.target=e?-1/0:1/0,this.speedMult=t}},{key:"stop",value:function(){this.mode=0}},{key:"setValue",value:function(e){return this.target=this.wrap?eh(e,this.max):Tr.clamp(e,this.min,this.max),this.mode=0,this.currentSpeed=0,this.target!==this.current&&(this.current=this.target,this.fn&&this.fn(this.current),!0)}},{key:"update",value:function(e){if(2===this.mode){this.wrap&&Math.abs(this.target-this.current)>this.max/2&&(this.current=this.current<this.target?this.current+this.max:this.current-this.max);var t=this.currentSpeed*this.currentSpeed/(this.speed*this.speedMult*4);Math.abs(this.target-this.current)<=t&&(this.mode=0)}var n=0===this.mode?0:this.speed*this.speedMult;this.target<this.current&&(n=-n),this.currentSpeed<n?this.currentSpeed=Math.min(n,this.currentSpeed+e/1e3*this.speed*this.speedMult*2):this.currentSpeed>n&&(this.currentSpeed=Math.max(n,this.currentSpeed-e/1e3*this.speed*this.speedMult*2));var i=null;return this.current>this.target&&this.currentSpeed?i=Math.max(this.target,this.current+this.currentSpeed*e/1e3):this.current<this.target&&this.currentSpeed&&(i=Math.min(this.target,this.current+this.currentSpeed*e/1e3)),null!==i&&(i=this.wrap?eh(i,this.max):Tr.clamp(i,this.min,this.max))!==this.current&&(this.current=i,this.fn&&this.fn(this.current),!0)}}]),e}(),$h=function(){function e(t,n){bc(this,e),this.fn=t,this.dynamics=n,this.fn&&this.fn(this.current)}return wc(e,[{key:"current",get:function(){return Object.entries(this.dynamics).reduce((function(e,t){var n=Oc(t,2),i=n[0],r=n[1];return e[i]=r.current,e}),{})}},{key:"setSpeed",value:function(e){for(var t=0,n=Object.values(this.dynamics);t<n.length;t++){n[t].setSpeed(e)}}},{key:"goto",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,i=Object.entries(e);n<i.length;n++){var r=Oc(i[n],2),a=r[0],o=r[1];this.dynamics[a].goto(o,t)}}},{key:"step",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===n)this.setValue(Object.keys(e).reduce((function(n,i){return n[i]=e[i]+t.dynamics[i].current,n}),{}));else for(var i=0,r=Object.entries(e);i<r.length;i++){var a=Oc(r[i],2),o=a[0],s=a[1];this.dynamics[o].step(s,n)}}},{key:"roll",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,i=Object.entries(e);n<i.length;n++){var r=Oc(i[n],2),a=r[0],o=r[1];this.dynamics[a].roll(o,t)}}},{key:"stop",value:function(){for(var e=0,t=Object.values(this.dynamics);e<t.length;e++){t[e].stop()}}},{key:"setValue",value:function(e){for(var t=!1,n=0,i=Object.entries(e);n<i.length;n++){var r=Oc(i[n],2),a=r[0],o=r[1];t=this.dynamics[a].setValue(o)||t}return t&&this.fn&&this.fn(this.current),t}},{key:"update",value:function(e){for(var t=!1,n=0,i=Object.values(this.dynamics);n<i.length;n++){t=i[n].update(e)||t}return t&&this.fn&&this.fn(this.current),t}}]),e}(),ef=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;bc(this,e),this.delay=t,this.time=0,this.delay=t}return wc(e,[{key:"pending",get:function(){return 0!==this.time}},{key:"down",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0),this.time=(new Date).getTime()}},{key:"up",value:function(e){var t=this;this.time&&(Date.now()-this.time<this.delay?this.timeout=setTimeout((function(){e(),t.timeout=void 0,t.time=0}),this.delay):(e(),this.time=0))}}]),e}(),tf=function(e){return e.VERTICAL="VERTICAL",e.HORIZONTAL="HORIZONTAL",e}(tf||{}),nf=function(){function e(t,n,i){bc(this,e),this.container=t,this.direction=n,this.listener=i,this.mousedown=!1,this.mouseover=!1,this.container.addEventListener("click",this),this.container.addEventListener("mousedown",this),this.container.addEventListener("mouseenter",this),this.container.addEventListener("mouseleave",this),this.container.addEventListener("touchstart",this),this.container.addEventListener("mousemove",this,!0),this.container.addEventListener("touchmove",this,!0),window.addEventListener("mouseup",this),window.addEventListener("touchend",this)}return wc(e,[{key:"isVertical",get:function(){return"VERTICAL"===this.direction}},{key:"isHorizontal",get:function(){return"HORIZONTAL"===this.direction}},{key:"destroy",value:function(){window.removeEventListener("mouseup",this),window.removeEventListener("touchend",this)}},{key:"handleEvent",value:function(e){switch(e.type){case"click":e.stopPropagation();break;case"mousedown":this.__onMouseDown(e);break;case"mouseenter":this.__onMouseEnter(e);break;case"mouseleave":this.__onMouseLeave(e);break;case"touchstart":this.__onTouchStart(e);break;case"mousemove":this.__onMouseMove(e);break;case"touchmove":this.__onTouchMove(e);break;case"mouseup":this.__onMouseUp(e);break;case"touchend":this.__onTouchEnd(e)}}},{key:"__onMouseDown",value:function(e){this.mousedown=!0,this.__update(e.clientX,e.clientY,!0)}},{key:"__onMouseEnter",value:function(e){this.mouseover=!0,this.__update(e.clientX,e.clientY,!0)}},{key:"__onTouchStart",value:function(e){this.mouseover=!0,this.mousedown=!0;var t=e.changedTouches[0];this.__update(t.clientX,t.clientY,!0)}},{key:"__onMouseMove",value:function(e){(this.mousedown||this.mouseover)&&(e.stopPropagation(),this.__update(e.clientX,e.clientY,!0))}},{key:"__onTouchMove",value:function(e){if(this.mousedown||this.mouseover){e.stopPropagation();var t=e.changedTouches[0];this.__update(t.clientX,t.clientY,!0)}}},{key:"__onMouseUp",value:function(e){this.mousedown&&(this.mousedown=!1,this.__update(e.clientX,e.clientY,!1))}},{key:"__onMouseLeave",value:function(e){this.mouseover&&(this.mouseover=!1,this.__update(e.clientX,e.clientY,!0))}},{key:"__onTouchEnd",value:function(e){if(this.mousedown){this.mouseover=!1,this.mousedown=!1;var t=e.changedTouches[0];this.__update(t.clientX,t.clientY,!1)}}},{key:"__update",value:function(e,t,n){var i=this.container.getBoundingClientRect(),r=this.isVertical?t:e,a=i[this.isVertical?"bottom":"left"],o=i[this.isVertical?"height":"width"],s=Math.abs((a-r)/o);this.listener({value:s,click:!n,mousedown:this.mousedown,mouseover:this.mouseover,cursor:{clientX:e,clientY:t}})}}]),e}(),rf={};Rc(rf,{BeforeAnimateEvent:function(){return lf},BeforeRenderEvent:function(){return uf},BeforeRotateEvent:function(){return cf},ClickEvent:function(){return hf},ConfigChangedEvent:function(){return ff},DoubleClickEvent:function(){return df},FullscreenEvent:function(){return pf},HideNotificationEvent:function(){return vf},HideOverlayEvent:function(){return mf},HidePanelEvent:function(){return gf},HideTooltipEvent:function(){return yf},KeypressEvent:function(){return Af},LoadProgressEvent:function(){return bf},ObjectEnterEvent:function(){return Bf},ObjectEvent:function(){return Df},ObjectHoverEvent:function(){return Rf},ObjectLeaveEvent:function(){return If},PanoramaLoadedEvent:function(){return xf},PositionUpdatedEvent:function(){return Mf},ReadyEvent:function(){return kf},RenderEvent:function(){return Sf},ShowNotificationEvent:function(){return Ef},ShowOverlayEvent:function(){return Cf},ShowPanelEvent:function(){return Tf},ShowTooltipEvent:function(){return Pf},SizeUpdatedEvent:function(){return _f},StopAllEvent:function(){return Lf},ViewerEvent:function(){return sf},ZoomUpdatedEvent:function(){return Of}});var af=function(e){xc(n,e);var t=Mc(n);function n(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return bc(this,n),t.call(this,e,{cancelable:i})}return wc(n)}(Sc(Event)),of=function(e){xc(n,e);var t=Mc(n);function n(){return bc(this,n),t.apply(this,arguments)}return wc(n,[{key:"dispatchEvent",value:function(e){return pc(Pc(n.prototype),"dispatchEvent",this).call(this,e)}},{key:"addEventListener",value:function(e,t,i){pc(Pc(n.prototype),"addEventListener",this).call(this,e,t,i)}},{key:"removeEventListener",value:function(e,t,i){pc(Pc(n.prototype),"removeEventListener",this).call(this,e,t,i)}}]),n}(Sc(EventTarget)),sf=function(e){xc(n,e);var t=Mc(n);function n(){return bc(this,n),t.apply(this,arguments)}return wc(n)}(af),lf=function(e){xc(n,e);var t=Mc(n);function n(e,i){var r;return bc(this,n),(r=t.call(this,n.type,!0)).position=e,r.zoomLevel=i,r}return wc(n)}(sf);lf.type="before-animate";var uf=function(e){xc(n,e);var t=Mc(n);function n(e,i){var r;return bc(this,n),(r=t.call(this,n.type)).timestamp=e,r.elapsed=i,r}return wc(n)}(sf);uf.type="before-render";var cf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type,!0)).position=e,i}return wc(n)}(sf);cf.type="before-rotate";var hf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).data=e,i}return wc(n)}(sf);hf.type="click";var ff=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).options=e,i}return wc(n,[{key:"containsOptions",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.some((function(t){return e.options.includes(t)}))}}]),n}(sf);ff.type="config-changed";var df=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).data=e,i}return wc(n)}(sf);df.type="dblclick";var pf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).fullscreenEnabled=e,i}return wc(n)}(sf);pf.type="fullscreen";var vf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).notificationId=e,i}return wc(n)}(sf);vf.type="hide-notification";var mf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).overlayId=e,i}return wc(n)}(sf);mf.type="hide-overlay";var gf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).panelId=e,i}return wc(n)}(sf);gf.type="hide-panel";var yf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).tooltipData=e,i}return wc(n)}(sf);yf.type="hide-tooltip";var wf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type,!0)).key=e,i}return wc(n)}(sf),Af=wf;Af.type="key-press";var bf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).progress=e,i}return wc(n)}(sf);bf.type="load-progress";var xf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).data=e,i}return wc(n)}(sf);xf.type="panorama-loaded";var Mf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).position=e,i}return wc(n)}(sf);Mf.type="position-updated";var kf=function(e){xc(n,e);var t=Mc(n);function n(){return bc(this,n),t.call(this,n.type)}return wc(n)}(sf);kf.type="ready";var Sf=function(e){xc(n,e);var t=Mc(n);function n(){return bc(this,n),t.call(this,n.type)}return wc(n)}(sf);Sf.type="render";var Ef=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).notificationId=e,i}return wc(n)}(sf);Ef.type="show-notification";var Cf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).overlayId=e,i}return wc(n)}(sf);Cf.type="show-overlay";var Tf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).panelId=e,i}return wc(n)}(sf);Tf.type="show-panel";var Pf=function(e){xc(n,e);var t=Mc(n);function n(e,i){var r;return bc(this,n),(r=t.call(this,n.type)).tooltip=e,r.tooltipData=i,r}return wc(n)}(sf);Pf.type="show-tooltip";var _f=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).size=e,i}return wc(n)}(sf);_f.type="size-updated";var Lf=function(e){xc(n,e);var t=Mc(n);function n(){return bc(this,n),t.call(this,n.type)}return wc(n)}(sf);Lf.type="stop-all";var Of=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,n.type)).zoomLevel=e,i}return wc(n)}(sf);Of.type="zoom-updated";var Df=function(e){xc(n,e);var t=Mc(n);function n(e,i,r,a,o){var s;return bc(this,n),(s=t.call(this,e)).originalEvent=i,s.object=r,s.viewerPoint=a,s.userDataKey=o,s}return wc(n)}(sf),Bf=function(e){xc(n,e);var t=Mc(n);function n(e,i,r,a){return bc(this,n),t.call(this,n.type,e,i,r,a)}return wc(n)}(Df);Bf.type="enter-object";var If=function(e){xc(n,e);var t=Mc(n);function n(e,i,r,a){return bc(this,n),t.call(this,n.type,e,i,r,a)}return wc(n)}(Df);If.type="leave-object";var Rf=function(e){xc(n,e);var t=Mc(n);function n(e,i,r,a){return bc(this,n),t.call(this,n.type,e,i,r,a)}return wc(n)}(Df);Rf.type="hover-object";var zf=function(){function e(t){bc(this,e),this.viewer=t}return wc(e,[{key:"destroy",value:function(){}},{key:"supportsTransition",value:function(e){return!1}},{key:"supportsPreload",value:function(e){return!1}}],[{key:"createOverlayMaterial",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.additionalUniforms,r=n.overrideVertexShader;return new is({uniforms:mc(mc({},i),{},(t={},gc(t,e.OVERLAY_UNIFORMS.panorama,{value:new Zr}),gc(t,e.OVERLAY_UNIFORMS.overlay,{value:new Zr}),gc(t,e.OVERLAY_UNIFORMS.globalOpacity,{value:1}),gc(t,e.OVERLAY_UNIFORMS.overlayOpacity,{value:1}),t)),vertexShader:r||"\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix *  modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D ".concat(e.OVERLAY_UNIFORMS.panorama,";\nuniform sampler2D ").concat(e.OVERLAY_UNIFORMS.overlay,";\nuniform float ").concat(e.OVERLAY_UNIFORMS.globalOpacity,";\nuniform float ").concat(e.OVERLAY_UNIFORMS.overlayOpacity,";\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 tColor1 = texture2D( ").concat(e.OVERLAY_UNIFORMS.panorama,", vUv );\n  vec4 tColor2 = texture2D( ").concat(e.OVERLAY_UNIFORMS.overlay,", vUv );\n  gl_FragColor = vec4(\n    mix( tColor1.rgb, tColor2.rgb, tColor2.a * ").concat(e.OVERLAY_UNIFORMS.overlayOpacity," ),\n    ").concat(e.OVERLAY_UNIFORMS.globalOpacity,"\n  );\n}")})}}]),e}();function Nf(e){if(e)for(var t=0,n=[["_",e]].concat(Lc(Object.entries(e)));t<n.length;t++){var i=Oc(n[t],2)[1];if(i.prototype instanceof zf)return i}return null}zf.supportsDownload=!1,zf.supportsOverlay=!1,zf.OVERLAY_UNIFORMS={panorama:"panorama",overlay:"overlay",globalOpacity:"globalOpacity",overlayOpacity:"overlayOpacity"};var Ff="".concat(Xc,"_touchSupport"),Uf={loaded:!1,pixelRatio:1,isWebGLSupported:!1,maxTextureWidth:0,isTouchEnabled:null,fullscreenEvent:null,__maxCanvasWidth:null,get maxCanvasWidth(){return null===this.__maxCanvasWidth&&(this.__maxCanvasWidth=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=e,t.height=e/2;for(;t.width>1024;){n.fillStyle="white",n.fillRect(0,0,1,1);try{if(n.getImageData(0,0,1,1).data[0]>0)return t.width}catch(i){}t.width/=2,t.height/=2}throw new Ph("Unable to detect system capabilities")}(this.maxTextureWidth)),this.__maxCanvasWidth},load:function(){if(!this.loaded){var e=function(){var e=document.createElement("canvas"),t=["webgl2","webgl","experimental-webgl","moz-webgl","webkit-3d"],n=null;if(!e.getContext)return null;return t.some((function(t){try{return null!==(n=e.getContext(t))}catch(i){return!1}}))?n:null}();this.pixelRatio=window.devicePixelRatio||1,this.isWebGLSupported=null!==e,this.maxTextureWidth=e?e.getParameter(e.MAX_TEXTURE_SIZE):0,this.isTouchEnabled=function(){var e="ontouchstart"in window||navigator.maxTouchPoints>0;Ff in localStorage&&(e="true"===localStorage[Ff]);var t=new Promise((function(t){var n=function(){window.removeEventListener("mousedown",i),window.removeEventListener("touchstart",r),clearTimeout(o)},i=function(){n(),localStorage[Ff]=!1,t(!1)},r=function(){n(),localStorage[Ff]=!0,t(!0)},a=function(){n(),localStorage[Ff]=e,t(e)};window.addEventListener("mousedown",i,!1),window.addEventListener("touchstart",r,!1);var o=setTimeout(a,1e4)}));return{initial:e,promise:t}}(),this.fullscreenEvent=function(){if("exitFullscreen"in document)return"fullscreenchange";if("webkitExitFullscreen"in document)return"webkitfullscreenchange";return null}(),this.loaded=!0}if(!Uf.isWebGLSupported)throw new Ph("WebGL is not supported.");if(0===Uf.maxTextureWidth)throw new Ph("Unable to detect system capabilities")}};var jf=qh({resolution:64,blur:!1},{resolution:function(e){if(!e||!Tr.isPowerOfTwo(e))throw new Ph("EquirectangularAdapter resolution must be power of two");return e}}),Hf=function(e){xc(n,e);var t=Mc(n);function n(e,i){var r;return bc(this,n),(r=t.call(this,e)).config=jf(i),r.SPHERE_SEGMENTS=r.config.resolution,r.SPHERE_HORIZONTAL_SEGMENTS=r.SPHERE_SEGMENTS/2,r}return wc(n,[{key:"supportsTransition",value:function(){return!0}},{key:"supportsPreload",value:function(){return!0}},{key:"loadTexture",value:function(){var e=dc(hc().mark((function e(t,n){var i,r,a,o,s,l,u,c,h,f,d,p,v,m,g,y,w,A,b,x,M,k,S,E=this,C=arguments;return hc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=C.length>2&&void 0!==C[2]?C[2]:this.viewer.config.useXmpData,"string"===typeof t){e.next=3;break}return e.abrupt("return",Promise.reject(new Ph("Invalid panorama url, are you using the right adapter?")));case 3:if(!b){e.next=12;break}return e.next=6,this.loadXMP(t,(function(e){return E.viewer.loader.setProgress(e)}));case 6:return M=e.sent,e.next=9,this.viewer.textureLoader.loadImage(t);case 9:x=e.sent,e.next=15;break;case 12:return e.next=14,this.viewer.textureLoader.loadImage(t,(function(e){return E.viewer.loader.setProgress(e)}));case 14:x=e.sent;case 15:return"function"===typeof n&&(n=n(x)),(k={fullWidth:Eh(null===(i=n)||void 0===i?void 0:i.fullWidth,null===(r=M)||void 0===r?void 0:r.fullWidth,x.width),fullHeight:Eh(null===(a=n)||void 0===a?void 0:a.fullHeight,null===(o=M)||void 0===o?void 0:o.fullHeight,x.height),croppedWidth:Eh(null===(s=n)||void 0===s?void 0:s.croppedWidth,null===(l=M)||void 0===l?void 0:l.croppedWidth,x.width),croppedHeight:Eh(null===(u=n)||void 0===u?void 0:u.croppedHeight,null===(c=M)||void 0===c?void 0:c.croppedHeight,x.height),croppedX:Eh(null===(h=n)||void 0===h?void 0:h.croppedX,null===(f=M)||void 0===f?void 0:f.croppedX,0),croppedY:Eh(null===(d=n)||void 0===d?void 0:d.croppedY,null===(p=M)||void 0===p?void 0:p.croppedY,0),poseHeading:Eh(null===(v=n)||void 0===v?void 0:v.poseHeading,null===(m=M)||void 0===m?void 0:m.poseHeading,0),posePitch:Eh(null===(g=n)||void 0===g?void 0:g.posePitch,null===(y=M)||void 0===y?void 0:y.posePitch,0),poseRoll:Eh(null===(w=n)||void 0===w?void 0:w.poseRoll,null===(A=M)||void 0===A?void 0:A.poseRoll,0)}).croppedWidth===x.width&&k.croppedHeight===x.height||Bh("Invalid panoData, croppedWidth and/or croppedHeight is not coherent with loaded image.\n              panoData: ".concat(k.croppedWidth,"x").concat(k.croppedHeight,", image: ").concat(x.width,"x").concat(x.height)),(n||M)&&k.fullWidth!==2*k.fullHeight&&Bh("Invalid panoData, fullWidth should be twice fullHeight"),S=this.createEquirectangularTexture(x,k),e.abrupt("return",{panorama:t,texture:S,panoData:k});case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadXMP",value:function(){var e=dc(hc().mark((function e(t,n){var i,r,a,o,s;return hc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.viewer.textureLoader.loadFile(t,n);case 2:return i=e.sent,e.next=5,this.loadBlobAsString(i);case 5:if(r=e.sent,a=r.indexOf("<x:xmpmeta"),o=r.indexOf("</x:xmpmeta>"),s=r.substring(a,o),-1===a||-1===o||!s.includes("GPano:")){e.next=11;break}return e.abrupt("return",{fullWidth:Rh(s,"FullPanoWidthPixels"),fullHeight:Rh(s,"FullPanoHeightPixels"),croppedWidth:Rh(s,"CroppedAreaImageWidthPixels"),croppedHeight:Rh(s,"CroppedAreaImageHeightPixels"),croppedX:Rh(s,"CroppedAreaLeftPixels"),croppedY:Rh(s,"CroppedAreaTopPixels"),poseHeading:Rh(s,"PoseHeadingDegrees"),posePitch:Rh(s,"PosePitchDegrees"),poseRoll:Rh(s,"PoseRollDegrees")});case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadBlobAsString",value:function(e){return new Promise((function(t,n){var i=new FileReader;i.onload=function(){return t(i.result)},i.onerror=n,i.readAsText(e)}))}},{key:"createEquirectangularTexture",value:function(e,t){if(this.config.blur||t.fullWidth>Uf.maxTextureWidth||t.croppedWidth!==t.fullWidth||t.croppedHeight!==t.fullHeight){var n=Math.min(1,Uf.maxCanvasWidth/t.fullWidth),i={fullWidth:t.fullWidth*n,fullHeight:t.fullHeight*n,croppedWidth:t.croppedWidth*n,croppedHeight:t.croppedHeight*n,croppedX:t.croppedX*n,croppedY:t.croppedY*n},r=document.createElement("canvas");r.width=i.fullWidth,r.height=i.fullHeight;var a=r.getContext("2d");return this.config.blur&&(a.filter="blur(1px)"),a.drawImage(e,i.croppedX,i.croppedY,i.croppedWidth,i.croppedHeight),Xh(r)}return Xh(e)}},{key:"createMesh",value:function(){var e=new tc(Wc*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),this.SPHERE_SEGMENTS,this.SPHERE_HORIZONTAL_SEGMENTS,-Math.PI/2).scale(-1,1,1),t=zf.createOverlayMaterial();return new qo(e,t)}},{key:"setTexture",value:function(e,t){this.__setUniform(e,zf.OVERLAY_UNIFORMS.panorama,t.texture),this.setOverlay(e,null,1)}},{key:"setOverlay",value:function(e,t,n){this.__setUniform(e,zf.OVERLAY_UNIFORMS.overlayOpacity,n),t?this.__setUniform(e,zf.OVERLAY_UNIFORMS.overlay,t.texture):this.__setUniform(e,zf.OVERLAY_UNIFORMS.overlay,new Zr)}},{key:"setTextureOpacity",value:function(e,t){this.__setUniform(e,zf.OVERLAY_UNIFORMS.globalOpacity,t),e.material.transparent=t<1}},{key:"disposeTexture",value:function(e){var t;null===(t=e.texture)||void 0===t||t.dispose()}},{key:"__setUniform",value:function(e,t,n){e.material.uniforms[t].value instanceof Zr&&e.material.uniforms[t].value.dispose(),e.material.uniforms[t].value=n}}]),n}(zf);Hf.id="equirectangular",Hf.supportsDownload=!0,Hf.supportsOverlay=!0;var Gf=function(){function e(t,n){bc(this,e),this.parent=t,this.children=[],this.container=document.createElement("div"),this.state={visible:!0},this.viewer=t instanceof e?t.viewer:t,this.container.className=n.className||"",this.parent.children.push(this),this.parent.container.appendChild(this.container)}return wc(e,[{key:"destroy",value:function(){this.parent.container.removeChild(this.container);var e=this.parent.children.indexOf(this);-1!==e&&this.parent.children.splice(e,1),this.children.slice().forEach((function(e){return e.destroy()})),this.children.length=0}},{key:"toggle",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isVisible())?this.show():this.hide()}},{key:"hide",value:function(e){this.container.style.display="none",this.state.visible=!1}},{key:"show",value:function(e){this.container.style.display="",this.state.visible=!0}},{key:"isVisible",value:function(){return this.state.visible}}]),e}(),Vf=qh({id:null,className:null,title:null,hoverScale:!1,collapsable:!1,tabbable:!0,icon:null,iconActive:null}),Qf=function(e){xc(n,e);var t=Mc(n);function n(e,i){var r;return bc(this,n),(r=t.call(this,e,{className:"psv-button ".concat(i.hoverScale?"psv-button--hover-scale":""," ").concat(i.className||"")})).state={visible:!0,enabled:!0,supported:!0,collapsed:!1,active:!1,width:0},r.config=Vf(i),r.config.id=r.constructor.id,i.icon&&r.__setIcon(i.icon),r.state.width=r.container.offsetWidth,r.config.title?r.container.title=r.config.title:r.id&&r.id in r.viewer.config.lang&&(r.container.title=r.viewer.config.lang[r.id]),i.tabbable&&(r.container.tabIndex=0),r.container.addEventListener("click",(function(e){r.state.enabled&&r.onClick(),e.stopPropagation()})),r.container.addEventListener("keydown",(function(e){e.key===qc.Enter&&r.state.enabled&&(r.onClick(),e.stopPropagation())})),r}return wc(n,[{key:"id",get:function(){return this.config.id}},{key:"title",get:function(){return this.container.title}},{key:"content",get:function(){return this.container.innerHTML}},{key:"width",get:function(){return this.state.width}},{key:"collapsable",get:function(){return this.config.collapsable}},{key:"show",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isVisible()||(this.state.visible=!0,this.state.collapsed||(this.container.style.display=""),e&&this.viewer.navbar.autoSize())}},{key:"hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isVisible()&&(this.state.visible=!1,this.container.style.display="none",e&&this.viewer.navbar.autoSize())}},{key:"checkSupported",value:function(){var e=this;_h(this.isSupported(),(function(t,n){e.state&&(e.state.supported=t,n?t||e.hide():e.toggle(t))}))}},{key:"autoSize",value:function(){}},{key:"isSupported",value:function(){return!0}},{key:"toggleActive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.active;e!==this.state.active&&(this.state.active=e,lh(this.container,"psv-button--active",this.state.active),this.config.iconActive&&this.__setIcon(this.state.active?this.config.iconActive:this.config.icon))}},{key:"disable",value:function(){this.container.classList.add("psv-button--disabled"),this.state.enabled=!1}},{key:"enable",value:function(){this.container.classList.remove("psv-button--disabled"),this.state.enabled=!0}},{key:"collapse",value:function(){this.state.collapsed=!0,this.container.style.display="none"}},{key:"uncollapse",value:function(){this.state.collapsed=!1,this.state.visible&&(this.container.style.display="")}},{key:"__setIcon",value:function(e){this.container.innerHTML=e,uh(this.container.querySelector("svg"),"psv-button-svg")}}]),n}(Gf),Wf=function(e){xc(n,e);var t=Mc(n);function n(e,i){var r;return bc(this,n),(r=t.call(this,e,{className:"psv-custom-button ".concat(i.className||""),hoverScale:!1,collapsable:!1!==i.collapsable,tabbable:!1!==i.tabbable,title:i.title})).customOnClick=i.onClick,i.id?r.config.id=i.id:r.config.id="psvButton-"+Math.random().toString(36).substring(2),i.content&&(r.container.innerHTML=i.content),r.state.width=r.container.offsetWidth,i.disabled&&r.disable(),!1===i.visible&&r.hide(),r}return wc(n,[{key:"onClick",value:function(){var e;null===(e=this.customOnClick)||void 0===e||e.call(this,this.viewer)}}]),n}(Qf),Xf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e,{className:"psv-description-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:Zc.info})).mode=0,i.viewer.addEventListener(vf.type,kc(i)),i.viewer.addEventListener(Ef.type,kc(i)),i.viewer.addEventListener(gf.type,kc(i)),i.viewer.addEventListener(Tf.type,kc(i)),i.viewer.addEventListener(ff.type,kc(i)),i}return wc(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(vf.type,this),this.viewer.removeEventListener(Ef.type,this),this.viewer.removeEventListener(gf.type,this),this.viewer.removeEventListener(Tf.type,this),this.viewer.removeEventListener(ff.type,this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){if(e instanceof ff)e.containsOptions("description")&&this.autoSize(!0);else if(this.mode){var t=!1;e instanceof vf?t=1===this.mode:e instanceof Ef?t=1===this.mode&&e.notificationId!==Jc.DESCRIPTION:e instanceof gf?t=2===this.mode:e instanceof Tf&&(t=2===this.mode&&e.panelId!==Jc.DESCRIPTION),t&&(this.toggleActive(!1),this.mode=0)}}},{key:"onClick",value:function(){this.mode?this.__close():this.__open()}},{key:"hide",value:function(e){pc(Pc(n.prototype),"hide",this).call(this,e),this.mode&&this.__close()}},{key:"autoSize",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var e=this.viewer.navbar.getButton("caption",!1),t=e&&!e.isVisible(),n=!!this.viewer.config.description;t||n?this.show(!1):this.hide(!1)}}},{key:"__close",value:function(){switch(this.mode){case 1:this.viewer.notification.hide(Jc.DESCRIPTION);break;case 2:this.viewer.panel.hide(Jc.DESCRIPTION)}}},{key:"__open",value:function(){this.toggleActive(!0),this.viewer.config.description?(this.mode=2,this.viewer.panel.show({id:Jc.DESCRIPTION,content:(this.viewer.config.caption?"<p>".concat(this.viewer.config.caption,"</p>"):"")+this.viewer.config.description})):(this.mode=1,this.viewer.notification.show({id:Jc.DESCRIPTION,content:this.viewer.config.caption}))}}]),n}(Qf);Xf.id="description";var Yf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e,{className:"psv-download-butto",hoverScale:!0,collapsable:!0,tabbable:!0,icon:Zc.download})).viewer.addEventListener(ff.type,kc(i)),i}return wc(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(ff.type,this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof ff&&e.containsOptions("downloadUrl")&&this.checkSupported()}},{key:"onClick",value:function(){var e=this,t=document.createElement("a");t.href=this.viewer.config.downloadUrl||this.viewer.config.panorama,t.href.startsWith("data:")&&!this.viewer.config.downloadName?t.download="panorama."+t.href.substring(0,t.href.indexOf(";")).split("/").pop():t.download=this.viewer.config.downloadName||t.href.split("/").pop(),this.viewer.container.appendChild(t),t.click(),setTimeout((function(){e.viewer.container.removeChild(t)}),100)}},{key:"checkSupported",value:function(){this.viewer.adapter.constructor.supportsDownload||this.viewer.config.downloadUrl?this.show():this.hide()}}]),n}(Qf);Yf.id="download";var Jf=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e,{className:"psv-fullscreen-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:Zc.fullscreenIn,iconActive:Zc.fullscreenOut})).viewer.addEventListener(pf.type,kc(i)),i}return wc(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(pf.type,this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof pf&&this.toggleActive(e.fullscreenEnabled)}},{key:"onClick",value:function(){this.viewer.toggleFullscreen()}}]),n}(Qf);Jf.id="fullscreen";var qf=function(e){xc(n,e);var t=Mc(n);function n(e){var i,r;return bc(this,n),(r=t.call(this,e,{className:"psv-menu-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:Zc.menu})).viewer.addEventListener(Tf.type,kc(r)),r.viewer.addEventListener(gf.type,kc(r)),pc((i=kc(r),Pc(n.prototype)),"hide",i).call(i),r}return wc(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(Tf.type,this),this.viewer.removeEventListener(gf.type,this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof Tf?this.toggleActive(e.panelId===Jc.MENU):e instanceof gf&&this.toggleActive(!1)}},{key:"onClick",value:function(){this.state.active?this.__hideMenu():this.__showMenu()}},{key:"hide",value:function(e){pc(Pc(n.prototype),"hide",this).call(this,e),this.__hideMenu()}},{key:"show",value:function(e){pc(Pc(n.prototype),"show",this).call(this,e),this.state.active&&this.__showMenu()}},{key:"__showMenu",value:function(){var e,t,n=this;this.viewer.panel.show({id:Jc.MENU,content:(e=this.viewer.navbar.collapsed,t=this.viewer.config.lang.menu,'\n<div class="psv-panel-menu psv-panel-menu--stripped">\n  <h1 class="psv-panel-menu-title">'.concat(Zc.menu," ").concat(t,'</h1>\n  <ul class="psv-panel-menu-list">\n    ').concat(e.map((function(e){return'\n    <li data-psv-button="'.concat(e.id,'" class="psv-panel-menu-item" tabindex="0">\n      <span class="psv-panel-menu-item-icon">').concat(e.content,'</span>\n      <span class="psv-panel-menu-item-label">').concat(e.title,"</span>\n    </li>\n    ")})).join(""),"\n  </ul>\n</div>\n")),noMargin:!0,clickHandler:function(e){var t=e?fh(e,"li"):void 0,i=t?t.dataset.psvButton:void 0;i&&(n.viewer.navbar.getButton(i).onClick(),n.__hideMenu())}})}},{key:"__hideMenu",value:function(){this.viewer.panel.hide(Jc.MENU)}}]),n}(Qf);function Zf(e){var t=0;switch(e){case 0:t=90;break;case 1:t=-90;break;case 3:t=180;break;default:t=0}return Zc.arrow.replace("rotate(0","rotate(".concat(t))}qf.id="menu";var Kf=function(e){xc(n,e);var t=Mc(n);function n(e,i){var r;return bc(this,n),(r=t.call(this,e,{className:"psv-move-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:Zf(i)})).direction=i,r.handler=new ef,r.container.addEventListener("mousedown",kc(r)),r.container.addEventListener("keydown",kc(r)),r.container.addEventListener("keyup",kc(r)),r.viewer.container.addEventListener("mouseup",kc(r)),r.viewer.container.addEventListener("touchend",kc(r)),r}return wc(n,[{key:"destroy",value:function(){this.__onMouseUp(),this.viewer.container.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchend",this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.__onMouseDown();break;case"mouseup":case"touchend":this.__onMouseUp();break;case"keydown":e.key===qc.Enter&&this.__onMouseDown();break;case"keyup":e.key===qc.Enter&&this.__onMouseUp()}}},{key:"onClick",value:function(){}},{key:"isSupported",value:function(){return Lh(Uf.isTouchEnabled)}},{key:"__onMouseDown",value:function(){if(this.state.enabled){var e={};switch(this.direction){case 0:e.pitch=!1;break;case 1:e.pitch=!0;break;case 3:e.yaw=!1;break;default:e.yaw=!0}this.viewer.stopAll(),this.viewer.dynamics.position.roll(e),this.handler.down()}}},{key:"__onMouseUp",value:function(){var e=this;this.state.enabled&&this.handler.up((function(){e.viewer.dynamics.position.stop(),e.viewer.resetIdleTimer()}))}}]),n}(Qf);Kf.groupId="move";var $f=function(e){xc(n,e);var t=Mc(n);function n(e){return bc(this,n),t.call(this,e,1)}return wc(n)}(Kf);$f.id="moveDown";var ed=function(e){xc(n,e);var t=Mc(n);function n(e){return bc(this,n),t.call(this,e,2)}return wc(n)}(Kf);ed.id="moveLeft";var td=function(e){xc(n,e);var t=Mc(n);function n(e){return bc(this,n),t.call(this,e,3)}return wc(n)}(Kf);td.id="moveRight";var nd=function(e){xc(n,e);var t=Mc(n);function n(e){return bc(this,n),t.call(this,e,0)}return wc(n)}(Kf);nd.id="moveUp";var id=function(e){xc(n,e);var t=Mc(n);function n(e,i,r){var a;return bc(this,n),(a=t.call(this,e,{className:"psv-zoom-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:r})).direction=i,a.handler=new ef,a.container.addEventListener("mousedown",kc(a)),a.container.addEventListener("keydown",kc(a)),a.container.addEventListener("keyup",kc(a)),a.viewer.container.addEventListener("mouseup",kc(a)),a.viewer.container.addEventListener("touchend",kc(a)),a}return wc(n,[{key:"destroy",value:function(){this.__onMouseUp(),this.viewer.container.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchend",this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.__onMouseDown();break;case"mouseup":case"touchend":this.__onMouseUp();break;case"keydown":e.key===qc.Enter&&this.__onMouseDown();break;case"keyup":e.key===qc.Enter&&this.__onMouseUp()}}},{key:"onClick",value:function(){}},{key:"isSupported",value:function(){return Lh(Uf.isTouchEnabled)}},{key:"__onMouseDown",value:function(){this.state.enabled&&(this.viewer.dynamics.zoom.roll(1===this.direction),this.handler.down())}},{key:"__onMouseUp",value:function(){var e=this;this.state.enabled&&this.handler.up((function(){return e.viewer.dynamics.zoom.stop()}))}}]),n}(Qf);id.groupId="zoom";var rd=function(e){xc(n,e);var t=Mc(n);function n(e){return bc(this,n),t.call(this,e,0,Zc.zoomIn)}return wc(n)}(id);rd.id="zoomIn";var ad=function(e){xc(n,e);var t=Mc(n);function n(e){return bc(this,n),t.call(this,e,1,Zc.zoomOut)}return wc(n)}(id);ad.id="zoomOut";var od=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e,{className:"psv-zoom-range",hoverScale:!1,collapsable:!1,tabbable:!1})).zoomRange=document.createElement("div"),i.zoomRange.className="psv-zoom-range-line",i.container.appendChild(i.zoomRange),i.zoomValue=document.createElement("div"),i.zoomValue.className="psv-zoom-range-handle",i.zoomRange.appendChild(i.zoomValue),i.slider=new nf(i.container,"HORIZONTAL",(function(e){return i.__onSliderUpdate(e)})),i.mediaMinWidth=parseInt(ph(i.container,"maxWidth"),10),i.viewer.addEventListener(Of.type,kc(i)),i.viewer.state.ready?i.__moveZoomValue(i.viewer.getZoomLevel()):i.viewer.addEventListener(kf.type,kc(i)),i}return wc(n,[{key:"destroy",value:function(){this.slider.destroy(),this.viewer.removeEventListener(Of.type,this),this.viewer.removeEventListener(kf.type,this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof Of?this.__moveZoomValue(e.zoomLevel):e instanceof kf&&this.__moveZoomValue(this.viewer.getZoomLevel())}},{key:"onClick",value:function(){}},{key:"isSupported",value:function(){return Lh(Uf.isTouchEnabled)}},{key:"autoSize",value:function(){this.state.supported&&(this.viewer.state.size.width<=this.mediaMinWidth&&this.state.visible?this.hide(!1):this.viewer.state.size.width>this.mediaMinWidth&&!this.state.visible&&this.show(!1))}},{key:"__moveZoomValue",value:function(e){this.zoomValue.style.left=e/100*this.zoomRange.offsetWidth-this.zoomValue.offsetWidth/2+"px"}},{key:"__onSliderUpdate",value:function(e){e.mousedown&&this.viewer.zoom(100*e.value)}}]),n}(Qf);od.id="zoomRange",od.groupId="zoom";var sd=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this)).viewer=e,i}return wc(n,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),n}(of),ld=function(e){xc(n,e);var t=Mc(n);function n(e,i){var r;return bc(this,n),(r=t.call(this,e)).config=r.constructor.configParser(i),r}return wc(n,[{key:"setOption",value:function(e,t){this.setOptions(gc({},e,t))}},{key:"setOptions",value:function(e){for(var t=mc(mc({},this.config),e),n=this.constructor,i=n.configParser,r=n.readonlyOptions,a=n.id,o=0,s=Object.entries(e);o<s.length;o++){var l=Oc(s[o],2),u=l[0],c=l[1];u in i.defaults?r.includes(u)?Bh("".concat(a,': Option "').concat(u,'" cannot be updated')):(u in i.parsers&&(c=i.parsers[u](c,{rawConfig:t,defValue:i.defaults[u]})),this.config[u]=c):Bh("".concat(a,': Unknown option "').concat(u,'"'))}}}]),n}(sd);function ud(e){if(e)for(var t=0,n=[["_",e]].concat(Lc(Object.entries(e)));t<n.length;t++){var i=Oc(n[t],2)[1];if(i.prototype instanceof sd)return i}return null}ld.readonlyOptions=[];var cd={panorama:null,overlay:null,overlayOpacity:1,container:null,adapter:[Hf,null],plugins:[],caption:null,description:null,downloadUrl:null,downloadName:null,loadingImg:null,loadingTxt:"Loading...",size:null,fisheye:0,minFov:30,maxFov:90,defaultZoomLvl:50,defaultYaw:0,defaultPitch:0,sphereCorrection:null,moveSpeed:1,zoomSpeed:1,moveInertia:!0,mousewheel:!0,mousemove:!0,mousewheelCtrlKey:!1,touchmoveTwoFingers:!1,useXmpData:!0,panoData:null,requestHeaders:null,canvasBackground:"#000",withCredentials:!1,navbar:["zoom","move","download","description","caption","fullscreen"],lang:{zoom:"Zoom",zoomOut:"Zoom out",zoomIn:"Zoom in",moveUp:"Move up",moveDown:"Move down",moveLeft:"Move left",moveRight:"Move right",download:"Download",fullscreen:"Fullscreen",menu:"Menu",close:"Close",twoFingers:"Use two fingers to navigate",ctrlZoom:"Use ctrl + scroll to zoom the image",loadError:"The panorama can't be loaded"},keyboard:"fullscreen",keyboardActions:($u={},gc($u,qc.ArrowUp,"ROTATE_UP"),gc($u,qc.ArrowDown,"ROTATE_DOWN"),gc($u,qc.ArrowRight,"ROTATE_RIGHT"),gc($u,qc.ArrowLeft,"ROTATE_LEFT"),gc($u,qc.PageUp,"ZOOM_IN"),gc($u,qc.PageDown,"ZOOM_OUT"),gc($u,qc.Plus,"ZOOM_IN"),gc($u,qc.Minus,"ZOOM_OUT"),$u)},hd={panorama:"Use setPanorama method to change the panorama",panoData:"Use setPanorama method to change the panorama",overlay:"Use setOverlay method to changer the overlay",overlayOpacity:"Use setOverlay method to changer the overlay",container:"Cannot change viewer container",adapter:"Cannot change adapter",plugins:"Cannot change plugins"},fd={container:function(e){if(!e)throw new Ph("No value given for container.");return e},adapter:function(e,t){var n=t.defValue;if(!(e=e?Array.isArray(e)?[Nf(e[0]),e[1]]:[Nf(e),null]:n)[0])throw new Ph("An undefined value was given for adapter.");if(!e[0].id)throw new Ph("Adapter has no id.");return e},overlayOpacity:function(e){return Tr.clamp(e,0,1)},defaultYaw:function(e){return Wh(e)},defaultPitch:function(e){return Wh(e,!0)},defaultZoomLvl:function(e){return Tr.clamp(e,0,100)},minFov:function(e,t){var n=t.rawConfig;return n.maxFov<e&&(Bh("maxFov cannot be lower than minFov"),e=n.maxFov),Tr.clamp(e,1,179)},maxFov:function(e,t){var n=t.rawConfig;return e<n.minFov&&(e=n.minFov),Tr.clamp(e,1,179)},lang:function(e){return Array.isArray(e.twoFingers)&&(Bh("lang.twoFingers must not be an array"),e.twoFingers=e.twoFingers[0]),mc(mc({},cd.lang),e)},keyboard:function(e){return!!e&&("object"===_c(e)?(Bh("Use keyboardActions to configure the keyboard actions, keyboard option must be either true, false, 'fullscreen' or 'always'"),"fullscreen"):"always"===e?"always":"fullscreen")},keyboardActions:function(e,t){var n=t.rawConfig;return n.keyboard&&"object"===_c(n.keyboard)?n.keyboard:e},fisheye:function(e){return!0===e?1:!1===e?0:e},requestHeaders:function(e){return e&&"object"===_c(e)?function(){return e}:"function"===typeof e?e:null},plugins:function(e){return e.map((function(e,t){if(!(e=Array.isArray(e)?[ud(e[0]),e[1]]:[ud(e),null])[0])throw new Ph("An undefined value was given for plugin ".concat(t,"."));if(!e[0].id)throw new Ph("Plugin ".concat(t," has no id."));return e}))},navbar:function(e){return!1===e?null:!0===e?Mh(cd.navbar):"string"===typeof e?e.split(/[ ,]/):e}},dd=qh(cd,fd),pd=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e,{className:"psv-caption",hoverScale:!1,collapsable:!1,tabbable:!0})).contentWidth=0,i.state.width=0,i.contentElt=document.createElement("div"),i.contentElt.className="psv-caption-content",i.container.appendChild(i.contentElt),i.setCaption(i.viewer.config.caption),i}return wc(n,[{key:"hide",value:function(){this.contentElt.style.display="none",this.state.visible=!1}},{key:"show",value:function(){this.contentElt.style.display="",this.state.visible=!0}},{key:"onClick",value:function(){}},{key:"setCaption",value:function(e){this.show(),this.contentElt.innerHTML=null!==e&&void 0!==e?e:"",this.contentElt.innerHTML?this.contentWidth=this.contentElt.offsetWidth:this.contentWidth=0,this.autoSize()}},{key:"autoSize",value:function(){this.toggle(this.container.offsetWidth>=this.contentWidth),this.__refreshButton()}},{key:"__refreshButton",value:function(){var e;null===(e=this.viewer.navbar.getButton(Xf.id,!1))||void 0===e||e.autoSize(!0)}}]),n}(Qf);pd.id="caption";var vd={},md={};function gd(e,t){if(!e.id)throw new Ph("Button id is required");if(vd[e.id]=e,e.groupId&&(md[e.groupId]=md[e.groupId]||[]).push(e),t){var n=cd.navbar;switch(t){case"start":n.unshift(e.id);break;case"end":n.push(e.id);break;default:var i=Oc(t.split(":"),2),r=i[0],a=i[1],o=n.indexOf(r);if(!r||!a||-1===o)throw new Ph("Invalid defaultPosition ".concat(t));n.splice(o+("right"===a?1:0),0,e.id)}}}[ad,od,rd,Xf,pd,Yf,Jf,ed,td,nd,$f].forEach((function(e){return gd(e)}));var yd=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e,{className:"psv-navbar psv--capture-event"})).collapsed=[],i.state.visible=!1,i}return wc(n,[{key:"show",value:function(){this.container.classList.add("psv-navbar--open"),this.state.visible=!0}},{key:"hide",value:function(){this.container.classList.remove("psv-navbar--open"),this.state.visible=!1}},{key:"setButtons",value:function(e){var t=this;this.children.slice().forEach((function(e){return e.destroy()})),this.children.length=0,-1!==e.indexOf(pd.id)&&-1===e.indexOf(Xf.id)&&e.splice(e.indexOf(pd.id),0,Xf.id),e.forEach((function(e){"object"===_c(e)?new Wf(t,e):vd[e]?new vd[e](t):md[e]?md[e].forEach((function(e){new e(t)})):Bh("Unknown button ".concat(e))})),new qf(this),this.children.forEach((function(e){e instanceof Qf&&e.checkSupported()})),this.autoSize()}},{key:"setCaption",value:function(e){this.children.some((function(t){return t instanceof pd&&(t.setCaption(e),!0)}))}},{key:"getButton",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.children.find((function(t){return t instanceof Qf&&t.id===e}));return!n&&t&&Bh('button "'.concat(e,'" not found in the navbar')),n}},{key:"autoSize",value:function(){var e;this.children.forEach((function(e){e instanceof Qf&&e.autoSize()}));var t=this.container.offsetWidth,n=0,i=[];this.children.forEach((function(e){e.isVisible()&&e instanceof Qf&&(n+=e.width,e.collapsable&&i.push(e))})),0!==n&&(t<n&&i.length>0?(i.forEach((function(e){return e.collapse()})),this.collapsed=i,this.getButton(qf.id).show(!1)):t>=n&&this.collapsed.length>0&&(this.collapsed.forEach((function(e){return e.uncollapse()})),this.collapsed=[],this.getButton(qf.id).hide(!1)),null===(e=this.getButton(pd.id,!1))||void 0===e||e.autoSize())}}]),n}(Gf),wd=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e,{className:"psv-loader-container"})).loader=document.createElement("div"),i.loader.className="psv-loader",i.container.appendChild(i.loader),i.size=i.loader.offsetWidth,i.canvas=document.createElementNS("http://www.w3.org/2000/svg","svg"),i.canvas.setAttribute("class","psv-loader-canvas"),i.canvas.setAttribute("viewBox","0 0 ".concat(i.size," ").concat(i.size)),i.loader.appendChild(i.canvas),i.textColor=ph(i.loader,"color"),i.color=ph(i.canvas,"color"),i.border=parseInt(ph(i.loader,"outlineWidth"),10),i.thickness=parseInt(ph(i.canvas,"outlineWidth"),10),i.viewer.addEventListener(ff.type,kc(i)),i.__updateContent(),i.hide(),i}return wc(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(ff.type,this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof ff&&e.containsOptions("loadingImg","loadingTxt")&&this.__updateContent()}},{key:"setProgress",value:function(e){var t=Math.min(e,99.999)/100*Math.PI*2,n=this.size/2,i=n,r=this.thickness/2+this.border,a=(this.size-this.thickness)/2-this.border,o=Math.sin(t)*a+n,s=-Math.cos(t)*a+n,l=e>50?"1":"0";this.canvas.innerHTML='\n            <circle cx="'.concat(n,'" cy="').concat(n,'" r="').concat(n,'" fill="').concat(this.color,'"/>\n            <path d="M ').concat(i," ").concat(r," A ").concat(a," ").concat(a," 0 ").concat(l," 1 ").concat(o," ").concat(s,'" \n                  fill="none" stroke="').concat(this.textColor,'" stroke-width="').concat(this.thickness,'" stroke-linecap="round"/>\n        '),this.viewer.dispatchEvent(new bf(Math.round(e)))}},{key:"__updateContent",value:function(){var e,t=this.loader.querySelector(".psv-loader-image, .psv-loader-text");if(t&&this.loader.removeChild(t),this.viewer.config.loadingImg?((e=document.createElement("img")).className="psv-loader-image",e.src=this.viewer.config.loadingImg):this.viewer.config.loadingTxt&&((e=document.createElement("div")).className="psv-loader-text",e.innerHTML=this.viewer.config.loadingTxt),e){var n=Math.round(Math.sqrt(2*Math.pow(this.size/2-this.thickness/2-this.border,2)));e.style.maxWidth=n+"px",e.style.maxHeight=n+"px",this.loader.appendChild(e)}}}]),n}(Gf),Ad=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e,{className:"psv-notification"})).state={visible:!1,contentId:null,timeout:null},i.content=document.createElement("div"),i.content.className="psv-notification-content",i.container.appendChild(i.content),i.content.addEventListener("click",(function(){return i.hide()})),i}return wc(n,[{key:"isVisible",value:function(e){return this.state.visible&&(!e||!this.state.contentId||this.state.contentId===e)}},{key:"toggle",value:function(){throw new Ph("Notification cannot be toggled")}},{key:"show",value:function(e){var t=this;this.state.timeout&&(clearTimeout(this.state.timeout),this.state.timeout=null),"string"===typeof e&&(e={content:e}),this.state.contentId=e.id||null,this.content.innerHTML=e.content,this.container.classList.add("psv-notification--visible"),this.state.visible=!0,this.viewer.dispatchEvent(new Ef(e.id)),e.timeout&&(this.state.timeout=setTimeout((function(){return t.hide(t.state.contentId)}),e.timeout))}},{key:"hide",value:function(e){if(this.isVisible(e)){var t=this.state.contentId;this.container.classList.remove("psv-notification--visible"),this.state.visible=!1,this.state.contentId=null,this.viewer.dispatchEvent(new vf(t))}}}]),n}(Gf),bd=function(e){xc(n,e);var t=Mc(n);function n(e){var i,r;return bc(this,n),(r=t.call(this,e,{className:"psv-overlay"})).state={visible:!1,contentId:null,dissmisable:!0},r.image=document.createElement("div"),r.image.className="psv-overlay-image",r.container.appendChild(r.image),r.title=document.createElement("div"),r.title.className="psv-overlay-title",r.container.appendChild(r.title),r.text=document.createElement("div"),r.text.className="psv-overlay-text",r.container.appendChild(r.text),r.viewer.addEventListener(hf.type,kc(r)),r.viewer.addEventListener(Af.type,kc(r)),pc((i=kc(r),Pc(n.prototype)),"hide",i).call(i),r}return wc(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(hf.type,this),this.viewer.removeEventListener(Af.type,this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof hf?this.isVisible()&&this.state.dissmisable&&(this.hide(),e.stopPropagation()):e instanceof Af&&this.isVisible()&&this.state.dissmisable&&e.key===qc.Escape&&(this.hide(),e.preventDefault())}},{key:"isVisible",value:function(e){return this.state.visible&&(!e||!this.state.contentId||this.state.contentId===e)}},{key:"toggle",value:function(){throw new Ph("Overlay cannot be toggled")}},{key:"show",value:function(e){"string"===typeof e&&(e={title:e}),this.state.contentId=e.id||null,this.state.dissmisable=!1!==e.dissmisable,this.image.innerHTML=e.image||"",this.title.innerHTML=e.title||"",this.text.innerHTML=e.text||"",pc(Pc(n.prototype),"show",this).call(this),this.viewer.dispatchEvent(new Cf(e.id))}},{key:"hide",value:function(e){if(this.isVisible(e)){var t=this.state.contentId;pc(Pc(n.prototype),"hide",this).call(this),this.state.contentId=null,this.viewer.dispatchEvent(new mf(t))}}}]),n}(Gf),xd="psv-panel-content--no-interaction",Md=function(e){xc(n,e);var t=Mc(n);function n(e){var i;bc(this,n),(i=t.call(this,e,{className:"psv-panel psv--capture-event"})).state={visible:!1,contentId:null,mouseX:0,mouseY:0,mousedown:!1,clickHandler:null,keyHandler:null,width:{}};var r=document.createElement("div");r.className="psv-panel-resizer",i.container.appendChild(r);var a=document.createElement("div");return a.className="psv-panel-close-button",a.innerHTML=Zc.close,a.title=e.config.lang.close,i.container.appendChild(a),i.content=document.createElement("div"),i.content.className="psv-panel-content",i.container.appendChild(i.content),i.container.addEventListener("wheel",(function(e){return e.stopPropagation()})),a.addEventListener("click",(function(){return i.hide()})),r.addEventListener("mousedown",kc(i)),r.addEventListener("touchstart",kc(i)),i.viewer.container.addEventListener("mouseup",kc(i)),i.viewer.container.addEventListener("touchend",kc(i)),i.viewer.container.addEventListener("mousemove",kc(i)),i.viewer.container.addEventListener("touchmove",kc(i)),i.viewer.addEventListener(Af.type,kc(i)),i}return wc(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(Af.type,this),this.viewer.container.removeEventListener("mousemove",this),this.viewer.container.removeEventListener("touchmove",this),this.viewer.container.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchend",this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.__onMouseDown(e);break;case"touchstart":this.__onTouchStart(e);break;case"mousemove":this.__onMouseMove(e);break;case"touchmove":this.__onTouchMove(e);break;case"mouseup":this.__onMouseUp(e);break;case"touchend":this.__onTouchEnd(e);break;case Af.type:this.__onKeyPress(e)}}},{key:"isVisible",value:function(e){return this.state.visible&&(!e||!this.state.contentId||this.state.contentId===e)}},{key:"toggle",value:function(){throw new Ph("Panel cannot be toggled")}},{key:"show",value:function(e){var t=this;"string"===typeof e&&(e={content:e});var n=this.isVisible(e.id);this.state.contentId=e.id||null,this.state.visible=!0,this.state.clickHandler&&(this.content.removeEventListener("click",this.state.clickHandler),this.content.removeEventListener("keydown",this.state.keyHandler),this.state.clickHandler=null,this.state.keyHandler=null),e.id&&this.state.width[e.id]?this.container.style.width=this.state.width[e.id]:e.width?this.container.style.width=e.width:this.container.style.width=null,this.content.innerHTML=e.content,this.content.scrollTop=0,this.container.classList.add("psv-panel--open"),lh(this.content,"psv-panel-content--no-margin",!0===e.noMargin),e.clickHandler&&(this.state.clickHandler=function(t){e.clickHandler(t.target)},this.state.keyHandler=function(t){t.key===qc.Enter&&e.clickHandler(t.target)},this.content.addEventListener("click",this.state.clickHandler),this.content.addEventListener("keydown",this.state.keyHandler),n||setTimeout((function(){var e;null===(e=t.content.querySelector("a,button,[tabindex]"))||void 0===e||e.focus()}),300)),this.viewer.dispatchEvent(new Tf(e.id))}},{key:"hide",value:function(e){if(this.isVisible(e)){var t=this.state.contentId;this.state.visible=!1,this.state.contentId=null,this.content.innerHTML=null,this.container.classList.remove("psv-panel--open"),this.state.clickHandler&&(this.content.removeEventListener("click",this.state.clickHandler),this.state.clickHandler=null),this.viewer.dispatchEvent(new gf(t))}}},{key:"__onMouseDown",value:function(e){e.stopPropagation(),this.__startResize(e.clientX,e.clientY)}},{key:"__onTouchStart",value:function(e){if(e.stopPropagation(),1===e.touches.length){var t=e.touches[0];this.__startResize(t.clientX,t.clientY)}}},{key:"__onMouseUp",value:function(e){this.state.mousedown&&(e.stopPropagation(),this.state.mousedown=!1,this.content.classList.remove(xd))}},{key:"__onTouchEnd",value:function(e){this.state.mousedown&&(e.stopPropagation(),0===e.touches.length&&(this.state.mousedown=!1,this.content.classList.remove(xd)))}},{key:"__onMouseMove",value:function(e){this.state.mousedown&&(e.stopPropagation(),this.__resize(e.clientX,e.clientY))}},{key:"__onTouchMove",value:function(e){if(this.state.mousedown){var t=e.touches[0];this.__resize(t.clientX,t.clientY)}}},{key:"__onKeyPress",value:function(e){this.isVisible()&&e.key===qc.Escape&&(this.hide(),e.preventDefault())}},{key:"__startResize",value:function(e,t){this.state.mouseX=e,this.state.mouseY=t,this.state.mousedown=!0,this.content.classList.add(xd)}},{key:"__resize",value:function(e,t){var n=e,i=t,r=Math.max(200,this.container.offsetWidth-(n-this.state.mouseX))+"px";this.state.contentId&&(this.state.width[this.state.contentId]=r),this.container.style.width=r,this.state.mouseX=n,this.state.mouseY=i}}]),n}(Gf),kd=function(e){xc(n,e);var t=Mc(n);function n(e,i){var r;return bc(this,n),(r=t.call(this,e,{className:"psv-tooltip"})).state={visible:!0,arrow:0,border:0,state:0,width:0,height:0,pos:"",config:null,data:null},r.content=document.createElement("div"),r.content.className="psv-tooltip-content",r.container.appendChild(r.content),r.arrow=document.createElement("div"),r.arrow.className="psv-tooltip-arrow",r.container.appendChild(r.arrow),r.container.addEventListener("transitionend",kc(r)),r.container.style.top="-1000px",r.container.style.left="-1000px",r.show(i),r}return wc(n,[{key:"handleEvent",value:function(e){"transitionend"===e.type&&this.__onTransitionEnd(e)}},{key:"destroy",value:function(){delete this.state.data,pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"toggle",value:function(){throw new Ph("Tooltip cannot be toggled")}},{key:"show",value:function(e){if(0!==this.state.state)throw new Ph("Initialized tooltip cannot be re-initialized");e.className&&uh(this.container,e.className),this.state.state=3,this.update(e.content,e),this.state.data=e.data,this.state.state=1,this.viewer.dispatchEvent(new Pf(this,this.state.data)),this.__waitImages()}},{key:"update",value:function(e,t){this.content.innerHTML=e;var n=this.container.getBoundingClientRect();this.state.width=n.right-n.left,this.state.height=n.bottom-n.top,this.state.arrow=parseInt(ph(this.arrow,"borderTopWidth"),10),this.state.border=parseInt(ph(this.container,"borderTopLeftRadius"),10),this.move(null!==t&&void 0!==t?t:this.state.config)}},{key:"move",value:function(e){if(1!==this.state.state&&3!==this.state.state)throw new Ph("Uninitialized tooltip cannot be moved");e.box||(e.box={width:0,height:0}),this.state.config=e;var t=this.container,n=this.arrow,i={posClass:Gh(e.position,{allowCenter:!1,cssOrder:!1})||["top","center"],width:this.state.width,height:this.state.height,top:0,left:0,arrowTop:0,arrowLeft:0};this.__computeTooltipPosition(i,e);var r=null,a=null;if(i.top<0?r="bottom":i.top+i.height>this.viewer.state.size.height&&(r="top"),i.left<0?a="right":i.left+i.width>this.viewer.state.size.width&&(a="left"),a||r){var o=Vh(i.posClass);r&&(i.posClass[o?0:1]=r),a&&(i.posClass[o?1:0]=a),this.__computeTooltipPosition(i,e)}t.style.top=i.top+"px",t.style.left=i.left+"px",n.style.top=i.arrowTop+"px",n.style.left=i.arrowLeft+"px";var s=i.posClass.join("-");s!==this.state.pos&&(t.classList.remove("psv-tooltip--".concat(this.state.pos)),this.state.pos=s,t.classList.add("psv-tooltip--".concat(this.state.pos)))}},{key:"hide",value:function(){this.container.classList.remove("psv-tooltip--visible"),this.state.state=2,this.viewer.dispatchEvent(new yf(this.state.data))}},{key:"__onTransitionEnd",value:function(e){if("transform"===e.propertyName)switch(this.state.state){case 1:this.container.classList.add("psv-tooltip--visible"),this.state.state=3;break;case 2:this.state.state=0,this.destroy()}}},{key:"__computeTooltipPosition",value:function(e,t){var n=this.state.arrow,i=t.top,r=e.height,a=t.left,o=e.width,s=n+this.state.border,l=t.box.width/2+2*n,u=t.box.height/2+2*n;switch(e.posClass.join("-")){case"top-left":e.top=i-u-r,e.left=a+s-o,e.arrowTop=r,e.arrowLeft=o-s-n;break;case"top-center":e.top=i-u-r,e.left=a-o/2,e.arrowTop=r,e.arrowLeft=o/2-n;break;case"top-right":e.top=i-u-r,e.left=a-s,e.arrowTop=r,e.arrowLeft=n;break;case"bottom-left":e.top=i+u,e.left=a+s-o,e.arrowTop=2*-n,e.arrowLeft=o-s-n;break;case"bottom-center":e.top=i+u,e.left=a-o/2,e.arrowTop=2*-n,e.arrowLeft=o/2-n;break;case"bottom-right":e.top=i+u,e.left=a-s,e.arrowTop=2*-n,e.arrowLeft=n;break;case"left-top":e.top=i+s-r,e.left=a-l-o,e.arrowTop=r-s-n,e.arrowLeft=o;break;case"center-left":e.top=i-r/2,e.left=a-l-o,e.arrowTop=r/2-n,e.arrowLeft=o;break;case"left-bottom":e.top=i-s,e.left=a-l-o,e.arrowTop=n,e.arrowLeft=o;break;case"right-top":e.top=i+s-r,e.left=a+l,e.arrowTop=r-s-n,e.arrowLeft=2*-n;break;case"center-right":e.top=i-r/2,e.left=a+l,e.arrowTop=r/2-n,e.arrowLeft=2*-n;break;case"right-bottom":e.top=i-s,e.left=a+l,e.arrowTop=n,e.arrowLeft=2*-n}}},{key:"__waitImages",value:function(){var e=this,t=this.content.querySelectorAll("img");if(t.length>0){var n=[];t.forEach((function(e){n.push(new Promise((function(t){e.onload=t,e.onerror=t})))})),Promise.all(n).then((function(){if(1===e.state.state||3===e.state.state){var t=e.container.getBoundingClientRect();e.state.width=t.right-t.left,e.state.height=t.bottom-t.top,e.move(e.state.config)}}))}}}]),n}(Gf),Sd=function(){function e(t){bc(this,e),this.viewer=t,this.config=t.config,this.state=t.state}return wc(e,[{key:"destroy",value:function(){}}]),e}(),Ed=new Ir,Cd=new Fa(0,0,0,"ZXY"),Td=function(e){xc(n,e);var t=Mc(n);function n(e){return bc(this,n),t.call(this,e)}return wc(n,[{key:"fovToZoomLevel",value:function(e){var t=Math.round((e-this.config.minFov)/(this.config.maxFov-this.config.minFov)*100);return t-2*(t-50)}},{key:"zoomLevelToFov",value:function(e){return this.config.maxFov+e/100*(this.config.minFov-this.config.maxFov)}},{key:"vFovToHFov",value:function(e){return Tr.radToDeg(2*Math.atan(Math.tan(Tr.degToRad(e)/2)*this.state.aspect))}},{key:"speedToDuration",value:function(e,t){if("number"!==typeof e){var n=Qh(e);return t/Math.abs(n)*1e3}return Math.abs(e)}},{key:"textureCoordsToSphericalCoords",value:function(e){var t=this.state.panoData;if(!t)throw new Ph("Current adapter does not support texture coordinates.");var n=(e.textureX+t.croppedX)/t.fullWidth*Math.PI*2,i=(e.textureY+t.croppedY)/t.fullHeight*Math.PI,r={yaw:n>=Math.PI?n-Math.PI:n+Math.PI,pitch:Math.PI/2-i};return Cd.equals(this.viewer.renderer.panoramaPose)&&Cd.equals(this.viewer.renderer.sphereCorrection)?r:(this.sphericalCoordsToVector3(r,Ed),Ed.applyEuler(this.viewer.renderer.panoramaPose),Ed.applyEuler(this.viewer.renderer.sphereCorrection),this.vector3ToSphericalCoords(Ed))}},{key:"sphericalCoordsToTextureCoords",value:function(e){var t=this.state.panoData;if(!t)throw new Ph("Current adapter does not support texture coordinates.");Cd.equals(this.viewer.renderer.panoramaPose)&&Cd.equals(this.viewer.renderer.sphereCorrection)||(this.sphericalCoordsToVector3(e,Ed),Jh(Ed,this.viewer.renderer.sphereCorrection),Jh(Ed,this.viewer.renderer.panoramaPose),e=this.vector3ToSphericalCoords(Ed));var n=e.yaw/Math.PI/2*t.fullWidth,i=e.pitch/Math.PI*t.fullHeight;return{textureX:Math.round(e.yaw<Math.PI?n+t.fullWidth/2:n-t.fullWidth/2)-t.croppedX,textureY:Math.round(t.fullHeight/2-i)-t.croppedY}}},{key:"sphericalCoordsToVector3",value:function(e,t){return t||(t=new Ir),t.x=Wc*-Math.cos(e.pitch)*Math.sin(e.yaw),t.y=Wc*Math.sin(e.pitch),t.z=Wc*Math.cos(e.pitch)*Math.cos(e.yaw),t}},{key:"vector3ToSphericalCoords",value:function(e){var t=Math.acos(e.y/Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)),n=Math.atan2(e.x,e.z);return{yaw:n<0?-n:2*Math.PI-n,pitch:Math.PI/2-t}}},{key:"viewerCoordsToVector3",value:function(e){var t=this.viewer.renderer.getIntersections(e).filter((function(e){return e.object.userData[Xc]}));return t.length?t[0].point:null}},{key:"viewerCoordsToSphericalCoords",value:function(e){var t=this.viewerCoordsToVector3(e);return t?this.vector3ToSphericalCoords(t):null}},{key:"vector3ToViewerCoords",value:function(e){var t=e.clone();return t.project(this.viewer.renderer.camera),{x:Math.round((t.x+1)/2*this.state.size.width),y:Math.round((1-t.y)/2*this.state.size.height)}}},{key:"sphericalCoordsToViewerCoords",value:function(e){return this.sphericalCoordsToVector3(e,Ed),this.vector3ToViewerCoords(Ed)}},{key:"cleanPosition",value:function(e){return void 0!==e.textureX&&void 0!==e.textureY?this.textureCoordsToSphericalCoords(e):{yaw:Wh(e.yaw),pitch:Wh(e.pitch,!this.state.littlePlanet)}}},{key:"cleanSphereCorrection",value:function(e){return{pan:Wh((null===e||void 0===e?void 0:e.pan)||0),tilt:Wh((null===e||void 0===e?void 0:e.tilt)||0,!0),roll:Wh((null===e||void 0===e?void 0:e.roll)||0,!0,!1)}}},{key:"cleanPanoramaPose",value:function(e){return{pan:Tr.degToRad((null===e||void 0===e?void 0:e.poseHeading)||0),tilt:Tr.degToRad((null===e||void 0===e?void 0:e.posePitch)||0),roll:Tr.degToRad((null===e||void 0===e?void 0:e.poseRoll)||0)}}}]),n}(Sd),Pd=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e)).data={step:0,startMouseX:0,startMouseY:0,mouseX:0,mouseY:0,mouseHistory:[],pinchDist:0,ctrlKeyDown:!1,dblclickData:null,dblclickTimeout:null,longtouchTimeout:null,twofingersTimeout:null,ctrlZoomTimeout:null},i.keyHandler=new ef,i.resizeObserver=new ResizeObserver(Ah((function(){return i.viewer.autoSize()}),50)),i.moveThreshold=Uc*Uf.pixelRatio,i}return wc(n,[{key:"init",value:function(){window.addEventListener("keydown",this,{passive:!1}),window.addEventListener("keyup",this),this.viewer.container.addEventListener("mousedown",this),window.addEventListener("mousemove",this,{passive:!1}),window.addEventListener("mouseup",this),this.viewer.container.addEventListener("touchstart",this,{passive:!1}),window.addEventListener("touchmove",this,{passive:!1}),window.addEventListener("touchend",this,{passive:!1}),this.viewer.container.addEventListener("wheel",this,{passive:!1}),document.addEventListener(Uf.fullscreenEvent,this),this.resizeObserver.observe(this.viewer.container)}},{key:"destroy",value:function(){window.removeEventListener("keydown",this),window.removeEventListener("keyup",this),this.viewer.container.removeEventListener("mousedown",this),window.removeEventListener("mousemove",this),window.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchstart",this),window.removeEventListener("touchmove",this),window.removeEventListener("touchend",this),this.viewer.container.removeEventListener("wheel",this),document.removeEventListener(Uf.fullscreenEvent,this),this.resizeObserver.disconnect(),clearTimeout(this.data.dblclickTimeout),clearTimeout(this.data.longtouchTimeout),clearTimeout(this.data.twofingersTimeout),clearTimeout(this.data.ctrlZoomTimeout),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case"keydown":this.__onKeyDown(e);break;case"keyup":this.__onKeyUp();break;case"mousemove":this.__onMouseMove(e);break;case"mouseup":this.__onMouseUp(e);break;case"touchmove":this.__onTouchMove(e);break;case"touchend":this.__onTouchEnd(e);break;case Uf.fullscreenEvent:this.__onFullscreenChange()}if(!fh(e.target,".psv--capture-event"))switch(e.type){case"mousedown":this.__onMouseDown(e);break;case"touchstart":this.__onTouchStart(e);break;case"wheel":this.__onMouseWheel(e)}}},{key:"__isStep",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return-1!==t.indexOf(this.data.step)}},{key:"__onKeyDown",value:function(e){if(this.config.mousewheelCtrlKey&&(this.data.ctrlKeyDown=e.key===qc.Control,this.data.ctrlKeyDown&&(clearTimeout(this.data.ctrlZoomTimeout),this.viewer.overlay.hide(Jc.CTRL_ZOOM))),this.viewer.dispatchEvent(new Af(e.key))&&this.state.keyboardEnabled&&this.config.keyboard){var t=this.config.keyboardActions[e.key];if("function"===typeof t)t(this.viewer),e.preventDefault();else if(t&&!this.keyHandler.pending){switch("ZOOM_IN"!==t&&"ZOOM_OUT"!==t&&this.viewer.stopAll(),t){case"ROTATE_UP":this.viewer.dynamics.position.roll({pitch:!1});break;case"ROTATE_DOWN":this.viewer.dynamics.position.roll({pitch:!0});break;case"ROTATE_RIGHT":this.viewer.dynamics.position.roll({yaw:!1});break;case"ROTATE_LEFT":this.viewer.dynamics.position.roll({yaw:!0});break;case"ZOOM_IN":this.viewer.dynamics.zoom.roll(!1);break;case"ZOOM_OUT":this.viewer.dynamics.zoom.roll(!0)}this.keyHandler.down(),e.preventDefault()}}}},{key:"__onKeyUp",value:function(){var e=this;this.data.ctrlKeyDown=!1,this.state.keyboardEnabled&&this.keyHandler.up((function(){e.viewer.dynamics.position.stop(),e.viewer.dynamics.zoom.stop(),e.viewer.resetIdleTimer()}))}},{key:"__onMouseDown",value:function(e){this.data.step=1,this.data.startMouseX=e.clientX,this.data.startMouseY=e.clientY}},{key:"__onMouseUp",value:function(e){this.__isStep(1,2)&&this.__stopMove(e.clientX,e.clientY,e.target,2===e.button)}},{key:"__onMouseMove",value:function(e){this.config.mousemove&&this.__isStep(1,2)&&(e.preventDefault(),this.__doMove(e.clientX,e.clientY)),this.__handleObjectsEvents(e)}},{key:"__onTouchStart",value:function(e){var t=this;1===e.touches.length?(this.data.step=1,this.data.startMouseX=e.touches[0].clientX,this.data.startMouseY=e.touches[0].clientY,this.data.longtouchTimeout||(this.data.longtouchTimeout=setTimeout((function(){var n=e.touches[0];t.__stopMove(n.clientX,n.clientY,n.target,!0),t.data.longtouchTimeout=null}),Hc))):2===e.touches.length&&(this.data.step=0,this.__cancelLongTouch(),this.config.mousemove&&(this.__cancelTwoFingersOverlay(),this.__startMoveZoom(e),e.preventDefault()))}},{key:"__onTouchEnd",value:function(e){if(this.__cancelLongTouch(),this.__isStep(1,2))if(e.preventDefault(),this.__cancelTwoFingersOverlay(),1===e.touches.length)this.__stopMove(this.data.mouseX,this.data.mouseY);else if(0===e.touches.length){var t=e.changedTouches[0];this.__stopMove(t.clientX,t.clientY,t.target)}}},{key:"__onTouchMove",value:function(e){var t=this;if(this.__cancelLongTouch(),this.config.mousemove)if(1===e.touches.length){if(this.config.touchmoveTwoFingers)this.__isStep(1)&&!this.data.twofingersTimeout&&(this.data.twofingersTimeout=setTimeout((function(){t.viewer.overlay.show({id:Jc.TWO_FINGERS,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M33.38 33.2a1.96 1.96 0 0 0 1.5-3.23 10.61 10.61 0 0 1 7.18-17.51c.7-.06 1.31-.49 1.61-1.12a13.02 13.02 0 0 1 11.74-7.43c7.14 0 12.96 5.8 12.96 12.9 0 3.07-1.1 6.05-3.1 8.38-.7.82-.61 2.05.21 2.76.83.7 2.07.6 2.78-.22a16.77 16.77 0 0 0 4.04-10.91C72.3 7.54 64.72 0 55.4 0a16.98 16.98 0 0 0-14.79 8.7 14.6 14.6 0 0 0-12.23 14.36c0 3.46 1.25 6.82 3.5 9.45.4.45.94.69 1.5.69m45.74 43.55a22.13 22.13 0 0 1-5.23 12.4c-4 4.55-9.53 6.86-16.42 6.86-12.6 0-20.1-10.8-20.17-10.91a1.82 1.82 0 0 0-.08-.1c-5.3-6.83-14.55-23.82-17.27-28.87-.05-.1 0-.21.02-.23a6.3 6.3 0 0 1 8.24 1.85l9.38 12.59a1.97 1.97 0 0 0 3.54-1.17V25.34a4 4 0 0 1 1.19-2.87 3.32 3.32 0 0 1 2.4-.95c1.88.05 3.4 1.82 3.4 3.94v24.32a1.96 1.96 0 0 0 3.93 0v-33.1a3.5 3.5 0 0 1 7 0v35.39a1.96 1.96 0 0 0 3.93 0v-.44c.05-2.05 1.6-3.7 3.49-3.7 1.93 0 3.5 1.7 3.5 3.82v5.63c0 .24.04.48.13.71l.1.26a1.97 1.97 0 0 0 3.76-.37c.33-1.78 1.77-3.07 3.43-3.07 1.9 0 3.45 1.67 3.5 3.74l-1.77 18.1zM77.39 51c-1.25 0-2.45.32-3.5.9v-.15c0-4.27-3.33-7.74-7.42-7.74-1.26 0-2.45.33-3.5.9V16.69a7.42 7.42 0 0 0-14.85 0v1.86a7 7 0 0 0-3.28-.94 7.21 7.21 0 0 0-5.26 2.07 7.92 7.92 0 0 0-2.38 5.67v37.9l-5.83-7.82a10.2 10.2 0 0 0-13.35-2.92 4.1 4.1 0 0 0-1.53 5.48C20 64.52 28.74 80.45 34.07 87.34c.72 1.04 9.02 12.59 23.4 12.59 7.96 0 14.66-2.84 19.38-8.2a26.06 26.06 0 0 0 6.18-14.6l1.78-18.2v-.2c0-4.26-3.32-7.73-7.42-7.73z"/>\x3c!--Created by AomAm from the Noun Project--\x3e</svg>\n',title:t.config.lang.twoFingers})}),Gc));else if(this.__isStep(1,2)){e.preventDefault();var n=e.touches[0];this.__doMove(n.clientX,n.clientY)}}else this.__doMoveZoom(e),this.__cancelTwoFingersOverlay()}},{key:"__cancelLongTouch",value:function(){this.data.longtouchTimeout&&(clearTimeout(this.data.longtouchTimeout),this.data.longtouchTimeout=null)}},{key:"__cancelTwoFingersOverlay",value:function(){this.config.touchmoveTwoFingers&&(this.data.twofingersTimeout&&(clearTimeout(this.data.twofingersTimeout),this.data.twofingersTimeout=null),this.viewer.overlay.hide(Jc.TWO_FINGERS))}},{key:"__onMouseWheel",value:function(e){var t=this;if(this.config.mousewheel){if(this.config.mousewheelCtrlKey&&!this.data.ctrlKeyDown)return this.viewer.overlay.show({id:Jc.CTRL_ZOOM,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 17 79 79"><path fill="currentColor" d="M38.1 29.27c-.24 0-.44.2-.44.45v10.7a.45.45 0 00.9 0v-10.7c0-.25-.2-.45-.45-.45zm10.2 26.66a11.54 11.54 0 01-8.48-6.14.45.45 0 10-.8.41 12.45 12.45 0 009.22 6.62.45.45 0 00.07-.9zm24.55-13.08a23.04 23.04 0 00-22.56-23v7.07l-.01.05a2.83 2.83 0 012.39 2.78v14.03l.09-.02h8.84v-9.22a.45.45 0 11.9 0v9.22h10.35v-.9zm0 27.33V44.66H62.5c-.02 2.01-.52 4-1.47 5.76a.45.45 0 01-.61.18.45.45 0 01-.19-.61 11.54 11.54 0 001.36-5.33h-8.83l-.1-.01a2.83 2.83 0 01-2.83 2.84h-.04-.04a2.83 2.83 0 01-2.83-2.83v-14.9a2.82 2.82 0 012.47-2.8v-7.11a23.04 23.04 0 00-22.57 23v.91h14.72V29.88a8.2 8.2 0 015.02-7.57c.22-.1.5.01.59.24.1.23-.01.5-.24.6a7.3 7.3 0 00-4.47 6.73v13.88h3.9a.45.45 0 110 .9h-3.9v.15a7.32 7.32 0 0011.23 6.17.45.45 0 01.49.76 8.22 8.22 0 01-12.62-6.93v-.15H26.82v25.52a23.04 23.04 0 0023.01 23.01 23.04 23.04 0 0023.02-23.01zm1.8-27.33v27.33A24.85 24.85 0 0149.84 95a24.85 24.85 0 01-24.82-24.82V42.85a24.85 24.85 0 0124.82-24.82 24.85 24.85 0 0124.83 24.82zM57.98 29.88v9.36a.45.45 0 11-.9 0v-9.36a7.28 7.28 0 00-3.4-6.17.45.45 0 01.49-.76 8.18 8.18 0 013.8 6.93z"/>\x3c!-- Created by Icon Island from the Noun Project --\x3e</svg>\n',title:this.config.lang.ctrlZoom}),clearTimeout(this.data.ctrlZoomTimeout),void(this.data.ctrlZoomTimeout=setTimeout((function(){return t.viewer.overlay.hide(Jc.CTRL_ZOOM)}),Vc));e.preventDefault(),e.stopPropagation();var n=e.deltaY/Math.abs(e.deltaY)*5*this.config.zoomSpeed;0!==n&&this.viewer.dynamics.zoom.step(-n,5)}}},{key:"__onFullscreenChange",value:function(){var e=this.viewer.isFullscreenEnabled();"fullscreen"===this.config.keyboard&&(e?this.viewer.startKeyboardControl():this.viewer.stopKeyboardControl()),this.viewer.dispatchEvent(new pf(e))}},{key:"__resetMove",value:function(){this.data.step=0,this.data.mouseX=0,this.data.mouseY=0,this.data.startMouseX=0,this.data.startMouseY=0,this.data.mouseHistory.length=0}},{key:"__startMoveZoom",value:function(e){this.viewer.stopAll(),this.__resetMove();var t=vh(e);this.data.step=2,this.data.pinchDist=t.distance;var n=t.center;this.data.mouseX=n.x,this.data.mouseY=n.y,this.__logMouseMove(this.data.mouseX,this.data.mouseY)}},{key:"__stopMove",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.__isStep(2)?this.config.moveInertia?(this.__logMouseMove(e,t),this.__stopMoveInertia(e,t)):(this.__resetMove(),this.viewer.resetIdleTimer()):this.__isStep(1)&&(this.viewer.stopAnimation(),this.__doClick(e,t,n,i),this.__resetMove(),this.viewer.resetIdleTimer())}},{key:"__stopMoveInertia",value:function(e,t){var n=this,i=new ec(this.data.mouseHistory.map((function(e){var t=Oc(e,3),n=t[1],i=t[2];return new Pr(n,i)}))).getTangent(1),r=this.data.mouseHistory.reduce((function(e,t){var n=e.total,i=e.prev;return{total:i?n+nh({x:i[1],y:i[2]},{x:t[1],y:t[2]})/(t[0]-i[0]):0,prev:t}}),{total:0,prev:null}).total/this.data.mouseHistory.length;if(!r)return this.__resetMove(),void this.viewer.resetIdleTimer();this.data.step=3;var a=e,o=t;this.state.animation=new Zh({properties:{speed:{start:r,end:0}},duration:1e3,easing:"outQuad",onTick:function(e){a+=e.speed*i.x*3*Uf.pixelRatio,o+=e.speed*i.y*3*Uf.pixelRatio,n.__applyMove(a,o)}}),this.state.animation.then((function(e){n.state.animation=null,e&&(n.__resetMove(),n.viewer.resetIdleTimer())}))}},{key:"__doClick",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.viewer.container.getBoundingClientRect(),o=e-a.left,s=t-a.top,l=this.viewer.renderer.getIntersections({x:o,y:s}),u=l.find((function(e){return e.object.userData[Xc]}));if(u){var c=this.viewer.dataHelper.vector3ToSphericalCoords(u.point),h={rightclick:r,target:n,clientX:e,clientY:t,viewerX:o,viewerY:s,yaw:c.yaw,pitch:c.pitch,objects:l.map((function(e){return e.object})).filter((function(e){return!e.userData[Xc]}))};try{var f=this.viewer.dataHelper.sphericalCoordsToTextureCoords(h);h.textureX=f.textureX,h.textureY=f.textureY}catch(d){h.textureX=NaN,h.textureY=NaN}this.data.dblclickTimeout?(Math.abs(this.data.dblclickData.clientX-h.clientX)<this.moveThreshold&&Math.abs(this.data.dblclickData.clientY-h.clientY)<this.moveThreshold&&this.viewer.dispatchEvent(new df(this.data.dblclickData)),clearTimeout(this.data.dblclickTimeout),this.data.dblclickTimeout=null,this.data.dblclickData=null):(this.viewer.dispatchEvent(new hf(h)),this.data.dblclickData=Mh(h),this.data.dblclickTimeout=setTimeout((function(){i.data.dblclickTimeout=null,i.data.dblclickData=null}),jc))}}},{key:"__handleObjectsEvents",value:function(e){var t=this;if(!kh(this.state.objectsObservers)&&hh(e.target,this.viewer.container))for(var n=dh(this.viewer.container),i={x:e.clientX-n.x,y:e.clientY-n.y},r=this.viewer.renderer.getIntersections(i),a=function(n,r,a){t.viewer.dispatchEvent(new a(e,n,i,r))},o=function(){var e=Oc(l[s],2),n=e[0],i=e[1],o=r.find((function(e){return e.object.userData[n]}));o?(i&&o.object!==i&&(a(i,n,If),t.state.objectsObservers[n]=null),i?a(o.object,n,Rf):(t.state.objectsObservers[n]=o.object,a(o.object,n,Bf))):i&&(a(i,n,If),t.state.objectsObservers[n]=null)},s=0,l=Object.entries(this.state.objectsObservers);s<l.length;s++)o()}},{key:"__doMove",value:function(e,t){this.__isStep(1)&&(Math.abs(e-this.data.startMouseX)>=this.moveThreshold||Math.abs(t-this.data.startMouseY)>=this.moveThreshold)?(this.viewer.stopAll(),this.__resetMove(),this.data.step=2,this.data.mouseX=e,this.data.mouseY=t,this.__logMouseMove(e,t)):this.__isStep(2)&&(this.__applyMove(e,t),this.__logMouseMove(e,t))}},{key:"__applyMove",value:function(e,t){var n=this.config.moveSpeed*((e-this.data.mouseX)/this.state.size.width)*Tr.degToRad(this.state.littlePlanet?90:this.state.hFov),i=this.config.moveSpeed*((t-this.data.mouseY)/this.state.size.height)*Tr.degToRad(this.state.littlePlanet?90:this.state.vFov),r=this.viewer.getPosition();this.viewer.rotate({yaw:r.yaw-n,pitch:r.pitch+i}),this.data.mouseX=e,this.data.mouseY=t}},{key:"__doMoveZoom",value:function(e){if(this.__isStep(2)){e.preventDefault();var t=vh(e),n=(t.distance-this.data.pinchDist)/Uf.pixelRatio*this.config.zoomSpeed;this.viewer.zoom(this.viewer.getZoomLevel()+n),this.__doMove(t.center.x,t.center.y),this.data.pinchDist=t.distance}}},{key:"__logMouseMove",value:function(e,t){var n=Date.now(),i=this.data.mouseHistory.length?this.data.mouseHistory[this.data.mouseHistory.length-1]:[0,-1,-1];i[1]===e&&i[2]===t?i[0]=n:n===i[0]?(i[1]=e,i[2]=t):this.data.mouseHistory.push([n,e,t]);for(var r=null,a=0;a<this.data.mouseHistory.length;)this.data.mouseHistory[a][0]<n-Qc?this.data.mouseHistory.splice(a,1):r&&this.data.mouseHistory[a][0]-r>Qc/10?(this.data.mouseHistory.splice(0,a),a=0,r=this.data.mouseHistory[a][0]):(r=this.data.mouseHistory[a][0],a++)}}]),n}(Sd),_d=new Pr,Ld=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e)).renderer=new Ju({alpha:!0,antialias:!0}),i.renderer.setPixelRatio(Uf.pixelRatio),i.renderer.domElement.className="psv-canvas",i.scene=new qu,i.camera=new as(50,16/9,.1,2*Wc),i.mesh=i.viewer.adapter.createMesh(),i.mesh.userData=gc({},Xc,!0),i.meshContainer=new Hu,i.meshContainer.add(i.mesh),i.scene.add(i.meshContainer),i.raycaster=new lc,i.container=document.createElement("div"),i.container.className="psv-canvas-container",i.container.style.background=i.config.canvasBackground,i.container.appendChild(i.renderer.domElement),i.viewer.container.appendChild(i.container),i.viewer.addEventListener(_f.type,kc(i)),i.viewer.addEventListener(Of.type,kc(i)),i.viewer.addEventListener(Mf.type,kc(i)),i.viewer.addEventListener(ff.type,kc(i)),i.hide(),i}return wc(n,[{key:"panoramaPose",get:function(){return this.mesh.rotation}},{key:"sphereCorrection",get:function(){return this.meshContainer.rotation}},{key:"init",value:function(){var e=this;this.config.mousemove&&(this.container.style.cursor="move"),this.show(),this.renderer.setAnimationLoop((function(t){return e.__renderLoop(t)}))}},{key:"destroy",value:function(){this.renderer.setAnimationLoop(null),this.cleanScene(this.scene),this.viewer.container.removeChild(this.container),this.viewer.removeEventListener(_f.type,this),this.viewer.removeEventListener(Of.type,this),this.viewer.removeEventListener(Mf.type,this),this.viewer.removeEventListener(ff.type,this),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case _f.type:this.__onSizeUpdated();break;case Of.type:this.__onZoomUpdated();break;case Mf.type:this.__onPositionUpdated();break;case ff.type:e.containsOptions("fisheye")&&this.__onPositionUpdated(),e.containsOptions("mousemove")&&(this.container.style.cursor=this.config.mousemove?"move":"default"),e.containsOptions("canvasBackground")&&(this.container.style.background=this.config.canvasBackground)}}},{key:"hide",value:function(){this.container.style.opacity="0"}},{key:"show",value:function(){this.container.style.opacity="1"}},{key:"setCustomRenderer",value:function(e){this.customRenderer=e?e(this.renderer):null,this.viewer.needsUpdate()}},{key:"__onSizeUpdated",value:function(){this.renderer.setSize(this.state.size.width,this.state.size.height),this.camera.aspect=this.state.aspect,this.camera.updateProjectionMatrix(),this.viewer.needsUpdate()}},{key:"__onZoomUpdated",value:function(){this.camera.fov=this.state.vFov,this.camera.updateProjectionMatrix(),this.viewer.needsUpdate()}},{key:"__onPositionUpdated",value:function(){this.camera.position.set(0,0,0),this.camera.lookAt(this.state.direction),this.config.fisheye&&this.camera.position.copy(this.state.direction).multiplyScalar(this.config.fisheye/2).negate(),this.viewer.needsUpdate()}},{key:"__renderLoop",value:function(e){var t=this.timestamp?e-this.timestamp:0;this.timestamp=e,this.viewer.dispatchEvent(new uf(e,t)),this.viewer.dynamics.update(t),this.state.needsUpdate&&((this.customRenderer||this.renderer).render(this.scene,this.camera),this.viewer.dispatchEvent(new Sf),this.state.needsUpdate=!1)}},{key:"setTexture",value:function(e){this.state.panoData=e.panoData,this.viewer.adapter.setTexture(this.mesh,e),this.viewer.needsUpdate()}},{key:"setOverlay",value:function(e,t){this.viewer.adapter.setOverlay(this.mesh,e,t),this.viewer.needsUpdate()}},{key:"setPanoramaPose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mesh,n=this.viewer.dataHelper.cleanPanoramaPose(e);t.rotation.set(-n.tilt,-n.pan,-n.roll,"ZXY")}},{key:"setSphereCorrection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.meshContainer,n=this.viewer.dataHelper.cleanSphereCorrection(e);t.rotation.set(n.tilt,n.pan,n.roll,"ZXY")}},{key:"transition",value:function(e,t){var n=this,i=Ih(t),r="zoom"in t,a=new Hu,o=this.viewer.adapter.createMesh(.5);if(this.viewer.adapter.setTexture(o,e,!0),this.viewer.adapter.setTextureOpacity(o,0),this.setPanoramaPose(e.panoData,o),this.setSphereCorrection(t.sphereCorrection,a),i){var s=this.viewer.dataHelper.cleanPosition(t),l=this.viewer.getPosition(),u=new Ir(0,1,0);a.rotateOnWorldAxis(u,s.yaw-l.yaw);var c=new Ir(0,1,0).cross(this.camera.getWorldDirection(new Ir)).normalize();a.rotateOnWorldAxis(c,s.pitch-l.pitch)}a.add(o),this.scene.add(a),this.renderer.setRenderTarget(new $r),this.renderer.render(this.scene,this.camera),this.renderer.setRenderTarget(null);var h=new Zh({properties:{opacity:{start:0,end:1},zoom:r?{start:this.viewer.getZoomLevel(),end:t.zoom}:void 0},duration:t.transition,easing:"outCubic",onTick:function(e){n.viewer.adapter.setTextureOpacity(o,e.opacity),n.viewer.adapter.setTextureOpacity(n.mesh,1-e.opacity),r&&n.viewer.zoom(e.zoom),n.viewer.needsUpdate()}});return h.then((function(r){r?(n.setTexture(e),n.viewer.adapter.setTextureOpacity(n.mesh,1),n.setPanoramaPose(e.panoData),n.setSphereCorrection(t.sphereCorrection),i&&n.viewer.rotate(t)):n.viewer.adapter.disposeTexture(e),n.scene.remove(a),o.geometry.dispose(),o.geometry=null})),h}},{key:"getIntersections",value:function(e){return _d.x=2*e.x/this.state.size.width-1,_d.y=-2*e.y/this.state.size.height+1,this.raycaster.setFromCamera(_d,this.camera),this.raycaster.intersectObjects(this.scene.children,!0).filter((function(e){return e.object.isMesh&&!!e.object.userData}))}},{key:"addObject",value:function(e){this.scene.add(e)}},{key:"removeObject",value:function(e){this.scene.remove(e)}},{key:"cleanScene",value:function(e){var t=this;e.traverse((function(n){n.geometry&&n.geometry.dispose(),n.material&&(Array.isArray(n.material)?n.material.forEach((function(e){e.map&&e.map.dispose(),e.dispose()})):(n.material.map&&n.material.map.dispose(),n.material.dispose())),!n.dispose||n instanceof qu||n.dispose(),n!==e&&t.cleanScene(n)}))}}]),n}(Sd),Od=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e)).loader=new sc,i.loader.setResponseType("blob"),i.config.withCredentials&&i.loader.setWithCredentials(!0),i}return wc(n,[{key:"destroy",value:function(){this.abortLoading(),pc(Pc(n.prototype),"destroy",this).call(this)}},{key:"abortLoading",value:function(){}},{key:"loadFile",value:function(e,t){var n=this;return this.config.requestHeaders&&this.loader.setRequestHeader(this.config.requestHeaders(e)),new Promise((function(i,r){var a=0;null===t||void 0===t||t(a),n.loader.load(e,(function(e){a=100,null===t||void 0===t||t(a),i(e)}),(function(e){if(e.lengthComputable){var n=e.loaded/e.total*100;n>a&&(a=n,null===t||void 0===t||t(a))}}),(function(e){r(e)}))}))}},{key:"loadImage",value:function(e,t){return this.loadFile(e,t).then((function(e){return new Promise((function(t,n){var i=document.createElement("img");i.onload=function(){URL.revokeObjectURL(i.src),t(i)},i.onerror=n,i.src=URL.createObjectURL(e)}))}))}},{key:"preloadPanorama",value:function(e){return this.viewer.adapter.supportsPreload(e)?this.viewer.adapter.loadTexture(e):Promise.reject(new Ph("Current adapter does not support preload"))}}]),n}(Sd),Dd=function(e){xc(n,e);var t=Mc(n);function n(e){var i;return bc(this,n),(i=t.call(this,e)).zoom=new Kh((function(e){i.viewer.state.vFov=i.viewer.dataHelper.zoomLevelToFov(e),i.viewer.state.hFov=i.viewer.dataHelper.vFovToHFov(i.viewer.state.vFov),i.viewer.dispatchEvent(new Of(e))}),{defaultValue:i.viewer.config.defaultZoomLvl,min:0,max:100,wrap:!1}),i.position=new $h((function(e){i.viewer.dataHelper.sphericalCoordsToVector3(e,i.viewer.state.direction),i.viewer.dispatchEvent(new Mf(e))}),{yaw:new Kh(null,{defaultValue:i.config.defaultYaw,min:0,max:2*Math.PI,wrap:!0}),pitch:new Kh(null,{defaultValue:i.config.defaultPitch,min:i.viewer.state.littlePlanet?0:-Math.PI/2,max:i.viewer.state.littlePlanet?2*Math.PI:Math.PI/2,wrap:i.viewer.state.littlePlanet})}),i.updateSpeeds(),i}return wc(n,[{key:"updateSpeeds",value:function(){this.zoom.setSpeed(50*this.config.zoomSpeed),this.position.setSpeed(Tr.degToRad(50*this.config.moveSpeed))}},{key:"update",value:function(e){this.zoom.update(e),this.position.update(e)}}]),n}(Sd),Bd=wc((function e(){bc(this,e),this.ready=!1,this.needsUpdate=!1,this.keyboardEnabled=!1,this.direction=new Ir(0,0,Wc),this.vFov=60,this.hFov=60,this.aspect=1,this.animation=null,this.transitionAnimation=null,this.loadingPromise=null,this.littlePlanet=!1,this.idleTime=-1,this.objectsObservers={},this.size={width:0,height:0},this.panoData={fullWidth:0,fullHeight:0,croppedWidth:0,croppedHeight:0,croppedX:0,croppedY:0,poseHeading:0,posePitch:0,poseRoll:0}})),Id=function(e){xc(n,e);var t=Mc(n);function n(e){var i;bc(this,n),(i=t.call(this)).plugins={},i.children=[],i.onResize=Ah((function(){return i.navbar.autoSize()}),500),Uf.load(),i.state=new Bd,i.config=dd(e),i.parent=sh(e.container),i.parent[Xc]=kc(i),i.container=document.createElement("div"),i.container.classList.add("psv-container"),i.parent.appendChild(i.container),i.adapter=new i.config.adapter[0](kc(i),i.config.adapter[1]),i.renderer=new Ld(kc(i)),i.textureLoader=new Od(kc(i)),i.eventsHandler=new Pd(kc(i)),i.dataHelper=new Td(kc(i)),i.dynamics=new Dd(kc(i)),i.loader=new wd(kc(i)),i.navbar=new yd(kc(i)),i.panel=new Md(kc(i)),i.notification=new Ad(kc(i)),i.overlay=new bd(kc(i)),i.resize(i.config.size),_h(Uf.isTouchEnabled,(function(e){lh(i.container,"psv--is-touch",e)})),i.config.plugins.forEach((function(e){var t=Oc(e,2),n=t[0],r=t[1];i.plugins[n.id]=new n(kc(i),r)}));for(var r=0,a=Object.values(i.plugins);r<a.length;r++){var o,s=a[r];null===(o=s.init)||void 0===o||o.call(s)}return i.config.navbar&&i.navbar.setButtons(i.config.navbar),i.config.panorama?i.setPanorama(i.config.panorama):i.loader.show(),i}return wc(n,[{key:"destroy",value:function(){this.stopAll(),this.stopKeyboardControl(),this.exitFullscreen();for(var e=0,t=Object.entries(this.plugins);e<t.length;e++){var n=Oc(t[e],2),i=n[0];n[1].destroy(),delete this.plugins[i]}this.children.slice().forEach((function(e){return e.destroy()})),this.children.length=0,this.eventsHandler.destroy(),this.renderer.destroy(),this.textureLoader.destroy(),this.dataHelper.destroy(),this.adapter.destroy(),this.dynamics.destroy(),this.parent.removeChild(this.container),delete this.parent[Xc]}},{key:"init",value:function(){this.eventsHandler.init(),this.renderer.init(),this.config.navbar&&(this.container.classList.add("psv--has-navbar"),this.navbar.show()),"always"===this.config.keyboard&&this.startKeyboardControl(),this.resetIdleTimer(),this.state.ready=!0,this.dispatchEvent(new kf)}},{key:"resetIdleTimer",value:function(){this.state.idleTime=performance.now()}},{key:"disableIdleTimer",value:function(){this.state.idleTime=-1}},{key:"getPlugin",value:function(e){if("string"===typeof e)return this.plugins[e];var t=ud(e);return t?this.plugins[t.id]:null}},{key:"getPosition",value:function(){return this.dataHelper.cleanPosition(this.dynamics.position.current)}},{key:"getZoomLevel",value:function(){return this.dynamics.zoom.current}},{key:"getSize",value:function(){return mc({},this.state.size)}},{key:"isFullscreenEnabled",value:function(){return mh(this.container)}},{key:"needsUpdate",value:function(){this.state.needsUpdate=!0}},{key:"autoSize",value:function(){this.container.clientWidth===this.state.size.width&&this.container.clientHeight===this.state.size.height||(this.state.size.width=Math.round(this.container.clientWidth),this.state.size.height=Math.round(this.container.clientHeight),this.state.aspect=this.state.size.width/this.state.size.height,this.state.hFov=this.dataHelper.vFovToHFov(this.state.vFov),this.dispatchEvent(new _f(this.getSize())),this.onResize())}},{key:"setPanorama",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.textureLoader.abortLoading(),null===(t=this.state.transitionAnimation)||void 0===t||t.cancel(),this.state.ready||["sphereCorrection","panoData","overlay","overlayOpacity"].forEach((function(e){e in i||(i[e]=n.config[e])})),void 0!==i.transition&&!0!==i.transition||(i.transition=Nc),void 0===i.showLoader&&(i.showLoader=!0),void 0===i.caption&&(i.caption=this.config.caption),void 0===i.description&&(i.description=this.config.description),i.panoData||"function"!==typeof this.config.panoData||(i.panoData=this.config.panoData);var r=Ih(i),a="zoom"in i;(r||a)&&this.stopAll(),this.hideError(),this.resetIdleTimer(),this.config.panorama=e,this.config.caption=i.caption,this.config.description=i.description;var o=function(e){if(n.loader.hide(),n.state.loadingPromise=null,Dh(e))return!1;if(e)throw n.navbar.setCaption(""),n.showError(n.config.lang.loadError),console.error(e),e;return n.setOverlay(i.overlay,i.overlayOpacity),n.navbar.setCaption(n.config.caption),!0};this.navbar.setCaption("<em>".concat(this.config.loadingTxt||"","</em>")),!i.showLoader&&this.state.ready||this.loader.show();var s=this.adapter.loadTexture(this.config.panorama,i.panoData).then((function(e){if(e.panorama!==n.config.panorama)throw n.adapter.disposeTexture(e),Oh();return e}));return i.transition&&this.state.ready&&this.adapter.supportsTransition(this.config.panorama)?this.state.loadingPromise=s.then((function(e){return n.loader.hide(),n.dispatchEvent(new xf(e)),n.state.transitionAnimation=n.renderer.transition(e,i),n.state.transitionAnimation})).then((function(e){if(n.state.transitionAnimation=null,!e)throw Oh()})).then((function(){return o()}),(function(e){return o(e)})):this.state.loadingPromise=s.then((function(e){n.renderer.show(),n.renderer.setTexture(e),n.renderer.setPanoramaPose(e.panoData),n.renderer.setSphereCorrection(i.sphereCorrection),n.dispatchEvent(new xf(e)),a&&n.zoom(i.zoom),r&&n.rotate(i),n.state.ready||n.init()})).then((function(){return o()}),(function(e){return o(e)})),this.state.loadingPromise}},{key:"setOverlay",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.overlayOpacity,i=this.adapter.constructor.supportsOverlay;return e?i?this.adapter.loadTexture(e,(function(e){var n=t.state.panoData,i=e.width/n.croppedWidth;return{fullWidth:i*n.fullWidth,fullHeight:i*n.fullHeight,croppedWidth:i*n.croppedWidth,croppedHeight:i*n.croppedHeight,croppedX:i*n.croppedX,croppedY:i*n.croppedY}}),!1).then((function(e){t.renderer.setOverlay(e,n)})):Promise.reject(new Ph("Current adapter does not supports overlay")):(i&&this.renderer.setOverlay(null,0),Promise.resolve())}},{key:"setOptions",value:function(e){for(var t=mc(mc({},this.config),e),n=0,i=Object.entries(e);n<i.length;n++){var r=Oc(i[n],2),a=r[0],o=r[1];if(a in cd)if(a in hd)Bh(hd[a]);else switch(a in fd&&(o=fd[a](o,{rawConfig:t,defValue:cd[a]})),this.config[a]=o,a){case"caption":this.navbar.setCaption(this.config.caption);break;case"size":this.resize(this.config.size);break;case"sphereCorrection":this.renderer.setSphereCorrection(this.config.sphereCorrection);break;case"navbar":case"lang":this.navbar.setButtons(this.config.navbar);break;case"moveSpeed":case"zoomSpeed":this.dynamics.updateSpeeds();break;case"minFov":case"maxFov":this.dynamics.zoom.setValue(this.dataHelper.fovToZoomLevel(this.state.vFov)),this.dispatchEvent(new Of(this.getZoomLevel()));break;case"keyboard":"always"===this.config.keyboard?this.startKeyboardControl():this.stopKeyboardControl()}else Bh("Unknown option ".concat(a))}this.needsUpdate(),this.dispatchEvent(new ff(Object.keys(e)))}},{key:"setOption",value:function(e,t){this.setOptions(gc({},e,t))}},{key:"showError",value:function(e){this.overlay.show({id:Jc.ERROR,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="15 15 70 70"><path fill="currentColor" d="M50,16.2c-18.6,0-33.8,15.1-33.8,33.8S31.4,83.7,50,83.7S83.8,68.6,83.8,50S68.6,16.2,50,16.2z M50,80.2c-16.7,0-30.2-13.6-30.2-30.2S33.3,19.7,50,19.7S80.3,33.3,80.3,50S66.7,80.2,50,80.2z"/><rect fill="currentColor" x="48" y="31.7" width="4" height="28"/><rect fill="currentColor" x="48" y="63.2" width="4" height="5"/>\x3c!--Created by Shastry from the Noun Project--\x3e</svg>\n',title:e,dissmisable:!1})}},{key:"hideError",value:function(){this.overlay.hide(Jc.ERROR)}},{key:"rotate",value:function(e){var t=new cf(this.dataHelper.cleanPosition(e));this.dispatchEvent(t),t.defaultPrevented||this.dynamics.position.setValue(t.position)}},{key:"zoom",value:function(e){this.dynamics.zoom.setValue(e)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.dynamics.zoom.step(e)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.dynamics.zoom.step(-e)}},{key:"animate",value:function(e){var t=this,n=Ih(e),i=void 0!==e.zoom,r=new lf(n?this.dataHelper.cleanPosition(e):void 0,e.zoom);if(this.dispatchEvent(r),!r.defaultPrevented){var a=r.position,o=r.zoomLevel;this.stopAll();var s,l={};if(n){var u=this.getPosition(),c=rh(u.yaw,a.yaw);l.yaw={start:u.yaw,end:u.yaw+c},l.pitch={start:u.pitch,end:a.pitch},s=this.dataHelper.speedToDuration(e.speed,ah(u,a))}if(i){var h=Math.abs(o-this.getZoomLevel());l.zoom={start:this.getZoomLevel(),end:o},s||(s=this.dataHelper.speedToDuration(e.speed,Math.PI/4*h/100))}return s?(this.state.animation=new Zh({properties:l,duration:Math.max(Fc,s),easing:"inOutSine",onTick:function(e){n&&t.dynamics.position.setValue({yaw:e.yaw,pitch:e.pitch}),i&&t.dynamics.zoom.setValue(e.zoom)}}),this.state.animation.then((function(){t.state.animation=null,t.resetIdleTimer()})),this.state.animation):(n&&this.rotate(a),i&&this.zoom(o),new Zh(null))}}},{key:"stopAnimation",value:function(){return this.state.animation?(this.state.animation.cancel(),this.state.animation):Promise.resolve()}},{key:"resize",value:function(e){var t=this,n=e;["width","height"].forEach((function(i){e&&n[i]&&(/^[0-9.]+$/.test(n[i])&&(n[i]+="px"),t.parent.style[i]=n[i])})),this.autoSize()}},{key:"enterFullscreen",value:function(){this.isFullscreenEnabled()||gh(this.container)}},{key:"exitFullscreen",value:function(){this.isFullscreenEnabled()&&yh()}},{key:"toggleFullscreen",value:function(){this.isFullscreenEnabled()?this.exitFullscreen():this.enterFullscreen()}},{key:"startKeyboardControl",value:function(){this.state.keyboardEnabled=!0}},{key:"stopKeyboardControl",value:function(){this.state.keyboardEnabled=!1}},{key:"createTooltip",value:function(e){return new kd(this,e)}},{key:"observeObjects",value:function(e){this.state.objectsObservers[e]=null}},{key:"unobserveObjects",value:function(e){delete this.state.objectsObservers[e]}},{key:"stopAll",value:function(){return this.dispatchEvent(new Lf),this.disableIdleTimer(),this.stopAnimation()}}]),n}(of);function Rd(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}Rd("/* add css styles here (optional) */\n.view-container {\n    position: relative;\n    overflow: hidden;\n}");var zd;function Nd(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function Fd(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Nd(a,i,r,o,s,"next",e)}function s(e){Nd(a,i,r,o,s,"throw",e)}o(void 0)}))}}function Ud(e){var t="function"===typeof Map?new Map:void 0;return Ud=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return jd(e,arguments,qd(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Wd(i,e)},Ud(e)}function jd(e,t,n){return jd=Jd()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Wd(r,n.prototype),r},jd.apply(null,arguments)}function Hd(e){return function(e){if(Array.isArray(e))return Gd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Gd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vd(){return Vd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qd(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Vd.apply(this,arguments)}function Qd(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wd(e,t)}function Wd(e,t){return Wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wd(e,t)}function Xd(e){var t=Jd();return function(){var n,i=qd(e);if(t){var r=qd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===$d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yd(e)}(this,n)}}function Yd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jd(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qd(e)}function Zd(e,t,n){return(t=ip(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kd(){Kd=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new S(r||[]);return i(o,"_invoke",{value:b(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(E([])));g&&g!==t&&n.call(g,a)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==$d(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function b(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return C()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=c(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(A.prototype),l(A.prototype,o,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new A(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function $d(e){return $d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(e)}function ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ip(i.key),i)}}function np(e,t,n){return t&&tp(e.prototype,t),n&&tp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ip(e){var t=function(e,t){if("object"!==$d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==$d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$d(t)?t:String(t)}Rd('/*!\n * PhotoSphereViewer 5.1.4\n * @copyright 2014-2015 J\xe9r\xe9my Heleine\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/styles/index.scss */\n.psv-container {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  position: relative;\n  background: radial-gradient(#fff 0%, #fdfdfd 16%, #fbfbfb 33%, #f8f8f8 49%, #efefef 66%, #dfdfdf 82%, #bfbfbf 100%);\n  overflow: hidden;\n}\n.psv-container * {\n  box-sizing: content-box;\n}\n.psv-canvas-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  transition: opacity linear 100ms;\n}\n.psv-canvas {\n  display: block;\n}\n.psv-loader-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 80;\n}\n.psv-loader {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgba(255, 255, 255, 0.7);\n  width: 150px;\n  height: 150px;\n  outline: 3px solid transparent;\n}\n.psv-loader-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  color: rgba(61, 61, 61, 0.5);\n  outline: 10px solid transparent;\n  z-index: -1;\n}\n.psv-loader-text {\n  font: 600 16px sans-serif;\n}\n.psv-navbar {\n  display: flex;\n  position: absolute;\n  z-index: 90;\n  bottom: -40px;\n  left: 0;\n  width: 100%;\n  height: 40px;\n  background: rgba(61, 61, 61, 0.5);\n  transition: bottom ease-in-out 0.1s;\n}\n.psv-navbar--open {\n  bottom: 0;\n}\n.psv-navbar,\n.psv-navbar * {\n  box-sizing: content-box;\n}\n.psv-button {\n  flex: 0 0 auto;\n  padding: 10px;\n  position: relative;\n  cursor: pointer;\n  height: 20px;\n  width: 20px;\n  background: transparent;\n  color: rgba(255, 255, 255, 0.7);\n}\n.psv-button--active {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-button--disabled {\n  pointer-events: none;\n  opacity: 0.5;\n}\n.psv-button-svg {\n  width: 100%;\n  transform: scale(1);\n  transition: transform 200ms ease;\n}\n.psv-button:not(.psv-button--disabled):focus-visible {\n  outline: 2px solid #007cff;\n  outline-offset: -2px;\n}\n.psv-container:not(.psv--is-touch) .psv-button--hover-scale:not(.psv-button--disabled):hover .psv-button-svg {\n  transform: scale(1.2);\n}\n.psv-move-button + .psv-move-button {\n  margin-left: -10px;\n}\n.psv-custom-button {\n  width: auto;\n  min-width: 20px;\n}\n.psv-caption {\n  flex: 1 1 100%;\n  color: rgba(255, 255, 255, 0.7);\n  overflow: hidden;\n  text-align: center;\n  cursor: default;\n  padding: unset;\n  height: unset;\n  width: unset;\n}\n.psv-caption-content {\n  display: inline-block;\n  padding: 10px;\n  font: 16px sans-serif;\n  white-space: nowrap;\n}\n.psv-zoom-range.psv-button {\n  width: 80px;\n  height: 1px;\n  margin: 10px 0;\n  padding: 9.5px 0;\n  max-width: 600px;\n}\n.psv-zoom-range-line {\n  position: relative;\n  width: 80px;\n  height: 1px;\n  background: rgba(255, 255, 255, 0.7);\n  transition: all 0.3s ease;\n}\n.psv-zoom-range-handle {\n  position: absolute;\n  border-radius: 50%;\n  top: -3px;\n  width: 7px;\n  height: 7px;\n  background: rgba(255, 255, 255, 0.7);\n  transform: scale(1);\n  transition: transform 0.3s ease;\n}\n.psv-zoom-range:not(.psv-button--disabled):hover .psv-zoom-range-line {\n  box-shadow: 0 0 2px rgba(255, 255, 255, 0.7);\n}\n.psv-zoom-range:not(.psv-button--disabled):hover .psv-zoom-range-handle {\n  transform: scale(1.3);\n}\n.psv-notification {\n  position: absolute;\n  z-index: 100;\n  bottom: -40px;\n  display: flex;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 2em;\n  opacity: 0;\n  transition-property: opacity, bottom;\n  transition-timing-function: ease-in-out;\n  transition-duration: 200ms;\n}\n.psv-notification-content {\n  max-width: 50em;\n  background: rgba(61, 61, 61, 0.8);\n  border-radius: 4px;\n  padding: 0.5em 1em;\n  font: 14px sans-serif;\n  color: rgb(255, 255, 255);\n}\n.psv-notification--visible {\n  opacity: 100;\n  bottom: 80px;\n}\n.psv-overlay {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  z-index: 110;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: radial-gradient(#fff 0%, #fdfdfd 16%, #fbfbfb 33%, #f8f8f8 49%, #efefef 66%, #dfdfdf 82%, #bfbfbf 100%);\n  opacity: 0.8;\n}\n.psv-overlay-image {\n  margin-bottom: 4vh;\n}\n.psv-overlay-image svg {\n  width: 50vw;\n}\n@media (orientation: landscape) {\n  .psv-overlay-image svg {\n    width: 25vw;\n  }\n}\n.psv-overlay-title {\n  color: black;\n  font: 30px sans-serif;\n  text-align: center;\n}\n.psv-overlay-text {\n  color: rgba(0, 0, 0, 0.8);\n  font: 20px sans-serif;\n  opacity: 0.8;\n  text-align: center;\n}\n.psv-panel {\n  position: absolute;\n  z-index: 90;\n  right: 0;\n  height: 100%;\n  width: 400px;\n  max-width: calc(100% - 9px);\n  background: rgba(10, 10, 10, 0.7);\n  transform: translate3d(100%, 0, 0);\n  opacity: 0;\n  transition-property: opacity, transform;\n  transition-timing-function: ease-in-out;\n  transition-duration: 100ms;\n  cursor: default;\n  margin-left: 9px;\n}\n.psv--has-navbar .psv-panel {\n  height: calc(100% - 40px);\n}\n.psv-panel-close-button {\n  display: none;\n  position: absolute;\n  top: -1px;\n  right: 0;\n  width: 19.2px;\n  height: 19.2px;\n  padding: 6.4px;\n  background: transparent;\n  color: #fff;\n  transition: background 300ms ease-in-out;\n  cursor: pointer;\n}\n.psv-panel-close-button svg {\n  transition: transform 300ms ease-in-out;\n}\n.psv-panel-close-button:hover {\n  background: rgba(0, 0, 0, 0.9);\n}\n.psv-panel-close-button:hover svg {\n  transform: scale(-1);\n}\n.psv-panel-resizer {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: -9px;\n  width: 9px;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.9);\n  cursor: col-resize;\n}\n.psv-panel-resizer::before {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 1px;\n  margin-top: -14.5px;\n  width: 1px;\n  height: 1px;\n  box-shadow:\n    1px 0 #fff,\n    3px 0px #fff,\n    5px 0px #fff,\n    1px 2px #fff,\n    3px 2px #fff,\n    5px 2px #fff,\n    1px 4px #fff,\n    3px 4px #fff,\n    5px 4px #fff,\n    1px 6px #fff,\n    3px 6px #fff,\n    5px 6px #fff,\n    1px 8px #fff,\n    3px 8px #fff,\n    5px 8px #fff,\n    1px 10px #fff,\n    3px 10px #fff,\n    5px 10px #fff,\n    1px 12px #fff,\n    3px 12px #fff,\n    5px 12px #fff,\n    1px 14px #fff,\n    3px 14px #fff,\n    5px 14px #fff,\n    1px 16px #fff,\n    3px 16px #fff,\n    5px 16px #fff,\n    1px 18px #fff,\n    3px 18px #fff,\n    5px 18px #fff,\n    1px 20px #fff,\n    3px 20px #fff,\n    5px 20px #fff,\n    1px 22px #fff,\n    3px 22px #fff,\n    5px 22px #fff,\n    1px 24px #fff,\n    3px 24px #fff,\n    5px 24px #fff,\n    1px 26px #fff,\n    3px 26px #fff,\n    5px 26px #fff,\n    1px 28px #fff,\n    3px 28px #fff,\n    5px 28px #fff;\n  background: transparent;\n}\n.psv-panel-content {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  color: rgb(220, 220, 220);\n  font: 16px sans-serif;\n  overflow: auto;\n}\n.psv-panel-content:not(.psv-panel-content--no-margin) {\n  padding: 1em;\n}\n.psv-panel-content--no-interaction {\n  user-select: none;\n  pointer-events: none;\n}\n.psv-panel--open {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n  transition-duration: 0.2s;\n}\n.psv-panel--open .psv-panel-close-button,\n.psv-panel--open .psv-panel-resizer {\n  display: block;\n}\n@media screen and (max-width: 400px) {\n  .psv-panel {\n    width: 100% !important;\n    max-width: none;\n  }\n  .psv-panel-resizer {\n    display: none !important;\n  }\n}\n.psv-panel-menu {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.psv-panel-menu-title {\n  flex: none;\n  display: flex;\n  align-items: center;\n  font: 24px sans-serif;\n  margin: 24px 12px;\n}\n.psv-panel-menu-title svg {\n  width: 24px;\n  height: 24px;\n  margin-right: 12px;\n}\n.psv-panel-menu-list {\n  flex: 1;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  overflow-x: hidden;\n}\n.psv-panel-menu-item {\n  min-height: 1.5em;\n  padding: 0.5em 1em;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  transition: background 0.1s ease-in-out;\n}\n.psv-panel-menu-item--active {\n  outline: 1px solid currentcolor;\n  outline-offset: -1px;\n}\n.psv-panel-menu-item-icon {\n  flex: none;\n  height: 1.5em;\n  width: 1.5em;\n  margin-right: 0.5em;\n}\n.psv-panel-menu-item-icon img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.psv-panel-menu-item-icon svg {\n  width: 100%;\n  height: 100%;\n}\n.psv-panel-menu-item:focus-visible {\n  outline: 2px solid #007cff;\n  outline-offset: -2px;\n}\n.psv-panel-menu--stripped .psv-panel-menu-item:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(odd),\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(odd)::before {\n  background: rgba(255, 255, 255, 0.1);\n}\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(even),\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(even)::before {\n  background: transparent;\n}\n.psv-container:not(.psv--is-touch) .psv-panel-menu-item:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-tooltip {\n  position: absolute;\n  z-index: 50;\n  box-sizing: border-box;\n  max-width: 200px;\n  background: rgba(61, 61, 61, 0.8);\n  border-radius: 4px;\n  padding: 0.5em 1em;\n  opacity: 0;\n  transition-property: opacity, transform;\n  transition-timing-function: ease-in-out;\n  transition-duration: 100ms;\n}\n.psv-tooltip-content {\n  color: rgb(255, 255, 255);\n  font: 14px sans-serif;\n  text-shadow: 0 1px #000;\n}\n.psv-tooltip-arrow {\n  position: absolute;\n  height: 0;\n  width: 0;\n  border: 7px solid transparent;\n}\n.psv-tooltip--top-left,\n.psv-tooltip--top-center,\n.psv-tooltip--top-right {\n  transform: translate3d(0, 5px, 0);\n}\n.psv-tooltip--top-left .psv-tooltip-arrow,\n.psv-tooltip--top-center .psv-tooltip-arrow,\n.psv-tooltip--top-right .psv-tooltip-arrow {\n  border-top-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--bottom-left,\n.psv-tooltip--bottom-center,\n.psv-tooltip--bottom-right {\n  transform: translate3d(0, -5px, 0);\n}\n.psv-tooltip--bottom-left .psv-tooltip-arrow,\n.psv-tooltip--bottom-center .psv-tooltip-arrow,\n.psv-tooltip--bottom-right .psv-tooltip-arrow {\n  border-bottom-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--left-top,\n.psv-tooltip--center-left,\n.psv-tooltip--left-bottom {\n  transform: translate3d(5px, 0, 0);\n}\n.psv-tooltip--left-top .psv-tooltip-arrow,\n.psv-tooltip--center-left .psv-tooltip-arrow,\n.psv-tooltip--left-bottom .psv-tooltip-arrow {\n  border-left-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--right-top,\n.psv-tooltip--center-right,\n.psv-tooltip--right-bottom {\n  transform: translate3d(-5px, 0, 0);\n}\n.psv-tooltip--right-top .psv-tooltip-arrow,\n.psv-tooltip--center-right .psv-tooltip-arrow,\n.psv-tooltip--right-bottom .psv-tooltip-arrow {\n  border-right-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--left-top,\n.psv-tooltip--top-left {\n  box-shadow: -3px -3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--top-center {\n  box-shadow: 0 -3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--right-top,\n.psv-tooltip--top-right {\n  box-shadow: 3px -3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--left-bottom,\n.psv-tooltip--bottom-left {\n  box-shadow: -3px 3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--bottom-center {\n  box-shadow: 0 3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--right-bottom,\n.psv-tooltip--bottom-right {\n  box-shadow: 3px 3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--center-left {\n  box-shadow: -3px 0 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--center-right {\n  box-shadow: 3px 0 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--visible {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n  transition-duration: 100ms;\n}');var rp=0,ap=1,op=1e3,sp=1001,lp=1002,up=1003,cp=1006,hp=1023,fp=2300,dp=2301,pp=2302,vp="srgb",mp="srgb-linear",gp=7680,yp=35044,wp=function(){function e(){ep(this,e)}return np(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e);e.target=null}}}}]),e}(),Ap=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],bp=1234567,xp=Math.PI/180,Mp=180/Math.PI;function kp(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ap[255&e]+Ap[e>>8&255]+Ap[e>>16&255]+Ap[e>>24&255]+"-"+Ap[255&t]+Ap[t>>8&255]+"-"+Ap[t>>16&15|64]+Ap[t>>24&255]+"-"+Ap[63&n|128]+Ap[n>>8&255]+"-"+Ap[n>>16&255]+Ap[n>>24&255]+Ap[255&i]+Ap[i>>8&255]+Ap[i>>16&255]+Ap[i>>24&255]).toLowerCase()}function Sp(e,t,n){return Math.max(t,Math.min(n,e))}function Ep(e,t){return(e%t+t)%t}function Cp(e,t,n){return(1-n)*e+n*t}function Tp(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Pp(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function _p(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Lp=Object.freeze({__proto__:null,DEG2RAD:xp,RAD2DEG:Mp,generateUUID:kp,clamp:Sp,euclideanModulo:Ep,mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Cp,damp:function(e,t,n,i){return Cp(e,t,1-Math.exp(-n*i))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Ep(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(bp=e);var t=bp+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*xp},radToDeg:function(e){return e*Mp},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:Tp,floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+i)/2),c=o((t+i)/2),h=a((t-i)/2),f=o((t-i)/2),d=a((i-t)/2),p=o((i-t)/2);switch(r){case"XYX":e.set(s*c,l*h,l*f,s*u);break;case"YZY":e.set(l*f,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*f,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*d,s*u);break;case"YXY":e.set(l*d,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*d,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:_p,denormalize:Pp}),Op=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ep(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return np(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:Kd().mark((function e(){return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),Dp=function(){function e(){ep(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return np(e,[{key:"set",value:function(e,t,n,i,r,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],f=n[5],d=n[8],p=i[0],v=i[3],m=i[6],g=i[1],y=i[4],w=i[7],A=i[2],b=i[5],x=i[8];return r[0]=a*p+o*g+s*A,r[3]=a*v+o*y+s*b,r[6]=a*m+o*w+s*x,r[1]=l*p+u*g+c*A,r[4]=l*v+u*y+c*b,r[7]=l*m+u*w+c*x,r[2]=h*p+f*g+d*A,r[5]=h*v+f*y+d*b,r[8]=h*m+f*w+d*x,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*r*u+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*r,f=l*r-a*s,d=t*c+n*h+i*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return e[0]=c*p,e[1]=(i*l-u*n)*p,e[2]=(o*n-i*a)*p,e[3]=h*p,e[4]=(u*t-i*s)*p,e[5]=(i*r-o*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*r)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(Bp.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(Bp.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(Bp.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),Bp=new Dp;var Ip={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Rp(e,t){return new Ip[e](t)}function zp(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Np(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Fp(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Up=(Zd(zd={},vp,Zd({},mp,Np)),Zd(zd,mp,Zd({},vp,Fp)),zd),jp={legacyMode:!0,get workingColorSpace(){return mp},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(Up[t]&&void 0!==Up[t][n]){var i=Up[t][n];return e.r=i(e.r),e.g=i(e.g),e.b=i(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Hp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Gp={r:0,g:0,b:0},Vp={h:0,s:0,l:0},Qp={h:0,s:0,l:0};function Wp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Xp(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var Yp,Jp=function(e){function t(e,n,i){return ep(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===i?this.set(e):this.setRGB(e,n,i)}return np(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vp;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,jp.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jp.workingColorSpace;return this.r=e,this.g=t,this.b=n,jp.toWorkingColorSpace(this,i),this}},{key:"setHSL",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jp.workingColorSpace;if(e=Ep(e,1),t=Sp(t,0,1),n=Sp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,a=2*n-r;this.r=Wp(a,r,e+1/3),this.g=Wp(a,r,e),this.b=Wp(a,r,e-1/3)}return jp.toWorkingColorSpace(this,i),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vp;function i(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,jp.toWorkingColorSpace(this,n),i(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,jp.toWorkingColorSpace(this,n),i(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(r[1])/360,l=parseFloat(r[2])/100,u=parseFloat(r[3])/100;return i(r[4]),this.setHSL(s,l,u,n)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,jp.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,jp.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vp,n=Hp[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=Np(e.r),this.g=Np(e.g),this.b=Np(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Fp(e.r),this.g=Fp(e.g),this.b=Fp(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vp;return jp.fromWorkingColorSpace(Xp(this,Gp),e),Sp(255*Gp.r,0,255)<<16^Sp(255*Gp.g,0,255)<<8^Sp(255*Gp.b,0,255)}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vp;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jp.workingColorSpace;jp.fromWorkingColorSpace(Xp(this,Gp),t);var n,i,r=Gp.r,a=Gp.g,o=Gp.b,s=Math.max(r,a,o),l=Math.min(r,a,o),u=(l+s)/2;if(l===s)n=0,i=0;else{var c=s-l;switch(i=u<=.5?c/(s+l):c/(2-s-l),s){case r:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-r)/c+2;break;case o:n=(r-a)/c+4}n/=6}return e.h=n,e.s=i,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jp.workingColorSpace;return jp.fromWorkingColorSpace(Xp(this,Gp),t),e.r=Gp.r,e.g=Gp.g,e.b=Gp.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vp;return jp.fromWorkingColorSpace(Xp(this,Gp),e),e!==vp?"color(".concat(e," ").concat(Gp.r," ").concat(Gp.g," ").concat(Gp.b,")"):"rgb(".concat(255*Gp.r|0,",").concat(255*Gp.g|0,",").concat(255*Gp.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Vp),Vp.h+=e,Vp.s+=t,Vp.l+=n,this.setHSL(Vp.h,Vp.s,Vp.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Vp),e.getHSL(Qp);var n=Cp(Vp.h,Qp.h,t),i=Cp(Vp.s,Qp.s,t),r=Cp(Vp.l,Qp.l,t);return this.setHSL(n,i,r),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:Kd().mark((function e(){return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}();Jp.NAMES=Hp;var qp=function(){function e(){ep(this,e)}return np(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Yp&&(Yp=zp("canvas")),Yp.width=e.width,Yp.height=e.height;var n=Yp.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Yp}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=zp("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var i=n.getImageData(0,0,e.width,e.height),r=i.data,a=0;a<r.length;a++)r[a]=255*Np(r[a]/255);return n.putImageData(i,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*Np(o[s]/255)):o[s]=Np(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Zp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ep(this,e),this.isSource=!0,this.uuid=kp(),this.data=t,this.version=0}return np(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},i=this.data;if(null!==i){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)i[a].isDataTexture?r.push(Kp(i[a].image)):r.push(Kp(i[a]))}else r=Kp(i);n.url=r}return t||(e.images[this.uuid]=n),n}}]),e}();function Kp(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?qp.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var $p=0,ev=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sp,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sp,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cp,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1008,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hp,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1009,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3e3;return ep(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(Yd(e),"id",{value:$p++}),e.uuid=kp(),e.name="",e.source=new Zp(i),e.mipmaps=[],e.mapping=r,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=h,e.format=u,e.internalFormat=null,e.type=c,e.offset=new Op(0,0),e.repeat=new Op(1,1),e.center=new Op(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Dp,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return np(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case op:e.x=e.x-Math.floor(e.x);break;case sp:e.x=e.x<0?0:1;break;case lp:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case op:e.y=e.y-Math.floor(e.y);break;case sp:e.y=e.y<0?0:1;break;case lp:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(wp);ev.DEFAULT_IMAGE=null,ev.DEFAULT_MAPPING=300,ev.DEFAULT_ANISOTROPY=1;var tv=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;ep(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}return np(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,i,r,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],f=s[5],d=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(d-v)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(d+v)<o&&Math.abs(l+f+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(f+1)/2,w=(m+1)/2,A=(u+h)/4,b=(c+p)/4,x=(d+v)/4;return g>y&&g>w?g<a?(n=0,i=.707106781,r=.707106781):(i=A/(n=Math.sqrt(g)),r=b/n):y>w?y<a?(n=.707106781,i=0,r=.707106781):(n=A/(i=Math.sqrt(y)),r=x/i):w<a?(n=.707106781,i=.707106781,r=0):(n=b/(r=Math.sqrt(w)),i=x/r),this.set(n,i,r,t),this}var M=Math.sqrt((v-d)*(v-d)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(M)<.001&&(M=1),this.x=(v-d)/M,this.y=(c-p)/M,this.z=(h-u)/M,this.w=Math.acos((l+f+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:Kd().mark((function e(){return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),nv=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;ep(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}return np(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(i/2),c=o(r/2),h=s(n/2),f=s(i/2),d=s(r/2);switch(a){case"XYZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"YXZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"ZXY":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"ZYX":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"YZX":this._x=h*u*c+l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c-h*f*d;break;case"XZY":this._x=h*u*c-l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-s)*f,this._y=(r-l)*f,this._z=(a-i)*f}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(u-s)/d,this._x=.25*d,this._y=(i+a)/d,this._z=(r+l)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(r-l)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-i)/v,this._x=(r+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Sp(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var i=Math.min(1,t/n);return this.slerp(e,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+i*l-r*s,this._y=i*u+a*s+r*o-n*l,this._z=r*u+a*l+n*s-i*o,this._w=a*u-n*o-i*s-r*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*i+t*this._y,this._z=l*r+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._w=a*h+this._w*f,this._x=n*h+this._x*f,this._y=i*h+this._y*f,this._z=r*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(r),n*Math.cos(r),t*Math.sin(i))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Kd().mark((function e(){return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,i,r,a,o){var s=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[a+0],f=r[a+1],d=r[a+2],p=r[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(c!==p||s!==h||l!==f||u!==d){var v=1-o,m=s*h+l*f+u*d+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var w=Math.sqrt(y),A=Math.atan2(w,m*g);v=Math.sin(v*A)/w,o=Math.sin(o*A)/w}var b=o*g;if(s=s*v+h*b,l=l*v+f*b,u=u*v+d*b,c=c*v+p*b,v===1-o){var x=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=x,l*=x,u*=x,c*=x}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],u=n[i+3],c=r[a],h=r[a+1],f=r[a+2],d=r[a+3];return e[t]=o*d+u*c+s*f-l*h,e[t+1]=s*d+u*h+l*c-o*f,e[t+2]=l*d+u*f+o*h-s*c,e[t+3]=u*d-o*c-s*h-l*f,e}}]),t}(),iv=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;ep(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}return np(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(av.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(av.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*i-o*n,u=s*n+o*t-r*i,c=s*i+r*n-a*t,h=-r*t-a*n-o*i;return this.x=l*s+h*-r+u*-o-c*-a,this.y=u*s+h*-a+c*-r-l*-o,this.z=c*s+h*-o+l*-a-u*-r,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,i=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return rv.copy(this).projectOnVector(e),this.sub(rv)}},{key:"reflect",value:function(e){return this.sub(rv.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Sp(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:Kd().mark((function e(){return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),rv=new iv,av=new nv,ov=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iv(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv(-1/0,-1/0,-1/0);ep(this,e),this.isBox3=!0,this.min=t,this.max=n}return np(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=lv.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var i=n.attributes.position,r=0,a=i.count;r<a;r++)lv.fromBufferAttribute(i,r).applyMatrix4(e.matrixWorld),this.expandByPoint(lv);else null===n.boundingBox&&n.computeBoundingBox(),uv.copy(n.boundingBox),uv.applyMatrix4(e.matrixWorld),this.union(uv);for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,lv),lv.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(mv),gv.subVectors(this.max,mv),cv.subVectors(e.a,mv),hv.subVectors(e.b,mv),fv.subVectors(e.c,mv),dv.subVectors(hv,cv),pv.subVectors(fv,hv),vv.subVectors(cv,fv);var t=[0,-dv.z,dv.y,0,-pv.z,pv.y,0,-vv.z,vv.y,dv.z,0,-dv.x,pv.z,0,-pv.x,vv.z,0,-vv.x,-dv.y,dv.x,0,-pv.y,pv.x,0,-vv.y,vv.x,0];return!!Av(t,cv,hv,fv,gv)&&(!!Av(t=[1,0,0,0,1,0,0,0,1],cv,hv,fv,gv)&&(yv.crossVectors(dv,pv),Av(t=[yv.x,yv.y,yv.z],cv,hv,fv,gv)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return lv.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(lv).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(sv[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),sv[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),sv[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),sv[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),sv[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),sv[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),sv[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),sv[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(sv)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),sv=[new iv,new iv,new iv,new iv,new iv,new iv,new iv,new iv],lv=new iv,uv=new ov,cv=new iv,hv=new iv,fv=new iv,dv=new iv,pv=new iv,vv=new iv,mv=new iv,gv=new iv,yv=new iv,wv=new iv;function Av(e,t,n,i,r){for(var a=0,o=e.length-3;a<=o;a+=3){wv.fromArray(e,a);var s=r.x*Math.abs(wv.x)+r.y*Math.abs(wv.y)+r.z*Math.abs(wv.z),l=t.dot(wv),u=n.dot(wv),c=i.dot(wv);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var bv=new ov,xv=new iv,Mv=new iv,kv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iv,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;ep(this,e),this.center=t,this.radius=n}return np(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):bv.setFromPoints(e).getCenter(n);for(var i=0,r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;xv.subVectors(e,this.center);var t=xv.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),i=.5*(n-this.radius);this.center.addScaledVector(xv,i/n),this.radius+=i}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Mv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(xv.copy(e.center).add(Mv)),this.expandByPoint(xv.copy(e.center).sub(Mv))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Sv=new iv,Ev=new iv,Cv=new iv,Tv=new iv,Pv=new iv,_v=new iv,Lv=new iv,Ov=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iv,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv(0,0,-1);ep(this,e),this.origin=t,this.direction=n}return np(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Sv)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Sv.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Sv.copy(this.direction).multiplyScalar(t).add(this.origin),Sv.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,i){Ev.copy(e).add(t).multiplyScalar(.5),Cv.copy(t).sub(e).normalize(),Tv.copy(this.origin).sub(Ev);var r,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Cv),c=Tv.dot(this.direction),h=-Tv.dot(Cv),f=Tv.lengthSq(),d=Math.abs(1-u*u);if(d>0)if(a=u*c-h,s=l*d,(r=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(r*=p)*(r+u*(a*=p)+2*c)+a*(u*r+a+2*h)+f}else a=l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;else a=-l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;else a<=-s?o=-(r=Math.max(0,-(-u*l+c)))*r+(a=r>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+f):o=-(r=Math.max(0,-(u*l+c)))*r+(a=r>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f;else a=u>0?-l:l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+f;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(Cv).multiplyScalar(a).add(Ev),o}},{key:"intersectSphere",value:function(e,t){Sv.subVectors(e.center,this.origin);var n=Sv.dot(this.direction),i=Sv.dot(Sv)-n*n,r=e.radius*e.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,i,r,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),u>=0?(r=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(r=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),n>a||r>i?null:((r>n||isNaN(n))&&(n=r),(a<i||isNaN(i))&&(i=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>i?null:((o>n||n!==n)&&(n=o),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Sv)}},{key:"intersectTriangle",value:function(e,t,n,i,r){Pv.subVectors(t,e),_v.subVectors(n,e),Lv.crossVectors(Pv,_v);var a,o=this.direction.dot(Lv);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Tv.subVectors(this.origin,e);var s=a*this.direction.dot(_v.crossVectors(Tv,_v));if(s<0)return null;var l=a*this.direction.dot(Pv.cross(Tv));if(l<0)return null;if(s+l>o)return null;var u=-a*Tv.dot(Lv);return u<0?null:this.at(u/o,r)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Dv=function(){function e(){ep(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return np(e,[{key:"set",value:function(e,t,n,i,r,a,o,s,l,u,c,h,f,d,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=i,m[1]=r,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=f,m[7]=d,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,i=1/Bv.setFromMatrixColumn(e,0).length(),r=1/Bv.setFromMatrixColumn(e,1).length(),a=1/Bv.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){var h=a*u,f=a*c,d=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=f+d*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=d+f*l,t[10]=a*s}else if("YXZ"===e.order){var v=s*u,m=s*c,g=l*u,y=l*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var w=s*u,A=s*c,b=l*u,x=l*c;t[0]=w-x*o,t[4]=-a*c,t[8]=b+A*o,t[1]=A+b*o,t[5]=a*u,t[9]=x-w*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var M=a*u,k=a*c,S=o*u,E=o*c;t[0]=s*u,t[4]=S*l-k,t[8]=M*l+E,t[1]=s*c,t[5]=E*l+M,t[9]=k*l-S,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var C=a*s,T=a*l,P=o*s,_=o*l;t[0]=s*u,t[4]=_-C*c,t[8]=P*c+T,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=T*c+P,t[10]=C-_*c}else if("XZY"===e.order){var L=a*s,O=a*l,D=o*s,B=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=L*c+B,t[5]=a*u,t[9]=O*c-D,t[2]=D*c-O,t[6]=o*u,t[10]=B*c+L}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Rv,e,zv)}},{key:"lookAt",value:function(e,t,n){var i=this.elements;return Uv.subVectors(e,t),0===Uv.lengthSq()&&(Uv.z=1),Uv.normalize(),Nv.crossVectors(n,Uv),0===Nv.lengthSq()&&(1===Math.abs(n.z)?Uv.x+=1e-4:Uv.z+=1e-4,Uv.normalize(),Nv.crossVectors(n,Uv)),Nv.normalize(),Fv.crossVectors(Uv,Nv),i[0]=Nv.x,i[4]=Fv.x,i[8]=Uv.x,i[1]=Nv.y,i[5]=Fv.y,i[9]=Uv.y,i[2]=Nv.z,i[6]=Fv.z,i[10]=Uv.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],f=n[13],d=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],w=n[11],A=n[15],b=i[0],x=i[4],M=i[8],k=i[12],S=i[1],E=i[5],C=i[9],T=i[13],P=i[2],_=i[6],L=i[10],O=i[14],D=i[3],B=i[7],I=i[11],R=i[15];return r[0]=a*b+o*S+s*P+l*D,r[4]=a*x+o*E+s*_+l*B,r[8]=a*M+o*C+s*L+l*I,r[12]=a*k+o*T+s*O+l*R,r[1]=u*b+c*S+h*P+f*D,r[5]=u*x+c*E+h*_+f*B,r[9]=u*M+c*C+h*L+f*I,r[13]=u*k+c*T+h*O+f*R,r[2]=d*b+p*S+v*P+m*D,r[6]=d*x+p*E+v*_+m*B,r[10]=d*M+p*C+v*L+m*I,r[14]=d*k+p*T+v*O+m*R,r[3]=g*b+y*S+w*P+A*D,r[7]=g*x+y*E+w*_+A*B,r[11]=g*M+y*C+w*L+A*I,r[15]=g*k+y*T+w*O+A*R,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+r*s*c-i*l*c-r*o*h+n*l*h+i*o*f-n*s*f)+e[7]*(+t*s*f-t*l*h+r*a*h-i*a*f+i*l*u-r*s*u)+e[11]*(+t*l*c-t*o*f-r*a*c+n*a*f+r*o*u-n*l*u)+e[15]*(-i*o*u-t*s*c+t*o*h+i*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],m=e[15],g=c*v*l-p*h*l+p*s*f-o*v*f-c*s*m+o*h*m,y=d*h*l-u*v*l-d*s*f+a*v*f+u*s*m-a*h*m,w=u*p*l-d*c*l+d*o*f-a*p*f-u*o*m+a*c*m,A=d*c*s-u*p*s-d*o*h+a*p*h+u*o*v-a*c*v,b=t*g+n*y+i*w+r*A;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/b;return e[0]=g*x,e[1]=(p*h*r-c*v*r-p*i*f+n*v*f+c*i*m-n*h*m)*x,e[2]=(o*v*r-p*s*r+p*i*l-n*v*l-o*i*m+n*s*m)*x,e[3]=(c*s*r-o*h*r-c*i*l+n*h*l+o*i*f-n*s*f)*x,e[4]=y*x,e[5]=(u*v*r-d*h*r+d*i*f-t*v*f-u*i*m+t*h*m)*x,e[6]=(d*s*r-a*v*r-d*i*l+t*v*l+a*i*m-t*s*m)*x,e[7]=(a*h*r-u*s*r+u*i*l-t*h*l-a*i*f+t*s*f)*x,e[8]=w*x,e[9]=(d*c*r-u*p*r-d*n*f+t*p*f+u*n*m-t*c*m)*x,e[10]=(a*p*r-d*o*r+d*n*l-t*p*l-a*n*m+t*o*m)*x,e[11]=(u*o*r-a*c*r-u*n*l+t*c*l+a*n*f-t*o*f)*x,e[12]=A*x,e[13]=(u*p*i-d*c*i+d*n*h-t*p*h-u*n*v+t*c*v)*x,e[14]=(d*o*i-a*p*i-d*n*s+t*p*s+a*n*v-t*o*v)*x,e[15]=(a*c*i-u*o*i+u*n*s-t*c*s-a*n*h+t*o*h)*x,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,o=e.y,s=e.z,l=r*a,u=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,u*o+n,u*s-i*a,0,l*s-i*o,u*s+i*a,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,i,r,a){return this.set(1,n,r,0,e,1,a,0,t,i,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var i=this.elements,r=t._x,a=t._y,o=t._z,s=t._w,l=r+r,u=a+a,c=o+o,h=r*l,f=r*u,d=r*c,p=a*u,v=a*c,m=o*c,g=s*l,y=s*u,w=s*c,A=n.x,b=n.y,x=n.z;return i[0]=(1-(p+m))*A,i[1]=(f+w)*A,i[2]=(d-y)*A,i[3]=0,i[4]=(f-w)*b,i[5]=(1-(h+m))*b,i[6]=(v+g)*b,i[7]=0,i[8]=(d+y)*x,i[9]=(v-g)*x,i[10]=(1-(h+p))*x,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}},{key:"decompose",value:function(e,t,n){var i=this.elements,r=Bv.set(i[0],i[1],i[2]).length(),a=Bv.set(i[4],i[5],i[6]).length(),o=Bv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],Iv.copy(this);var s=1/r,l=1/a,u=1/o;return Iv.elements[0]*=s,Iv.elements[1]*=s,Iv.elements[2]*=s,Iv.elements[4]*=l,Iv.elements[5]*=l,Iv.elements[6]*=l,Iv.elements[8]*=u,Iv.elements[9]*=u,Iv.elements[10]*=u,t.setFromRotationMatrix(Iv),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,i,r,a){var o=this.elements,s=2*r/(t-e),l=2*r/(n-i),u=(t+e)/(t-e),c=(n+i)/(n-i),h=-(a+r)/(a-r),f=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,i,r,a){var o=this.elements,s=1/(t-e),l=1/(n-i),u=1/(a-r),c=(t+e)*s,h=(n+i)*l,f=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Bv=new iv,Iv=new Dv,Rv=new iv(0,0,0),zv=new iv(1,1,1),Nv=new iv,Fv=new iv,Uv=new iv,jv=new Dv,Hv=new nv,Gv=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;ep(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}return np(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.elements,r=i[0],a=i[4],o=i[8],s=i[1],l=i[5],u=i[9],c=i[2],h=i[6],f=i[10];switch(t){case"XYZ":this._y=Math.asin(Sp(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Sp(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin(Sp(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-Sp(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Sp(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Sp(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return jv.makeRotationFromQuaternion(e),this.setFromRotationMatrix(jv,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Hv.setFromEuler(this),this.setFromQuaternion(Hv,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Kd().mark((function e(){return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))},{key:"toVector3",value:function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}]),t}();Gv.DefaultOrder="XYZ",Gv.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Vv=function(){function e(){ep(this,e),this.mask=1}return np(e,[{key:"set",value:function(e){this.mask=1<<e>>>0}},{key:"enable",value:function(e){this.mask|=1<<e}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e}},{key:"disable",value:function(e){this.mask&=~(1<<e)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&1<<e)}}]),e}(),Qv=0,Wv=new iv,Xv=new nv,Yv=new Dv,Jv=new iv,qv=new iv,Zv=new iv,Kv=new nv,$v=new iv(1,0,0),em=new iv(0,1,0),tm=new iv(0,0,1),nm={type:"added"},im={type:"removed"},rm=function(e){Qd(n,e);var t=Xd(n);function n(){var e;ep(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(Yd(e),"id",{value:Qv++}),e.uuid=kp(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var i=new iv,r=new Gv,a=new nv,o=new iv(1,1,1);return r._onChange((function(){a.setFromEuler(r,!1)})),a._onChange((function(){r.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(Yd(e),{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Dv},normalMatrix:{value:new Dp}}),e.matrix=new Dv,e.matrixWorld=new Dv,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DefaultMatrixWorldAutoUpdate,e.layers=new Vv,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return np(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Xv.setFromAxisAngle(e,t),this.quaternion.multiply(Xv),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Xv.setFromAxisAngle(e,t),this.quaternion.premultiply(Xv),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis($v,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(em,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(tm,e)}},{key:"translateOnAxis",value:function(e,t){return Wv.copy(e).applyQuaternion(this.quaternion),this.position.add(Wv.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis($v,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(em,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(tm,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Yv.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Jv.copy(e):Jv.set(e,t,n);var i=this.parent;this.updateWorldMatrix(!0,!1),qv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yv.lookAt(qv,Jv,this.up):Yv.lookAt(Jv,qv,this.up),this.quaternion.setFromRotationMatrix(Yv),i&&(Yv.extractRotation(i.matrixWorld),Xv.setFromRotationMatrix(Yv),this.quaternion.premultiply(Xv.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(nm)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(im)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(im)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Yv.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Yv.multiply(e.parent.matrixWorld)),e.applyMatrix4(Yv),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var i=0,r=this.children.length;i<r;i++){var a=this.children[i].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qv,e,Zv),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qv,Kv,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++){var r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,r=0,a=i.length;r<a;r++){var o=i[r];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];r(e.shapes,u)}else r(e.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,f=this.material.length;h<f;h++)c.push(r(e.materials,this.material[h]));i.material=c}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(var d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];i.animations.push(r(e.animations,v))}}if(t){var m=k(e.geometries),g=k(e.materials),y=k(e.textures),w=k(e.images),A=k(e.shapes),b=k(e.skeletons),x=k(e.animations),M=k(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),w.length>0&&(n.images=w),A.length>0&&(n.shapes=A),b.length>0&&(n.skeletons=b),x.length>0&&(n.animations=x),M.length>0&&(n.nodes=M)}return n.object=i,n;function k(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}]),n}(wp);rm.DefaultUp=new iv(0,1,0),rm.DefaultMatrixAutoUpdate=!0,rm.DefaultMatrixWorldAutoUpdate=!0;var am=new iv,om=new iv,sm=new iv,lm=new iv,um=new iv,cm=new iv,hm=new iv,fm=new iv,dm=new iv,pm=new iv,vm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iv,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new iv;ep(this,e),this.a=t,this.b=n,this.c=i}return np(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return am.subVectors(this.c,this.b),om.subVectors(this.a,this.b),.5*am.cross(om).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,i,r,a){return e.getUV(t,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,i,r=this.a,a=this.b,o=this.c;um.subVectors(a,r),cm.subVectors(o,r),fm.subVectors(e,r);var s=um.dot(fm),l=cm.dot(fm);if(s<=0&&l<=0)return t.copy(r);dm.subVectors(e,a);var u=um.dot(dm),c=cm.dot(dm);if(u>=0&&c<=u)return t.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(r).addScaledVector(um,n);pm.subVectors(e,o);var f=um.dot(pm),d=cm.dot(pm);if(d>=0&&f<=d)return t.copy(o);var p=f*l-s*d;if(p<=0&&l>=0&&d<=0)return i=l/(l-d),t.copy(r).addScaledVector(cm,i);var v=u*d-f*c;if(v<=0&&c-u>=0&&f-d>=0)return hm.subVectors(o,a),i=(c-u)/(c-u+(f-d)),t.copy(a).addScaledVector(hm,i);var m=1/(v+p+h);return n=p*m,i=h*m,t.copy(r).addScaledVector(um,n).addScaledVector(cm,i)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,i){i.subVectors(n,t),am.subVectors(e,t),i.cross(am);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,i,r){am.subVectors(i,t),om.subVectors(n,t),sm.subVectors(e,t);var a=am.dot(am),o=am.dot(om),s=am.dot(sm),l=om.dot(om),u=om.dot(sm),c=a*l-o*o;if(0===c)return r.set(-2,-1,-1);var h=1/c,f=(l*s-o*u)*h,d=(a*u-o*s)*h;return r.set(1-f-d,d,f)}},{key:"containsPoint",value:function(e,t,n,i){return this.getBarycoord(e,t,n,i,lm),lm.x>=0&&lm.y>=0&&lm.x+lm.y<=1}},{key:"getUV",value:function(e,t,n,i,r,a,o,s){return this.getBarycoord(e,t,n,i,lm),s.set(0,0),s.addScaledVector(r,lm.x),s.addScaledVector(a,lm.y),s.addScaledVector(o,lm.z),s}},{key:"isFrontFacing",value:function(e,t,n,i){return am.subVectors(n,t),om.subVectors(e,t),am.cross(om).dot(i)<0}}]),e}(),mm=0,gm=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(Yd(e),"id",{value:mm++}),e.uuid=kp(),e.name="",e.type="Material",e.blending=1,e.side=rp,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=100,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=gp,e.stencilZFail=gp,e.stencilZPass=gp,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return np(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==rp&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var r=i(e.textures),a=i(e.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(wp),ym=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshBasicMaterial=!0,i.type="MeshBasicMaterial",i.color=new Jp(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(gm),wm=new iv,Am=new Op,bm=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ep(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=i,this.usage=yp,this.updateRange={offset:0,count:-1},this.version=0}return np(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Am.fromBufferAttribute(this,t),Am.applyMatrix3(e),this.setXY(t,Am.x,Am.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)wm.fromBufferAttribute(this,i),wm.applyMatrix3(e),this.setXYZ(i,wm.x,wm.y,wm.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)wm.fromBufferAttribute(this,t),wm.applyMatrix4(e),this.setXYZ(t,wm.x,wm.y,wm.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)wm.fromBufferAttribute(this,t),wm.applyNormalMatrix(e),this.setXYZ(t,wm.x,wm.y,wm.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)wm.fromBufferAttribute(this,t),wm.transformDirection(e),this.setXYZ(t,wm.x,wm.y,wm.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=Pp(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=_p(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=Pp(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=_p(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=Pp(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=_p(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=Pp(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=_p(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=_p(t,this.array),n=_p(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=_p(t,this.array),n=_p(n,this.array),i=_p(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}},{key:"setXYZW",value:function(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=_p(t,this.array),n=_p(n,this.array),i=_p(i,this.array),r=_p(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==yp&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),xm=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r){return ep(this,n),t.call(this,new Uint16Array(e),i,r)}return np(n)}(bm),Mm=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r){return ep(this,n),t.call(this,new Uint32Array(e),i,r)}return np(n)}(bm),km=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r){return ep(this,n),t.call(this,new Float32Array(e),i,r)}return np(n)}(bm),Sm=0,Em=new Dv,Cm=new rm,Tm=new iv,Pm=new ov,_m=new ov,Lm=new iv,Om=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(Yd(e),"id",{value:Sm++}),e.uuid=kp(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return np(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(function(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}(e)?Mm:xm)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new Dp).getNormalMatrix(e);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Em.makeRotationFromQuaternion(e),this.applyMatrix4(Em),this}},{key:"rotateX",value:function(e){return Em.makeRotationX(e),this.applyMatrix4(Em),this}},{key:"rotateY",value:function(e){return Em.makeRotationY(e),this.applyMatrix4(Em),this}},{key:"rotateZ",value:function(e){return Em.makeRotationZ(e),this.applyMatrix4(Em),this}},{key:"translate",value:function(e,t,n){return Em.makeTranslation(e,t,n),this.applyMatrix4(Em),this}},{key:"scale",value:function(e,t,n){return Em.makeScale(e,t,n),this.applyMatrix4(Em),this}},{key:"lookAt",value:function(e){return Cm.lookAt(e),Cm.updateMatrix(),this.applyMatrix4(Cm.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Tm).negate(),this.translate(Tm.x,Tm.y,Tm.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new km(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new ov);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new iv(-1/0,-1/0,-1/0),new iv(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var r=t[n];Pm.setFromBufferAttribute(r),this.morphTargetsRelative?(Lm.addVectors(this.boundingBox.min,Pm.min),this.boundingBox.expandByPoint(Lm),Lm.addVectors(this.boundingBox.max,Pm.max),this.boundingBox.expandByPoint(Lm)):(this.boundingBox.expandByPoint(Pm.min),this.boundingBox.expandByPoint(Pm.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new kv);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new iv,1/0);if(e){var n=this.boundingSphere.center;if(Pm.setFromBufferAttribute(e),t)for(var i=0,r=t.length;i<r;i++){var a=t[i];_m.setFromBufferAttribute(a),this.morphTargetsRelative?(Lm.addVectors(Pm.min,_m.min),Pm.expandByPoint(Lm),Lm.addVectors(Pm.max,_m.max),Pm.expandByPoint(Lm)):(Pm.expandByPoint(_m.min),Pm.expandByPoint(_m.max))}Pm.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)Lm.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(Lm));if(t)for(var u=0,c=t.length;u<c;u++)for(var h=t[u],f=this.morphTargetsRelative,d=0,p=h.count;d<p;d++)Lm.fromBufferAttribute(h,d),f&&(Tm.fromBufferAttribute(e,d),Lm.add(Tm)),o=Math.max(o,n.distanceToSquared(Lm));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,i=t.position.array,r=t.normal.array,a=t.uv.array,o=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new bm(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new iv,u[c]=new iv;var h=new iv,f=new iv,d=new iv,p=new Op,v=new Op,m=new Op,g=new iv,y=new iv,w=this.groups;0===w.length&&(w=[{start:0,count:n.length}]);for(var A=0,b=w.length;A<b;++A)for(var x=w[A],M=x.start,k=M,S=M+x.count;k<S;k+=3)R(n[k+0],n[k+1],n[k+2]);for(var E=new iv,C=new iv,T=new iv,P=new iv,_=0,L=w.length;_<L;++_)for(var O=w[_],D=O.start,B=D,I=D+O.count;B<I;B+=3)z(n[B+0]),z(n[B+1]),z(n[B+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function R(e,t,n){h.fromArray(i,3*e),f.fromArray(i,3*t),d.fromArray(i,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),f.sub(h),d.sub(h),v.sub(p),m.sub(p);var r=1/(v.x*m.y-m.x*v.y);isFinite(r)&&(g.copy(f).multiplyScalar(m.y).addScaledVector(d,-v.y).multiplyScalar(r),y.copy(d).multiplyScalar(v.x).addScaledVector(f,-m.x).multiplyScalar(r),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function z(e){T.fromArray(r,3*e),P.copy(T);var t=l[e];E.copy(t),E.sub(T.multiplyScalar(T.dot(t))).normalize(),C.crossVectors(P,t);var n=C.dot(u[e])<0?-1:1;s[4*e]=E.x,s[4*e+1]=E.y,s[4*e+2]=E.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new bm(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new iv,o=new iv,s=new iv,l=new iv,u=new iv,c=new iv,h=new iv,f=new iv;if(e)for(var d=0,p=e.count;d<p;d+=3){var v=e.getX(d+0),m=e.getX(d+1),g=e.getX(d+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,w=t.count;y<w;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Lm.fromBufferAttribute(e,t),Lm.normalize(),e.setXYZ(t,Lm.x,Lm.y,Lm.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,i=e.itemSize,r=e.normalized,a=new n.constructor(t.length*i),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*i;for(var c=0;c<i;c++)a[s++]=n[o++]}return new bm(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,i=this.index.array,r=this.attributes;for(var a in r){var o=e(r[a],i);t.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,f=c.length;h<f;h++){var d=e(c[h],i);u.push(d)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;null!==i&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var a in r){var o=r[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],f=0,d=c.length;f<d;f++){var p=c[f];h.push(p.toJSON(e.data))}h.length>0&&(s[u]=h,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var i=e.attributes;for(var r in i){var a=i[r];this.setAttribute(r,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,d=0,p=f.length;d<p;d++){var v=f[d];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(wp),Dm=new Dv,Bm=new Ov,Im=new kv,Rm=new iv,zm=new iv,Nm=new iv,Fm=new iv,Um=new iv,jm=new Op,Hm=new Op,Gm=new Op,Vm=new iv,Qm=new iv,Wm=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Om,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ym;return ep(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=i,e.material=r,e.updateMorphTargets(),e}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(i,e);var o=this.morphTargetInfluences;if(r&&o){Um.set(0,0,0);for(var s=0,l=r.length;s<l;s++){var u=o[s],c=r[s];0!==u&&(Fm.fromBufferAttribute(c,e),a?Um.addScaledVector(Fm,u):Um.addScaledVector(Fm.sub(t),u))}t.add(Um)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}},{key:"raycast",value:function(e,t){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),Im.copy(n.boundingSphere),Im.applyMatrix4(r),!1!==e.ray.intersectsSphere(Im)&&(Dm.copy(r).invert(),Bm.copy(e.ray).applyMatrix4(Dm),null===n.boundingBox||!1!==Bm.intersectsBox(n.boundingBox)))){var a,o=n.index,s=n.attributes.position,l=n.attributes.uv,u=n.attributes.uv2,c=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(i))for(var f=0,d=c.length;f<d;f++)for(var p=c[f],v=i[p.materialIndex],m=Math.max(p.start,h.start),g=Math.min(o.count,Math.min(p.start+p.count,h.start+h.count));m<g;m+=3){var y=o.getX(m),w=o.getX(m+1),A=o.getX(m+2);(a=Xm(this,v,e,Bm,l,u,y,w,A))&&(a.faceIndex=Math.floor(m/3),a.face.materialIndex=p.materialIndex,t.push(a))}else for(var b=Math.max(0,h.start),x=Math.min(o.count,h.start+h.count);b<x;b+=3){var M=o.getX(b),k=o.getX(b+1),S=o.getX(b+2);(a=Xm(this,i,e,Bm,l,u,M,k,S))&&(a.faceIndex=Math.floor(b/3),t.push(a))}else if(void 0!==s)if(Array.isArray(i))for(var E=0,C=c.length;E<C;E++)for(var T=c[E],P=i[T.materialIndex],_=Math.max(T.start,h.start),L=Math.min(s.count,Math.min(T.start+T.count,h.start+h.count));_<L;_+=3){(a=Xm(this,P,e,Bm,l,u,_,_+1,_+2))&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=T.materialIndex,t.push(a))}else for(var O=Math.max(0,h.start),D=Math.min(s.count,h.start+h.count);O<D;O+=3){(a=Xm(this,i,e,Bm,l,u,O,O+1,O+2))&&(a.faceIndex=Math.floor(O/3),t.push(a))}}}}]),n}(rm);function Xm(e,t,n,i,r,a,o,s,l){e.getVertexPosition(o,Rm),e.getVertexPosition(s,zm),e.getVertexPosition(l,Nm);var u=function(e,t,n,i,r,a,o,s){if(null===(t.side===ap?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,t.side===rp,s)))return null;Qm.copy(s),Qm.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Qm);return l<n.near||l>n.far?null:{distance:l,point:Qm.clone(),object:e}}(e,t,n,i,Rm,zm,Nm,Vm);if(u){r&&(jm.fromBufferAttribute(r,o),Hm.fromBufferAttribute(r,s),Gm.fromBufferAttribute(r,l),u.uv=vm.getUV(Vm,Rm,zm,Nm,jm,Hm,Gm,new Op)),a&&(jm.fromBufferAttribute(a,o),Hm.fromBufferAttribute(a,s),Gm.fromBufferAttribute(a,l),u.uv2=vm.getUV(Vm,Rm,zm,Nm,jm,Hm,Gm,new Op));var c={a:o,b:s,c:l,normal:new iv,materialIndex:0};vm.getNormal(Rm,zm,Nm,c.normal),u.face=c}return u}var Ym=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;ep(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=Yd(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],f=[],d=[],p=0,v=0;function m(e,t,n,i,r,a,o,s,l,m,g){for(var y=a/l,w=o/m,A=a/2,b=o/2,x=s/2,M=l+1,k=m+1,S=0,E=0,C=new iv,T=0;T<k;T++)for(var P=T*w-b,_=0;_<M;_++){var L=_*y-A;C[e]=L*i,C[t]=P*r,C[n]=x,h.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=s>0?1:-1,f.push(C.x,C.y,C.z),d.push(_/l),d.push(1-T/m),S+=1}for(var O=0;O<m;O++)for(var D=0;D<l;D++){var B=p+D+M*O,I=p+D+M*(O+1),R=p+(D+1)+M*(O+1),z=p+(D+1)+M*O;c.push(B,I,z),c.push(I,R,z),E+=6}u.addGroup(v,E,g),v+=E,p+=S}return m("z","y","x",-1,-1,a,r,i,l,s,0),m("z","y","x",1,-1,a,r,-i,l,s,1),m("x","z","y",1,1,i,a,r,o,l,2),m("x","z","y",1,-1,i,a,-r,o,l,3),m("x","y","z",1,-1,i,r,a,o,s,4),m("x","y","z",-1,-1,i,r,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new km(h,3)),e.setAttribute("normal",new km(f,3)),e.setAttribute("uv",new km(d,2)),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Om);var Jm,qm=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isShaderMaterial=!0,i.type="ShaderMaterial",i.defines={},i.uniforms={},i.uniformsGroups=[],i.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",i.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",i.linewidth=1,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.lights=!1,i.clipping=!1,i.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},i.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},i.index0AttributeName=void 0,i.uniformsNeedUpdate=!1,i.glslVersion=null,void 0!==e&&i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=function(e){var t={};for(var n in e)for(var i in t[n]={},e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}return t}(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=Vd(qd(n.prototype),"toJSON",this).call(this,e);for(var i in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?t.uniforms[i]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[i]={type:"m4",value:r.toArray()}:t.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(gm),Zm=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new Dv,e.projectionMatrix=new Dv,e.projectionMatrixInverse=new Dv,e}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){Vd(qd(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){Vd(qd(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(rm),Km=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return ep(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=i,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=r,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Mp*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*xp*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Mp*Math.atan(Math.tan(.5*xp*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*xp*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,t-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Vd(qd(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Zm),$m=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r,a,o,s,l,u,c,h){var f;return ep(this,n),e=void 0!==e?e:[],i=void 0!==i?i:301,(f=t.call(this,e,i,r,a,o,s,l,u,c,h)).isCubeTexture=!0,f.flipY=!1,f}return np(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(ev),eg=new iv,tg=new iv,ng=new Dp,ig=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iv(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ep(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return np(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var i=eg.subVectors(n,t).cross(tg.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(eg),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(n).multiplyScalar(r).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||ng.getNormalMatrix(e),i=this.coplanarPoint(eg).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),rg=new kv,ag=new iv,og=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ig,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ig,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ig,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ig,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ig,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new ig;ep(this,e),this.planes=[t,n,i,r,a,o]}return np(e,[{key:"set",value:function(e,t,n,i,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],f=n[9],d=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(o-i,c-s,p-h,y-v).normalize(),t[1].setComponents(o+i,c+s,p+h,y+v).normalize(),t[2].setComponents(o+r,c+l,p+f,y+m).normalize(),t[3].setComponents(o-r,c-l,p-f,y-m).normalize(),t[4].setComponents(o-a,c-u,p-d,y-g).normalize(),t[5].setComponents(o+a,c+u,p+d,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),rg.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(rg)}},{key:"intersectsSprite",value:function(e){return rg.center.set(0,0,0),rg.radius=.7071067811865476,rg.applyMatrix4(e.matrixWorld),this.intersectsSphere(rg)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];if(ag.x=i.normal.x>0?e.max.x:e.min.x,ag.y=i.normal.y>0?e.max.y:e.min.y,ag.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ag)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),sg=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;ep(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:i,height:r,widthSegments:a,heightSegments:o};for(var s=i/2,l=r/2,u=Math.floor(a),c=Math.floor(o),h=u+1,f=c+1,d=i/u,p=r/c,v=[],m=[],g=[],y=[],w=0;w<f;w++)for(var A=w*p-l,b=0;b<h;b++){var x=b*d-s;m.push(x,-A,0),g.push(0,0,1),y.push(b/u),y.push(1-w/c)}for(var M=0;M<c;M++)for(var k=0;k<u;k++){var S=k+h*M,E=k+h*(M+1),C=k+1+h*(M+1),T=k+1+h*M;v.push(S,E,T),v.push(E,C,T)}return e.setIndex(v),e.setAttribute("position",new km(m,3)),e.setAttribute("normal",new km(g,3)),e.setAttribute("uv",new km(y,2)),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Om),lg=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return ep(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=i,e.right=r,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,a=n+e,o=i+t,s=i-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Vd(qd(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Zm),ug=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshDepthMaterial=!0,i.type="MeshDepthMaterial",i.depthPacking=3200,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(gm),cg=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshDistanceMaterial=!0,i.type="MeshDistanceMaterial",i.referencePosition=new iv,i.nearDistance=1,i.farDistance=1e3,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(gm),hg=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return np(n)}(rm),fg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;ep(this,e),this.isFogExp2=!0,this.name="",this.color=new Jp(t),this.density=n}return np(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),dg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;ep(this,e),this.isFog=!0,this.name="",this.color=new Jp(t),this.near=n,this.far=i}return np(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),pg=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Yd(e)})),e}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Vd(qd(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.backgroundIntensity=this.backgroundIntensity),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(rm),vg=function(){function e(t,n){ep(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=yp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=kp()}return np(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=kp()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=kp()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),mg=new iv,gg=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];ep(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=i,this.normalized=r}return np(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)mg.fromBufferAttribute(this,t),mg.applyMatrix4(e),this.setXYZ(t,mg.x,mg.y,mg.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)mg.fromBufferAttribute(this,t),mg.applyNormalMatrix(e),this.setXYZ(t,mg.x,mg.y,mg.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)mg.fromBufferAttribute(this,t),mg.transformDirection(e),this.setXYZ(t,mg.x,mg.y,mg.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=_p(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=_p(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=_p(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=_p(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Pp(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Pp(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Pp(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Pp(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=_p(t,this.array),n=_p(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_p(t,this.array),n=_p(n,this.array),i=_p(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}},{key:"setXYZW",value:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=_p(t,this.array),n=_p(n,this.array),i=_p(i,this.array),r=_p(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],i=0;i<this.count;i++)for(var r=i*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[r+a]);return new bm(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),yg=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isSpriteMaterial=!0,i.type="SpriteMaterial",i.color=new Jp(16777215),i.map=null,i.alphaMap=null,i.rotation=0,i.sizeAttenuation=!0,i.transparent=!0,i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(gm),wg=new iv,Ag=new iv,bg=new iv,xg=new Op,Mg=new Op,kg=new Dv,Sg=new iv,Eg=new iv,Cg=new iv,Tg=new Op,Pg=new Op,_g=new Op,Lg=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;if(ep(this,n),(i=t.call(this)).isSprite=!0,i.type="Sprite",void 0===Jm){Jm=new Om;var r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new vg(r,5);Jm.setIndex([0,1,2,0,2,3]),Jm.setAttribute("position",new gg(a,3,0,!1)),Jm.setAttribute("uv",new gg(a,2,3,!1))}return i.geometry=Jm,i.material=void 0!==e?e:new yg,i.center=new Op(.5,.5),i}return np(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ag.setFromMatrixScale(this.matrixWorld),kg.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),bg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ag.multiplyScalar(-bg.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var a=this.center;Og(Sg.set(-.5,-.5,0),bg,a,Ag,n,i),Og(Eg.set(.5,-.5,0),bg,a,Ag,n,i),Og(Cg.set(.5,.5,0),bg,a,Ag,n,i),Tg.set(0,0),Pg.set(1,0),_g.set(1,1);var o=e.ray.intersectTriangle(Sg,Eg,Cg,!1,wg);if(null!==o||(Og(Eg.set(-.5,.5,0),bg,a,Ag,n,i),Pg.set(0,1),null!==(o=e.ray.intersectTriangle(Sg,Cg,Eg,!1,wg)))){var s=e.ray.origin.distanceTo(wg);s<e.near||s>e.far||t.push({distance:s,point:wg.clone(),uv:vm.getUV(wg,Sg,Eg,Cg,Tg,Pg,_g,new Op),face:null,object:this})}}},{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(rm);function Og(e,t,n,i,r,a){xg.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(Mg.x=a*xg.x-r*xg.y,Mg.y=r*xg.x+a*xg.y):Mg.copy(xg),e.copy(t),e.x+=Mg.x,e.y+=Mg.y,e.applyMatrix4(kg)}var Dg=new iv,Bg=new iv,Ig=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(Yd(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return np(n,[{key:"copy",value:function(e){Vd(qd(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,i=0,r=t.length;i<r;i++){var a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var i,r=this.levels;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,i;for(n=1,i=t.length;n<i;n++){var r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){Dg.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Dg);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){Dg.setFromMatrixPosition(e.matrixWorld),Bg.setFromMatrixPosition(this.matrixWorld);var n,i,r=Dg.distanceTo(Bg)/e.zoom;for(t[0].object.visible=!0,n=1,i=t.length;n<i;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(r>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<i;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=Vd(qd(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var i=this.levels,r=0,a=i.length;r<a;r++){var o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}]),n}(rm),Rg=new iv,zg=new tv,Ng=new tv,Fg=new iv,Ug=new Dv,jg=function(e){Qd(n,e);var t=Xd(n);function n(e,i){var r;return ep(this,n),(r=t.call(this,e,i)).isSkinnedMesh=!0,r.type="SkinnedMesh",r.bindMode="attached",r.bindMatrix=new Dv,r.bindMatrixInverse=new Dv,r}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new tv,t=this.geometry.attributes.skinWeight,n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);var r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){Vd(qd(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,i=this.geometry;zg.fromBufferAttribute(i.attributes.skinIndex,e),Ng.fromBufferAttribute(i.attributes.skinWeight,e),Rg.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var r=0;r<4;r++){var a=Ng.getComponent(r);if(0!==a){var o=zg.getComponent(r);Ug.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(Fg.copy(Rg).applyMatrix4(Ug),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(Wm),Hg=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return np(n)}(rm),Gg=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:up,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:up,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return ep(this,n),(e=t.call(this,null,l,u,c,h,f,o,s,d,p)).isDataTexture=!0,e.image={data:i,width:r,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return np(n)}(ev),Vg=new Dv,Qg=new Dv,Wg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];ep(this,e),this.uuid=kp(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return np(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Dv)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Dv;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var i=0,r=this.bones.length;i<r;i++){var a=this.bones[i];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=e.length;r<a;r++){var o=e[r]?e[r].matrixWorld:Qg;Vg.multiplyMatrices(o,t[r]),Vg.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=Tp(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new Gg(t,e,e,hp,1015);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,i=e.bones.length;n<i;n++){var r=e.bones[n],a=t[r];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new Hg),this.bones.push(a),this.boneInverses.push((new Dv).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,i=0,r=t.length;i<r;i++){var a=t[i];e.bones.push(a.uuid);var o=n[i];e.boneInverses.push(o.toArray())}return e}}]),e}(),Xg=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return ep(this,n),(a=t.call(this,e,i,r)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(bm),Yg=new Dv,Jg=new Dv,qg=[],Zg=new Dv,Kg=new Wm,$g=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r){var a;ep(this,n),(a=t.call(this,e,i)).isInstancedMesh=!0,a.instanceMatrix=new Xg(new Float32Array(16*r),16),a.instanceColor=null,a.count=r,a.frustumCulled=!1;for(var o=0;o<r;o++)a.setMatrixAt(o,Zg);return a}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,i=this.count;if(Kg.geometry=this.geometry,Kg.material=this.material,void 0!==Kg.material)for(var r=0;r<i;r++){this.getMatrixAt(r,Yg),Jg.multiplyMatrices(n,Yg),Kg.matrixWorld=Jg,Kg.raycast(e,qg);for(var a=0,o=qg.length;a<o;a++){var s=qg[a];s.instanceId=r,s.object=this,t.push(s)}qg.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Xg(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Wm),ey=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isLineBasicMaterial=!0,i.type="LineBasicMaterial",i.color=new Jp(16777215),i.linewidth=1,i.linecap="round",i.linejoin="round",i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(gm),ty=new iv,ny=new iv,iy=new Dv,ry=new Ov,ay=new kv,oy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Om,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ey;return ep(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=i,e.material=r,e.updateMorphTargets(),e}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)ty.fromBufferAttribute(t,i-1),ny.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=ty.distanceTo(ny);e.setAttribute("lineDistance",new km(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ay.copy(n.boundingSphere),ay.applyMatrix4(i),ay.radius+=r,!1!==e.ray.intersectsSphere(ay)){iy.copy(i).invert(),ry.copy(e.ray).applyMatrix4(iy);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new iv,u=new iv,c=new iv,h=new iv,f=this.isLineSegments?2:1,d=n.index,p=n.attributes.position;if(null!==d)for(var v=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count)-1;v<m;v+=f){var g=d.getX(v),y=d.getX(v+1);if(l.fromBufferAttribute(p,g),u.fromBufferAttribute(p,y),!(ry.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var A=Math.max(0,a.start),b=Math.min(p.count,a.start+a.count)-1;A<b;A+=f){if(l.fromBufferAttribute(p,A),u.fromBufferAttribute(p,A+1),!(ry.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var x=e.ray.origin.distanceTo(h);x<e.near||x>e.far||t.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}}]),n}(rm),sy=new iv,ly=new iv,uy=function(e){Qd(n,e);var t=Xd(n);function n(e,i){var r;return ep(this,n),(r=t.call(this,e,i)).isLineSegments=!0,r.type="LineSegments",r}return np(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],i=0,r=t.count;i<r;i+=2)sy.fromBufferAttribute(t,i),ly.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+sy.distanceTo(ly);e.setAttribute("lineDistance",new km(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(oy),cy=function(e){Qd(n,e);var t=Xd(n);function n(e,i){var r;return ep(this,n),(r=t.call(this,e,i)).isLineLoop=!0,r.type="LineLoop",r}return np(n)}(oy),hy=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isPointsMaterial=!0,i.type="PointsMaterial",i.color=new Jp(16777215),i.map=null,i.alphaMap=null,i.size=1,i.sizeAttenuation=!0,i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(gm),fy=new Dv,dy=new Ov,py=new kv,vy=new iv,my=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Om,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hy;return ep(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=i,e.material=r,e.updateMorphTargets(),e}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),py.copy(n.boundingSphere),py.applyMatrix4(i),py.radius+=r,!1!==e.ray.intersectsSphere(py)){fy.copy(i).invert(),dy.copy(e.ray).applyMatrix4(fy);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);c<h;c++){var f=l.getX(c);vy.fromBufferAttribute(u,f),gy(vy,f,s,i,e,t,this)}else for(var d=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);d<p;d++)vy.fromBufferAttribute(u,d),gy(vy,d,s,i,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}}]),n}(rm);function gy(e,t,n,i,r,a,o){var s=dy.distanceSqToPoint(e);if(s<n){var l=new iv;dy.closestPointToPoint(e,l),l.applyMatrix4(i);var u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}var yy=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r,a,o,s,l,u,c){var h;ep(this,n),(h=t.call(this,e,i,r,a,o,s,l,u,c)).isVideoTexture=!0,h.minFilter=void 0!==s?s:cp,h.magFilter=void 0!==o?o:cp,h.generateMipmaps=!1;var f=Yd(h);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){f.needsUpdate=!0,e.requestVideoFrameCallback(t)})),h}return np(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(ev),wy=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r){var a;return ep(this,n),(a=t.call(this,{width:e,height:i})).isFramebufferTexture=!0,a.format=r,a.magFilter=up,a.minFilter=up,a.generateMipmaps=!1,a.needsUpdate=!0,a}return np(n)}(ev),Ay=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r,a,o,s,l,u,c){var h;return ep(this,n),(h=t.call(this,e,i,r,a,o,s,l,u,c)).isCanvasTexture=!0,h.needsUpdate=!0,h}return np(n)}(ev),by=function(){function e(){ep(this,e),this.type="Curve",this.arcLengthDivisions=200}return np(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=e;a++)r+=(t=this.getPoint(a/e)).distanceTo(i),n.push(r),i=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,i=this.getLengths(),r=0,a=i.length;n=t||e*i[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(a-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);var a=this.getPoint(i),o=this.getPoint(r),s=t||(a.isVector2?new Op:new iv);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new iv,i=[],r=[],a=[],o=new iv,s=new Dv,l=0;l<=e;l++){var u=l/e;i[l]=this.getTangentAt(u,new iv)}r[0]=new iv,a[0]=new iv;var c=Number.MAX_VALUE,h=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);h<=c&&(c=h,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var p=1;p<=e;p++){if(r[p]=r[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(Sp(i[p-1].dot(i[p]),-1,1));r[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(i[p],r[p])}if(!0===t){var m=Math.acos(Sp(r[0].dot(r[e]),-1,1));m/=e,i[0].dot(o.crossVectors(r[0],r[e]))>0&&(m=-m);for(var g=1;g<=e;g++)r[g].applyMatrix4(s.makeRotationAxis(i[g],m*g)),a[g].crossVectors(i[g],r[g])}return{tangents:i,normals:r,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),xy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return ep(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=i,e.aY=r,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=u,e.aRotation=c,e}return np(n,[{key:"getPoint",value:function(e,t){for(var n=t||new Op,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r===i?r=-i:r-=i);var o=this.aStartAngle+e*r,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,f=l-this.aY;s=h*u-f*c+this.aX,l=h*c+f*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(by),My=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r,a,o,s){var l;return ep(this,n),(l=t.call(this,e,i,r,r,a,o,s)).isArcCurve=!0,l.type="ArcCurve",l}return np(n)}(xy);function ky(){var e=0,t=0,n=0,i=0;function r(r,a,o,s){e=r,t=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(e,t,n,i,a){r(t,n,a*(n-e),a*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(i-t)/(o+s)+(i-n)/s;r(t,n,l*=o,u*=o)},calc:function(r){var a=r*r;return e+t*r+n*a+i*(a*r)}}}var Sy=new iv,Ey=new ky,Cy=new ky,Ty=new ky,Py=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return ep(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=i,e.closed=r,e.curveType=a,e.tension=o,e}return np(n,[{key:"getPoint",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===l&&s===a-1&&(s=a-2,l=1),this.closed||s>0?t=r[(s-1)%a]:(Sy.subVectors(r[0],r[1]).add(r[0]),t=Sy);var u=r[s%a],c=r[(s+1)%a];if(this.closed||s+2<a?n=r[(s+2)%a]:(Sy.subVectors(r[a-1],r[a-2]).add(r[a-1]),n=Sy),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(u),h),d=Math.pow(u.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(n),h);d<1e-4&&(d=1),f<1e-4&&(f=d),p<1e-4&&(p=d),Ey.initNonuniformCatmullRom(t.x,u.x,c.x,n.x,f,d,p),Cy.initNonuniformCatmullRom(t.y,u.y,c.y,n.y,f,d,p),Ty.initNonuniformCatmullRom(t.z,u.z,c.z,n.z,f,d,p)}else"catmullrom"===this.curveType&&(Ey.initCatmullRom(t.x,u.x,c.x,n.x,this.tension),Cy.initCatmullRom(t.y,u.y,c.y,n.y,this.tension),Ty.initCatmullRom(t.z,u.z,c.z,n.z,this.tension));return i.set(Ey.calc(l),Cy.calc(l),Ty.calc(l)),i}},{key:"copy",value:function(e){Vd(qd(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push((new iv).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(by);function _y(e,t,n,i,r){var a=.5*(i-t),o=.5*(r-n),s=e*e;return(2*n-2*i+a+o)*(e*s)+(-3*n+3*i-2*a-o)*s+a*e+n}function Ly(e,t,n,i){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function Oy(e,t,n,i,r){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}var Dy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Op,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Op,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Op,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Op;return ep(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=i,e.v1=r,e.v2=a,e.v3=o,e}return np(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Op,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(Oy(e,n.x,i.x,r.x,a.x),Oy(e,n.y,i.y,r.y,a.y)),t}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(by),By=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iv,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new iv,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new iv;return ep(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=i,e.v1=r,e.v2=a,e.v3=o,e}return np(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(Oy(e,n.x,i.x,r.x,a.x),Oy(e,n.y,i.y,r.y,a.y),Oy(e,n.z,i.z,r.z,a.z)),t}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(by),Iy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Op,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Op;return ep(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=i,e.v2=r,e}return np(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Op;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new Op;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(by),Ry=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iv,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv;return ep(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=i,e.v2=r,e}return np(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(by),zy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Op,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Op,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Op;return ep(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=i,e.v1=r,e.v2=a,e}return np(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Op,n=this.v0,i=this.v1,r=this.v2;return t.set(Ly(e,n.x,i.x,r.x),Ly(e,n.y,i.y,r.y)),t}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(by),Ny=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iv,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new iv;return ep(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=i,e.v1=r,e.v2=a,e}return np(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new iv,n=this.v0,i=this.v1,r=this.v2;return t.set(Ly(e,n.x,i.x,r.x),Ly(e,n.y,i.y,r.y),Ly(e,n.z,i.z,r.z)),t}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(by),Fy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ep(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=i,e}return np(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Op,n=this.points,i=(n.length-1)*e,r=Math.floor(i),a=i-r,o=n[0===r?r:r-1],s=n[r],l=n[r>n.length-2?n.length-1:r+1],u=n[r>n.length-3?n.length-1:r+2];return t.set(_y(a,o.x,s.x,l.x,u.x),_y(a,o.y,s.y,l.y,u.y)),t}},{key:"copy",value:function(e){Vd(qd(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push(r.clone())}return this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var r=this.points[t];e.points.push(r.toArray())}return e}},{key:"fromJSON",value:function(e){Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push((new Op).fromArray(r))}return this}}]),n}(by),Uy=Object.freeze({__proto__:null,ArcCurve:My,CatmullRomCurve3:Py,CubicBezierCurve:Dy,CubicBezierCurve3:By,EllipseCurve:xy,LineCurve:Iy,LineCurve3:Ry,QuadraticBezierCurve:zy,QuadraticBezierCurve3:Ny,SplineCurve:Fy}),jy=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).type="Path",i.currentPoint=new Op,e&&i.setFromPoints(e),i}return np(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Iy(this.currentPoint.clone(),new Op(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,i){var r=new zy(this.currentPoint.clone(),new Op(e,t),new Op(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}},{key:"bezierCurveTo",value:function(e,t,n,i,r,a){var o=new Dy(this.currentPoint.clone(),new Op(e,t),new Op(n,i),new Op(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Fy(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,i,r,a),this}},{key:"absarc",value:function(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this}},{key:"ellipse",value:function(e,t,n,i,r,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,i,r,a,o,s),this}},{key:"absellipse",value:function(e,t,n,i,r,a,o,s){var l=new xy(e,t,n,i,r,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return np(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Iy(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=n){var a=i[r]-n,o=this.curves[r],s=o.getLength(),l=0===s?0:1-a/s;return o.getPointAt(l,t)}r++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){Vd(qd(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,i=this.curves.length;t<i;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e}},{key:"fromJSON",value:function(e){Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var r=e.curves[t];this.curves.push((new Uy[r.type]).fromJSON(r))}return this}}]),n}(by)),Hy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Op(0,-.5),new Op(.5,0),new Op(0,.5)],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;ep(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:i,segments:r,phiStart:a,phiLength:o},r=Math.floor(r),o=Sp(o,0,2*Math.PI);for(var s=[],l=[],u=[],c=[],h=[],f=1/r,d=new iv,p=new Op,v=new iv,m=new iv,g=new iv,y=0,w=0,A=0;A<=i.length-1;A++)switch(A){case 0:y=i[A+1].x-i[A].x,w=i[A+1].y-i[A].y,v.x=1*w,v.y=-y,v.z=0*w,g.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case i.length-1:c.push(g.x,g.y,g.z);break;default:y=i[A+1].x-i[A].x,w=i[A+1].y-i[A].y,v.x=1*w,v.y=-y,v.z=0*w,m.copy(v),v.x+=g.x,v.y+=g.y,v.z+=g.z,v.normalize(),c.push(v.x,v.y,v.z),g.copy(m)}for(var b=0;b<=r;b++)for(var x=a+b*f*o,M=Math.sin(x),k=Math.cos(x),S=0;S<=i.length-1;S++){d.x=i[S].x*M,d.y=i[S].y,d.z=i[S].x*k,l.push(d.x,d.y,d.z),p.x=b/r,p.y=S/(i.length-1),u.push(p.x,p.y);var E=c[3*S+0]*M,C=c[3*S+1],T=c[3*S+0]*k;h.push(E,C,T)}for(var P=0;P<r;P++)for(var _=0;_<i.length-1;_++){var L=_+P*i.length,O=L,D=L+i.length,B=L+i.length+1,I=L+1;s.push(O,D,I),s.push(B,I,D)}return e.setIndex(s),e.setAttribute("position",new km(l,3)),e.setAttribute("uv",new km(u,2)),e.setAttribute("normal",new km(h,3)),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(Om),Gy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;ep(this,n);var s=new jy;return s.absarc(0,-r/2,i,1.5*Math.PI,0),s.absarc(0,r/2,i,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:i,height:r,capSegments:a,radialSegments:o},e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(Hy),Vy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;ep(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:i,segments:r,thetaStart:a,thetaLength:o},r=Math.max(3,r);var s=[],l=[],u=[],c=[],h=new iv,f=new Op;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var d=0,p=3;d<=r;d++,p+=3){var v=a+d/r*o;h.x=i*Math.cos(v),h.y=i*Math.sin(v),l.push(h.x,h.y,h.z),u.push(0,0,1),f.x=(l[p]/i+1)/2,f.y=(l[p+1]/i+1)/2,c.push(f.x,f.y)}for(var m=1;m<=r;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new km(l,3)),e.setAttribute("normal",new km(u,3)),e.setAttribute("uv",new km(c,2)),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(Om),Qy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;ep(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:i,radiusBottom:r,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var h=Yd(e);o=Math.floor(o),s=Math.floor(s);var f=[],d=[],p=[],v=[],m=0,g=[],y=a/2,w=0;function A(e){for(var t=m,n=new Op,a=new iv,s=0,l=!0===e?i:r,g=!0===e?1:-1,A=1;A<=o;A++)d.push(0,y*g,0),p.push(0,g,0),v.push(.5,.5),m++;for(var b=m,x=0;x<=o;x++){var M=x/o*c+u,k=Math.cos(M),S=Math.sin(M);a.x=l*S,a.y=y*g,a.z=l*k,d.push(a.x,a.y,a.z),p.push(0,g,0),n.x=.5*k+.5,n.y=.5*S*g+.5,v.push(n.x,n.y),m++}for(var E=0;E<o;E++){var C=t+E,T=b+E;!0===e?f.push(T,T+1,C):f.push(T+1,T,C),s+=3}h.addGroup(w,s,!0===e?1:2),w+=s}return function(){for(var e=new iv,t=new iv,n=0,l=(r-i)/a,A=0;A<=s;A++){for(var b=[],x=A/s,M=x*(r-i)+i,k=0;k<=o;k++){var S=k/o,E=S*c+u,C=Math.sin(E),T=Math.cos(E);t.x=M*C,t.y=-x*a+y,t.z=M*T,d.push(t.x,t.y,t.z),e.set(C,l,T).normalize(),p.push(e.x,e.y,e.z),v.push(S,1-x),b.push(m++)}g.push(b)}for(var P=0;P<o;P++)for(var _=0;_<s;_++){var L=g[_][P],O=g[_+1][P],D=g[_+1][P+1],B=g[_][P+1];f.push(L,O,B),f.push(O,D,B),n+=6}h.addGroup(w,n,0),w+=n}(),!1===l&&(i>0&&A(!0),r>0&&A(!1)),e.setIndex(f),e.setAttribute("position",new km(d,3)),e.setAttribute("normal",new km(p,3)),e.setAttribute("uv",new km(v,2)),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Om),Wy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return ep(this,n),(e=t.call(this,0,i,r,a,o,s,l,u)).type="ConeGeometry",e.parameters={radius:i,height:r,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Qy),Xy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;ep(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:i,indices:r,radius:a,detail:o};var s=[],l=[];function u(e,t,n,i){for(var r=i+1,a=[],o=0;o<=r;o++){a[o]=[];for(var s=e.clone().lerp(n,o/r),l=t.clone().lerp(n,o/r),u=r-o,h=0;h<=u;h++)a[o][h]=0===h&&o===r?s:s.clone().lerp(l,h/u)}for(var f=0;f<r;f++)for(var d=0;d<2*(r-f)-1;d++){var p=Math.floor(d/2);d%2===0?(c(a[f][p+1]),c(a[f+1][p]),c(a[f][p])):(c(a[f][p+1]),c(a[f+1][p+1]),c(a[f+1][p]))}}function c(e){s.push(e.x,e.y,e.z)}function h(e,t){var n=3*e;t.x=i[n+0],t.y=i[n+1],t.z=i[n+2]}function f(e,t,n,i){i<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=i/2/Math.PI+.5)}function d(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new iv,n=new iv,i=new iv,a=0;a<r.length;a+=3)h(r[a+0],t),h(r[a+1],n),h(r[a+2],i),u(t,n,i,e)}(o),function(e){for(var t=new iv,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}(a),function(){for(var e=new iv,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=d(e)/2/Math.PI+.5,i=(r=e,Math.atan2(-r.y,Math.sqrt(r.x*r.x+r.z*r.z))/Math.PI+.5);l.push(n,1-i)}var r;(function(){for(var e=new iv,t=new iv,n=new iv,i=new iv,r=new Op,a=new Op,o=new Op,u=0,c=0;u<s.length;u+=9,c+=6){e.set(s[u+0],s[u+1],s[u+2]),t.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),r.set(l[c+0],l[c+1]),a.set(l[c+2],l[c+3]),o.set(l[c+4],l[c+5]),i.copy(e).add(t).add(n).divideScalar(3);var h=d(i);f(r,c+0,e,h),f(a,c+2,t,h),f(o,c+4,n,h)}})(),function(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],i=l[e+4],r=Math.max(t,n,i),a=Math.min(t,n,i);r>.9&&a<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),i<.2&&(l[e+4]+=1))}}()}(),e.setAttribute("position",new km(s,3)),e.setAttribute("normal",new km(s.slice(),3)),e.setAttribute("uv",new km(l,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(Om),Yy=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ep(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(e=t.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],i,r)).type="DodecahedronGeometry",e.parameters={radius:i,detail:r},e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Xy),Jy=new iv,qy=new iv,Zy=new iv,Ky=new vm,$y=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(ep(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:i,thresholdAngle:r},null!==i){for(var a=Math.pow(10,4),o=Math.cos(xp*r),s=i.getIndex(),l=i.getAttribute("position"),u=s?s.count:l.count,c=[0,0,0],h=["a","b","c"],f=new Array(3),d={},p=[],v=0;v<u;v+=3){s?(c[0]=s.getX(v),c[1]=s.getX(v+1),c[2]=s.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);var m=Ky.a,g=Ky.b,y=Ky.c;if(m.fromBufferAttribute(l,c[0]),g.fromBufferAttribute(l,c[1]),y.fromBufferAttribute(l,c[2]),Ky.getNormal(Zy),f[0]="".concat(Math.round(m.x*a),",").concat(Math.round(m.y*a),",").concat(Math.round(m.z*a)),f[1]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),f[2]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var w=0;w<3;w++){var A=(w+1)%3,b=f[w],x=f[A],M=Ky[h[w]],k=Ky[h[A]],S="".concat(b,"_").concat(x),E="".concat(x,"_").concat(b);E in d&&d[E]?(Zy.dot(d[E].normal)<=o&&(p.push(M.x,M.y,M.z),p.push(k.x,k.y,k.z)),d[E]=null):S in d||(d[S]={index0:c[w],index1:c[A],normal:Zy.clone()})}}for(var C in d)if(d[C]){var T=d[C],P=T.index0,_=T.index1;Jy.fromBufferAttribute(l,P),qy.fromBufferAttribute(l,_),p.push(Jy.x,Jy.y,Jy.z),p.push(qy.x,qy.y,qy.z)}e.setAttribute("position",new km(p,3))}return e}return np(n)}(Om),ew=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this,e)).uuid=kp(),i.type="Shape",i.holes=[],i}return np(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){Vd(qd(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var r=e.holes[t];this.holes.push(r.clone())}return this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,i=this.holes.length;t<i;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e}},{key:"fromJSON",value:function(e){Vd(qd(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var r=e.holes[t];this.holes.push((new jy).fromJSON(r))}return this}}]),n}(jy),tw=function(e,t){var n,i,r,a,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*u:e.length,f=nw(e,0,h,u,!0),d=[];if(!f||f.next===f.prev)return d;if(c&&(f=function(e,t,n,i){var r,a,o,s=[];for(r=0,a=t.length;r<a;r++)(o=nw(e,t[r]*i,r<a-1?t[r+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),s.push(dw(o));for(s.sort(uw),r=0;r<s.length;r++)n=cw(s[r],n);return n}(e,t,f,u)),e.length>80*u){n=r=e[0],i=a=e[1];for(var p=u;p<h;p+=u)(o=e[p])<n&&(n=o),(s=e[p+1])<i&&(i=s),o>r&&(r=o),s>a&&(a=s);l=0!==(l=Math.max(r-n,a-i))?32767/l:0}return rw(f,d,u,n,i,l,0),d};function nw(e,t,n,i,r){var a,o;if(r===function(e,t,n,i){for(var r=0,a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}(e,t,n,i)>0)for(a=t;a<n;a+=i)o=Mw(a,e[a],e[a+1],o);else for(a=n-i;a>=t;a-=i)o=Mw(a,e[a],e[a+1],o);return o&&gw(o,o.next)&&(kw(o),o=o.next),o}function iw(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!gw(i,i.next)&&0!==mw(i.prev,i,i.next))i=i.next;else{if(kw(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function rw(e,t,n,i,r,a,o){if(e){!o&&a&&function(e,t,n,i){var r=e;do{0===r.z&&(r.z=fw(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,i=n,s=0,t=0;t<u&&(s++,i=i.nextZ);t++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;n=i}a.nextZ=null,u*=2}while(o>1)}(r)}(e,i,r,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?ow(e,i,r,a):aw(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),kw(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?rw(e=sw(iw(e),t,n),t,n,i,r,a,2):2===o&&lw(e,t,n,i,r,a):rw(iw(e),t,n,i,r,a,1);break}}}function aw(e){var t=e.prev,n=e,i=e.next;if(mw(t,n,i)>=0)return!1;for(var r=t.x,a=n.x,o=i.x,s=t.y,l=n.y,u=i.y,c=r<a?r<o?r:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,f=r>a?r>o?r:o:a>o?a:o,d=s>l?s>u?s:u:l>u?l:u,p=i.next;p!==t;){if(p.x>=c&&p.x<=f&&p.y>=h&&p.y<=d&&pw(r,s,a,l,o,u,p.x,p.y)&&mw(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function ow(e,t,n,i){var r=e.prev,a=e,o=e.next;if(mw(r,a,o)>=0)return!1;for(var s=r.x,l=a.x,u=o.x,c=r.y,h=a.y,f=o.y,d=s<l?s<u?s:u:l<u?l:u,p=c<h?c<f?c:f:h<f?h:f,v=s>l?s>u?s:u:l>u?l:u,m=c>h?c>f?c:f:h>f?h:f,g=fw(d,p,t,n,i),y=fw(v,m,t,n,i),w=e.prevZ,A=e.nextZ;w&&w.z>=g&&A&&A.z<=y;){if(w.x>=d&&w.x<=v&&w.y>=p&&w.y<=m&&w!==r&&w!==o&&pw(s,c,l,h,u,f,w.x,w.y)&&mw(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,A.x>=d&&A.x<=v&&A.y>=p&&A.y<=m&&A!==r&&A!==o&&pw(s,c,l,h,u,f,A.x,A.y)&&mw(A.prev,A,A.next)>=0)return!1;A=A.nextZ}for(;w&&w.z>=g;){if(w.x>=d&&w.x<=v&&w.y>=p&&w.y<=m&&w!==r&&w!==o&&pw(s,c,l,h,u,f,w.x,w.y)&&mw(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=y;){if(A.x>=d&&A.x<=v&&A.y>=p&&A.y<=m&&A!==r&&A!==o&&pw(s,c,l,h,u,f,A.x,A.y)&&mw(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function sw(e,t,n){var i=e;do{var r=i.prev,a=i.next.next;!gw(r,a)&&yw(r,i,i.next,a)&&bw(r,a)&&bw(a,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),kw(i),kw(i.next),i=e=a),i=i.next}while(i!==e);return iw(i)}function lw(e,t,n,i,r,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&vw(o,s)){var l=xw(o,s);return o=iw(o,o.next),l=iw(l,l.next),rw(o,t,n,i,r,a,0),void rw(l,t,n,i,r,a,0)}s=s.next}o=o.next}while(o!==e)}function uw(e,t){return e.x-t.x}function cw(e,t){var n=function(e,t){var n,i=t,r=-1/0,a=e.x,o=e.y;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=a&&s>r&&(r=s,n=i.x<i.next.x?i:i.next,s===a))return n}i=i.next}while(i!==t);if(!n)return null;var l,u=n,c=n.x,h=n.y,f=1/0;i=n;do{a>=i.x&&i.x>=c&&a!==i.x&&pw(o<h?a:r,o,c,h,o<h?r:a,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(a-i.x),bw(i,e)&&(l<f||l===f&&(i.x>n.x||i.x===n.x&&hw(n,i)))&&(n=i,f=l)),i=i.next}while(i!==u);return n}(e,t);if(!n)return t;var i=xw(n,e);return iw(i,i.next),iw(n,n.next)}function hw(e,t){return mw(e.prev,e,t.prev)<0&&mw(t.next,e,e.next)<0}function fw(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function dw(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function pw(e,t,n,i,r,a,o,s){return(r-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(i-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(r-o)*(i-s)}function vw(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&yw(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(bw(e,t)&&bw(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(mw(e.prev,e,t.prev)||mw(e,t.prev,t))||gw(e,t)&&mw(e.prev,e,e.next)>0&&mw(t.prev,t,t.next)>0)}function mw(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function gw(e,t){return e.x===t.x&&e.y===t.y}function yw(e,t,n,i){var r=Aw(mw(e,t,n)),a=Aw(mw(e,t,i)),o=Aw(mw(n,i,e)),s=Aw(mw(n,i,t));return r!==a&&o!==s||(!(0!==r||!ww(e,n,t))||(!(0!==a||!ww(e,i,t))||(!(0!==o||!ww(n,e,i))||!(0!==s||!ww(n,t,i)))))}function ww(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Aw(e){return e>0?1:e<0?-1:0}function bw(e,t){return mw(e.prev,e,e.next)<0?mw(e,t,e.next)>=0&&mw(e,e.prev,t)>=0:mw(e,t,e.prev)<0||mw(e,e.next,t)<0}function xw(e,t){var n=new Sw(e.i,e.x,e.y),i=new Sw(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function Mw(e,t,n,i){var r=new Sw(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function kw(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Sw(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Ew=function(){function e(){ep(this,e)}return np(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],i=[],r=[];Cw(e),Tw(n,e);var a=e.length;t.forEach(Cw);for(var o=0;o<t.length;o++)i.push(a),a+=t[o].length,Tw(n,t[o]);for(var s=tw(n,i),l=0;l<s.length;l+=3)r.push(s.slice(l,l+3));return r}}]),e}();function Cw(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Tw(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Pw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ew([new Op(.5,.5),new Op(-.5,.5),new Op(-.5,-.5),new Op(.5,-.5)]),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ep(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:i,options:r},i=Array.isArray(i)?i:[i];for(var a=Yd(e),o=[],s=[],l=0,u=i.length;l<u;l++){c(i[l])}function c(e){var t,n,i,l,u,c=[],h=void 0!==r.curveSegments?r.curveSegments:12,f=void 0!==r.steps?r.steps:1,d=void 0!==r.depth?r.depth:1,p=void 0===r.bevelEnabled||r.bevelEnabled,v=void 0!==r.bevelThickness?r.bevelThickness:.2,m=void 0!==r.bevelSize?r.bevelSize:v-.1,g=void 0!==r.bevelOffset?r.bevelOffset:0,y=void 0!==r.bevelSegments?r.bevelSegments:3,w=r.extrudePath,A=void 0!==r.UVGenerator?r.UVGenerator:_w,b=!1;w&&(t=w.getSpacedPoints(f),b=!0,p=!1,n=w.computeFrenetFrames(f,!1),i=new iv,l=new iv,u=new iv),p||(y=0,v=0,m=0,g=0);var x=e.extractPoints(h),M=x.shape,k=x.holes;if(!Ew.isClockWise(M)){M=M.reverse();for(var S=0,E=k.length;S<E;S++){var C=k[S];Ew.isClockWise(C)&&(k[S]=C.reverse())}}for(var T=Ew.triangulateShape(M,k),P=M,_=0,L=k.length;_<L;_++){var O=k[_];M=M.concat(O)}function D(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var B=M.length,I=T.length;function R(e,t,n){var i,r,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,h=o*u-s*l;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(c),d=Math.sqrt(l*l+u*u),p=t.x-s/f,v=t.y+o/f,m=((n.x-u/d-p)*u-(n.y+l/d-v)*l)/(o*u-s*l),g=(i=p+o*m-e.x)*i+(r=v+s*m-e.y)*r;if(g<=2)return new Op(i,r);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(i=-s,r=o,a=Math.sqrt(c)):(i=o,r=s,a=Math.sqrt(c/2))}return new Op(i/a,r/a)}for(var z=[],N=0,F=P.length,U=F-1,j=N+1;N<F;N++,U++,j++)U===F&&(U=0),j===F&&(j=0),z[N]=R(P[N],P[U],P[j]);for(var H,G=[],V=z.concat(),Q=0,W=k.length;Q<W;Q++){var X=k[Q];H=[];for(var Y=0,J=X.length,q=J-1,Z=Y+1;Y<J;Y++,q++,Z++)q===J&&(q=0),Z===J&&(Z=0),H[Y]=R(X[Y],X[q],X[Z]);G.push(H),V=V.concat(H)}for(var K=0;K<y;K++){for(var $=K/y,ee=v*Math.cos($*Math.PI/2),te=m*Math.sin($*Math.PI/2)+g,ne=0,ie=P.length;ne<ie;ne++){var re=D(P[ne],z[ne],te);Le(re.x,re.y,-ee)}for(var ae=0,oe=k.length;ae<oe;ae++){var se=k[ae];H=G[ae];for(var le=0,ue=se.length;le<ue;le++){var ce=D(se[le],H[le],te);Le(ce.x,ce.y,-ee)}}}for(var he=m+g,fe=0;fe<B;fe++){var de=p?D(M[fe],V[fe],he):M[fe];b?(l.copy(n.normals[0]).multiplyScalar(de.x),i.copy(n.binormals[0]).multiplyScalar(de.y),u.copy(t[0]).add(l).add(i),Le(u.x,u.y,u.z)):Le(de.x,de.y,0)}for(var pe=1;pe<=f;pe++)for(var ve=0;ve<B;ve++){var me=p?D(M[ve],V[ve],he):M[ve];b?(l.copy(n.normals[pe]).multiplyScalar(me.x),i.copy(n.binormals[pe]).multiplyScalar(me.y),u.copy(t[pe]).add(l).add(i),Le(u.x,u.y,u.z)):Le(me.x,me.y,d/f*pe)}for(var ge=y-1;ge>=0;ge--){for(var ye=ge/y,we=v*Math.cos(ye*Math.PI/2),Ae=m*Math.sin(ye*Math.PI/2)+g,be=0,xe=P.length;be<xe;be++){var Me=D(P[be],z[be],Ae);Le(Me.x,Me.y,d+we)}for(var ke=0,Se=k.length;ke<Se;ke++){var Ee=k[ke];H=G[ke];for(var Ce=0,Te=Ee.length;Ce<Te;Ce++){var Pe=D(Ee[Ce],H[Ce],Ae);b?Le(Pe.x,Pe.y+t[f-1].y,t[f-1].x+we):Le(Pe.x,Pe.y,d+we)}}}function _e(e,t){for(var n=e.length;--n>=0;){var i=n,r=n-1;r<0&&(r=e.length-1);for(var a=0,o=f+2*y;a<o;a++){var s=B*a,l=B*(a+1);De(t+i+s,t+r+s,t+r+l,t+i+l)}}}function Le(e,t,n){c.push(e),c.push(t),c.push(n)}function Oe(e,t,n){Be(e),Be(t),Be(n);var i=o.length/3,r=A.generateTopUV(a,o,i-3,i-2,i-1);Ie(r[0]),Ie(r[1]),Ie(r[2])}function De(e,t,n,i){Be(e),Be(t),Be(i),Be(t),Be(n),Be(i);var r=o.length/3,s=A.generateSideWallUV(a,o,r-6,r-3,r-2,r-1);Ie(s[0]),Ie(s[1]),Ie(s[3]),Ie(s[1]),Ie(s[2]),Ie(s[3])}function Be(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function Ie(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(p){for(var t=0,n=B*t,i=0;i<I;i++){var r=T[i];Oe(r[2]+n,r[1]+n,r[0]+n)}n=B*(t=f+2*y);for(var s=0;s<I;s++){var l=T[s];Oe(l[0]+n,l[1]+n,l[2]+n)}}else{for(var u=0;u<I;u++){var c=T[u];Oe(c[2],c[1],c[0])}for(var h=0;h<I;h++){var d=T[h];Oe(d[0]+B*f,d[1]+B*f,d[2]+B*f)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;_e(P,t),t+=P.length;for(var n=0,i=k.length;n<i;n++){var r=k[n];_e(r,t),t+=r.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new km(o,3)),e.setAttribute("uv",new km(s,2)),e.computeVertexNormals(),e}return np(n,[{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var i=0,r=e.length;i<r;i++){var a=e[i];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var i=[],r=0,a=e.shapes.length;r<a;r++){var o=t[e.shapes[r]];i.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new Uy[s.type]).fromJSON(s)),new n(i,e.options)}}]),n}(Om),_w={generateTopUV:function(e,t,n,i,r){var a=t[3*n],o=t[3*n+1],s=t[3*i],l=t[3*i+1],u=t[3*r],c=t[3*r+1];return[new Op(a,o),new Op(s,l),new Op(u,c)]},generateSideWallUV:function(e,t,n,i,r,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*i],c=t[3*i+1],h=t[3*i+2],f=t[3*r],d=t[3*r+1],p=t[3*r+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new Op(o,1-l),new Op(u,1-h),new Op(f,1-p),new Op(v,1-g)]:[new Op(s,1-l),new Op(c,1-h),new Op(d,1-p),new Op(m,1-g)]}};var Lw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ep(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(e=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],i,r)).type="IcosahedronGeometry",e.parameters={radius:i,detail:r},e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Xy),Ow=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ep(this,n);return(e=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],i,r)).type="OctahedronGeometry",e.parameters={radius:i,detail:r},e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Xy),Dw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;ep(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:i,outerRadius:r,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a);for(var u=[],c=[],h=[],f=[],d=i,p=(r-i)/(o=Math.max(1,o)),v=new iv,m=new Op,g=0;g<=o;g++){for(var y=0;y<=a;y++){var w=s+y/a*l;v.x=d*Math.cos(w),v.y=d*Math.sin(w),c.push(v.x,v.y,v.z),h.push(0,0,1),m.x=(v.x/r+1)/2,m.y=(v.y/r+1)/2,f.push(m.x,m.y)}d+=p}for(var A=0;A<o;A++)for(var b=A*(a+1),x=0;x<a;x++){var M=x+b,k=M,S=M+a+1,E=M+a+2,C=M+1;u.push(k,S,C),u.push(S,E,C)}return e.setIndex(u),e.setAttribute("position",new km(c,3)),e.setAttribute("normal",new km(h,3)),e.setAttribute("uv",new km(f,2)),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(Om),Bw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ew([new Op(0,.5),new Op(-.5,-.5),new Op(.5,-.5)]),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;ep(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:i,curveSegments:r};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(i))f(i);else for(var h=0;h<i.length;h++)f(i[h]),e.addGroup(u,c,h),u+=c,c=0;function f(e){var t=o.length/3,n=e.extractPoints(r),i=n.shape,u=n.holes;!1===Ew.isClockWise(i)&&(i=i.reverse());for(var h=0,f=u.length;h<f;h++){var d=u[h];!0===Ew.isClockWise(d)&&(u[h]=d.reverse())}for(var p=Ew.triangulateShape(i,u),v=0,m=u.length;v<m;v++){var g=u[v];i=i.concat(g)}for(var y=0,w=i.length;y<w;y++){var A=i[y];o.push(A.x,A.y,0),s.push(0,0,1),l.push(A.x,A.y)}for(var b=0,x=p.length;b<x;b++){var M=p[b],k=M[0]+t,S=M[1]+t,E=M[2]+t;a.push(k,S,E),c+=3}}return e.setIndex(a),e.setAttribute("position",new km(o,3)),e.setAttribute("normal",new km(s,3)),e.setAttribute("uv",new km(l,2)),e}return np(n,[{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var i=[],r=0,a=e.shapes.length;r<a;r++){var o=t[e.shapes[r]];i.push(o)}return new n(i,e.curveSegments)}}]),n}(Om);var Iw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;ep(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:i,widthSegments:r,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},r=Math.max(3,Math.floor(r)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),h=0,f=[],d=new iv,p=new iv,v=[],m=[],g=[],y=[],w=0;w<=a;w++){var A=[],b=w/a,x=0;0==w&&0==l?x=.5/r:w==a&&c==Math.PI&&(x=-.5/r);for(var M=0;M<=r;M++){var k=M/r;d.x=-i*Math.cos(o+k*s)*Math.sin(l+b*u),d.y=i*Math.cos(l+b*u),d.z=i*Math.sin(o+k*s)*Math.sin(l+b*u),m.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),y.push(k+x,1-b),A.push(h++)}f.push(A)}for(var S=0;S<a;S++)for(var E=0;E<r;E++){var C=f[S][E+1],T=f[S][E],P=f[S+1][E],_=f[S+1][E+1];(0!==S||l>0)&&v.push(C,T,_),(S!==a-1||c<Math.PI)&&v.push(T,P,_)}return e.setIndex(v),e.setAttribute("position",new km(m,3)),e.setAttribute("normal",new km(g,3)),e.setAttribute("uv",new km(y,2)),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(Om),Rw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ep(this,n);return(e=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],i,r)).type="TetrahedronGeometry",e.parameters={radius:i,detail:r},e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Xy),zw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;ep(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:i,tube:r,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],u=[],c=[],h=[],f=new iv,d=new iv,p=new iv,v=0;v<=a;v++)for(var m=0;m<=o;m++){var g=m/o*s,y=v/a*Math.PI*2;d.x=(i+r*Math.cos(y))*Math.cos(g),d.y=(i+r*Math.cos(y))*Math.sin(g),d.z=r*Math.sin(y),u.push(d.x,d.y,d.z),f.x=i*Math.cos(g),f.y=i*Math.sin(g),p.subVectors(d,f).normalize(),c.push(p.x,p.y,p.z),h.push(m/o),h.push(v/a)}for(var w=1;w<=a;w++)for(var A=1;A<=o;A++){var b=(o+1)*w+A-1,x=(o+1)*(w-1)+A-1,M=(o+1)*(w-1)+A,k=(o+1)*w+A;l.push(b,x,k),l.push(x,M,k)}return e.setIndex(l),e.setAttribute("position",new km(u,3)),e.setAttribute("normal",new km(c,3)),e.setAttribute("uv",new km(h,2)),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(Om),Nw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;ep(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:i,tube:r,tubularSegments:a,radialSegments:o,p:s,q:l},a=Math.floor(a),o=Math.floor(o);for(var u=[],c=[],h=[],f=[],d=new iv,p=new iv,v=new iv,m=new iv,g=new iv,y=new iv,w=new iv,A=0;A<=a;++A){var b=A/a*s*Math.PI*2;O(b,s,l,i,v),O(b+.01,s,l,i,m),y.subVectors(m,v),w.addVectors(m,v),g.crossVectors(y,w),w.crossVectors(g,y),g.normalize(),w.normalize();for(var x=0;x<=o;++x){var M=x/o*Math.PI*2,k=-r*Math.cos(M),S=r*Math.sin(M);d.x=v.x+(k*w.x+S*g.x),d.y=v.y+(k*w.y+S*g.y),d.z=v.z+(k*w.z+S*g.z),c.push(d.x,d.y,d.z),p.subVectors(d,v).normalize(),h.push(p.x,p.y,p.z),f.push(A/a),f.push(x/o)}}for(var E=1;E<=a;E++)for(var C=1;C<=o;C++){var T=(o+1)*(E-1)+(C-1),P=(o+1)*E+(C-1),_=(o+1)*E+C,L=(o+1)*(E-1)+C;u.push(T,P,L),u.push(P,_,L)}function O(e,t,n,i,r){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);r.x=i*(2+l)*.5*a,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(s)*.5}return e.setIndex(u),e.setAttribute("position",new km(c,3)),e.setAttribute("normal",new km(h,3)),e.setAttribute("uv",new km(f,2)),e}return np(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(Om),Fw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ny(new iv(-1,-1,0),new iv(-1,1,0),new iv(1,1,0)),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ep(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:i,tubularSegments:r,radius:a,radialSegments:o,closed:s};var l=i.computeFrenetFrames(r,s);e.tangents=l.tangents,e.normals=l.normals,e.binormals=l.binormals;var u=new iv,c=new iv,h=new Op,f=new iv,d=[],p=[],v=[],m=[];function g(e){f=i.getPointAt(e/r,f);for(var t=l.normals[e],n=l.binormals[e],s=0;s<=o;s++){var h=s/o*Math.PI*2,v=Math.sin(h),m=-Math.cos(h);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=f.x+a*c.x,u.y=f.y+a*c.y,u.z=f.z+a*c.z,d.push(u.x,u.y,u.z)}}return function(){for(var e=0;e<r;e++)g(e);g(!1===s?r:0),function(){for(var e=0;e<=r;e++)for(var t=0;t<=o;t++)h.x=e/r,h.y=t/o,v.push(h.x,h.y)}(),function(){for(var e=1;e<=r;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),i=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,i,s),m.push(i,a,s)}}()}(),e.setIndex(m),e.setAttribute("position",new km(d,3)),e.setAttribute("normal",new km(p,3)),e.setAttribute("uv",new km(v,2)),e}return np(n,[{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new Uy[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(Om),Uw=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(ep(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:i},null!==i){var r=[],a=new Set,o=new iv,s=new iv;if(null!==i.index){var l=i.attributes.position,u=i.index,c=i.groups;0===c.length&&(c=[{start:0,count:u.count,materialIndex:0}]);for(var h=0,f=c.length;h<f;++h)for(var d=c[h],p=d.start,v=p,m=p+d.count;v<m;v+=3)for(var g=0;g<3;g++){var y=u.getX(v+g),w=u.getX(v+(g+1)%3);o.fromBufferAttribute(l,y),s.fromBufferAttribute(l,w),!0===jw(o,s,a)&&(r.push(o.x,o.y,o.z),r.push(s.x,s.y,s.z))}}else for(var A=i.attributes.position,b=0,x=A.count/3;b<x;b++)for(var M=0;M<3;M++){var k=3*b+M,S=3*b+(M+1)%3;o.fromBufferAttribute(A,k),s.fromBufferAttribute(A,S),!0===jw(o,s,a)&&(r.push(o.x,o.y,o.z),r.push(s.x,s.y,s.z))}e.setAttribute("position",new km(r,3))}return e}return np(n)}(Om);function jw(e,t,n){var i="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),r="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var Hw=Object.freeze({__proto__:null,BoxGeometry:Ym,CapsuleGeometry:Gy,CircleGeometry:Vy,ConeGeometry:Wy,CylinderGeometry:Qy,DodecahedronGeometry:Yy,EdgesGeometry:$y,ExtrudeGeometry:Pw,IcosahedronGeometry:Lw,LatheGeometry:Hy,OctahedronGeometry:Ow,PlaneGeometry:sg,PolyhedronGeometry:Xy,RingGeometry:Dw,ShapeGeometry:Bw,SphereGeometry:Iw,TetrahedronGeometry:Rw,TorusGeometry:zw,TorusKnotGeometry:Nw,TubeGeometry:Fw,WireframeGeometry:Uw}),Gw=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isShadowMaterial=!0,i.type="ShadowMaterial",i.color=new Jp(0),i.transparent=!0,i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(gm),Vw=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this,e)).isRawShaderMaterial=!0,i.type="RawShaderMaterial",i}return np(n)}(qm),Qw=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshStandardMaterial=!0,i.defines={STANDARD:""},i.type="MeshStandardMaterial",i.color=new Jp(16777215),i.roughness=1,i.metalness=0,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new Jp(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Op(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.roughnessMap=null,i.metalnessMap=null,i.alphaMap=null,i.envMap=null,i.envMapIntensity=1,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.flatShading=!1,i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(gm),Ww=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshPhysicalMaterial=!0,i.defines={STANDARD:"",PHYSICAL:""},i.type="MeshPhysicalMaterial",i.clearcoatMap=null,i.clearcoatRoughness=0,i.clearcoatRoughnessMap=null,i.clearcoatNormalScale=new Op(1,1),i.clearcoatNormalMap=null,i.ior=1.5,Object.defineProperty(Yd(i),"reflectivity",{get:function(){return Sp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),i.iridescenceMap=null,i.iridescenceIOR=1.3,i.iridescenceThicknessRange=[100,400],i.iridescenceThicknessMap=null,i.sheenColor=new Jp(0),i.sheenColorMap=null,i.sheenRoughness=1,i.sheenRoughnessMap=null,i.transmissionMap=null,i.thickness=0,i.thicknessMap=null,i.attenuationDistance=1/0,i.attenuationColor=new Jp(1,1,1),i.specularIntensity=1,i.specularIntensityMap=null,i.specularColor=new Jp(1,1,1),i.specularColorMap=null,i._sheen=0,i._clearcoat=0,i._iridescence=0,i._transmission=0,i.setValues(e),i}return np(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=Hd(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(Qw),Xw=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshPhongMaterial=!0,i.type="MeshPhongMaterial",i.color=new Jp(16777215),i.specular=new Jp(1118481),i.shininess=30,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new Jp(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Op(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.flatShading=!1,i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(gm),Yw=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshToonMaterial=!0,i.defines={TOON:""},i.type="MeshToonMaterial",i.color=new Jp(16777215),i.map=null,i.gradientMap=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new Jp(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Op(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(gm),Jw=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshNormalMaterial=!0,i.type="MeshNormalMaterial",i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Op(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.flatShading=!1,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(gm),qw=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshLambertMaterial=!0,i.type="MeshLambertMaterial",i.color=new Jp(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new Jp(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Op(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.flatShading=!1,i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(gm),Zw=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isMeshMatcapMaterial=!0,i.defines={MATCAP:""},i.type="MeshMatcapMaterial",i.color=new Jp(16777215),i.matcap=null,i.map=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new Op(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.flatShading=!1,i.fog=!0,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(gm),Kw=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this)).isLineDashedMaterial=!0,i.type="LineDashedMaterial",i.scale=1,i.dashSize=3,i.gapSize=1,i.setValues(e),i}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(ey);function $w(e,t,n){return tA(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function eA(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function tA(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nA(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort((function(t,n){return e[t]-e[n]})),n}function iA(e,t,n){for(var i=e.length,r=new e.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*t,l=0;l!==t;++l)r[o++]=e[s+l];return r}function rA(e,t,n,i){for(var r=1,a=e[0];void 0!==a&&void 0===a[i];)a=e[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[i])&&(t.push(a.time),n.push.apply(n,o)),a=e[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[i])&&(t.push(a.time),o.toArray(n,n.length)),a=e[r++]}while(void 0!==a);else do{void 0!==(o=a[i])&&(t.push(a.time),n.push(o)),a=e[r++]}while(void 0!==a)}}var aA=function(){function e(t,n,i,r){ep(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}return np(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var a;n:{i:if(!(e<i)){for(var o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(r=i,e<(i=t[++n]))break t}a=t.length;break n}if(e>=r)break e;var s=t[1];e<s&&(n=2,r=s);for(var l=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(i=r,e>=(r=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,a=0;a!==i;++a)t[a]=n[r+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),oA=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r,a){var o;return ep(this,n),(o=t.call(this,e,i,r,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:2400,endingEnd:2400},o}return np(n,[{key:"intervalChanged_",value:function(e,t,n){var i=this.parameterPositions,r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=e,o=2*t-n;break;case 2402:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+i[1]-i[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(i-t),p=d*d,v=p*d,m=-h*v+2*h*p-h*d,g=(1+h)*v+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*v+(1.5+f)*p+.5*d,w=f*v-f*p,A=0;A!==o;++A)r[A]=m*a[u+A]+g*a[l+A]+y*a[s+A]+w*a[c+A];return r}}]),n}(aA),sA=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r,a){return ep(this,n),t.call(this,e,i,r,a)}return np(n,[{key:"interpolate_",value:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(i-t),c=1-u,h=0;h!==o;++h)r[h]=a[l+h]*c+a[s+h]*u;return r}}]),n}(aA),lA=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r,a){return ep(this,n),t.call(this,e,i,r,a)}return np(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(aA),uA=function(){function e(t,n,i,r){if(ep(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=eA(n,this.TimeBufferType),this.values=eA(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}return np(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new lA(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new sA(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new oA(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case fp:t=this.InterpolantFactoryMethodDiscrete;break;case dp:t=this.InterpolantFactoryMethodLinear;break;case pp:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fp;case this.InterpolantFactoryMethodLinear:return dp;case this.InterpolantFactoryMethodSmooth:return pp}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<e;)++r;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==r||a!==i){r>=a&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=$w(n,r,a),this.values=$w(this.values,r*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==i&&tA(i))for(var l=0,u=i.length;l!==u;++l){var c=i[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=$w(this.times),t=$w(this.values),n=this.getValueSize(),i=this.getInterpolation()===pp,r=e.length-1,a=1,o=1;o<r;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(i)s=!0;else for(var u=o*n,c=u-n,h=u+n,f=0;f!==n;++f){var d=t[u+f];if(d!==t[c+f]||d!==t[h+f]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(r>0){e[a]=e[r];for(var g=r*n,y=a*n,w=0;w!==n;++w)t[y+w]=t[g+w];++a}return a!==e.length?(this.times=$w(e,0,a),this.values=$w(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=$w(this.times,0),t=$w(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:eA(e.times,Array),values:eA(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t}}]),e}();uA.prototype.TimeBufferType=Float32Array,uA.prototype.ValueBufferType=Float32Array,uA.prototype.DefaultInterpolation=dp;var cA=function(e){Qd(n,e);var t=Xd(n);function n(){return ep(this,n),t.apply(this,arguments)}return np(n)}(uA);cA.prototype.ValueTypeName="bool",cA.prototype.ValueBufferType=Array,cA.prototype.DefaultInterpolation=fp,cA.prototype.InterpolantFactoryMethodLinear=void 0,cA.prototype.InterpolantFactoryMethodSmooth=void 0;var hA=function(e){Qd(n,e);var t=Xd(n);function n(){return ep(this,n),t.apply(this,arguments)}return np(n)}(uA);hA.prototype.ValueTypeName="color";var fA=function(e){Qd(n,e);var t=Xd(n);function n(){return ep(this,n),t.apply(this,arguments)}return np(n)}(uA);fA.prototype.ValueTypeName="number";var dA=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r,a){return ep(this,n),t.call(this,e,i,r,a)}return np(n,[{key:"interpolate_",value:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(i-t),l=e*o,u=l+o;l!==u;l+=4)nv.slerpFlat(r,0,a,l-o,a,l,s);return r}}]),n}(aA),pA=function(e){Qd(n,e);var t=Xd(n);function n(){return ep(this,n),t.apply(this,arguments)}return np(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new dA(this.times,this.values,this.getValueSize(),e)}}]),n}(uA);pA.prototype.ValueTypeName="quaternion",pA.prototype.DefaultInterpolation=dp,pA.prototype.InterpolantFactoryMethodSmooth=void 0;var vA=function(e){Qd(n,e);var t=Xd(n);function n(){return ep(this,n),t.apply(this,arguments)}return np(n)}(uA);vA.prototype.ValueTypeName="string",vA.prototype.ValueBufferType=Array,vA.prototype.DefaultInterpolation=fp,vA.prototype.InterpolantFactoryMethodLinear=void 0,vA.prototype.InterpolantFactoryMethodSmooth=void 0;var mA=function(e){Qd(n,e);var t=Xd(n);function n(){return ep(this,n),t.apply(this,arguments)}return np(n)}(uA);mA.prototype.ValueTypeName="vector";var gA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2500;ep(this,e),this.name=t,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=kp(),this.duration<0&&this.resetDuration()}return np(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,a=n.length;r!==a;++r)t.push(yA(n[r]).scale(i));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},r=0,a=n.length;r!==a;++r)t.push(uA.toJSON(n[r]));return i}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,i){for(var r=t.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var u=nA(s);s=iA(s,1,u),l=iA(l,1,u),i||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new fA(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(r);if(l&&l.length>1){var u=l[1],c=i[u];c||(i[u]=c=[]),c.push(s)}}var h=[];for(var f in i)h.push(this.CreateFromMorphTargetSequence(f,i[f],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var a=[],o=[];rA(n,a,o,i),0!==a.length&&r.push(new e(t,a,o))}},i=[],r=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},f=void 0;for(f=0;f<c.length;f++)if(c[f].morphTargets)for(var d=0;d<c[f].morphTargets.length;d++)h[c[f].morphTargets[d]]=-1;for(var p in h){for(var v=[],m=[],g=0;g!==c[f].morphTargets.length;++g){var y=c[f];v.push(y.time),m.push(y.morphTarget===p?1:0)}i.push(new fA(".morphTargetInfluence["+p+"]",v,m))}s=h.length*a}else{var w=".bones["+t[u].name+"]";n(mA,w+".position",c,"pos",i),n(pA,w+".quaternion",c,"rot",i),n(mA,w+".scale",c,"scl",i)}}return 0===i.length?null:new this(r,s,i,o)}}]),e}();function yA(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return fA;case"vector":case"vector2":case"vector3":case"vector4":return mA;case"color":return hA;case"quaternion":return pA;case"bool":case"boolean":return cA;case"string":return vA}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],i=[];rA(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var wA={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},AA=np((function e(t,n,i){ep(this,e);var r=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=i,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var i=u[t],r=u[t+1];if(i.global&&(i.lastIndex=0),i.test(e))return r}return null}})),bA=new AA,xA=function(){function e(t){ep(this,e),this.manager=void 0!==t?t:bA,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return np(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),MA={},kA=function(e){Qd(n,e);var t=Xd(n);function n(e,i){var r;return ep(this,n),(r=t.call(this,e)).response=i,r}return np(n)}(Ud(Error)),SA=function(e){Qd(n,e);var t=Xd(n);function n(e){return ep(this,n),t.call(this,e)}return np(n,[{key:"load",value:function(e,t,n,i){var r=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=wA.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;if(void 0===MA[e]){MA[e]=[],MA[e].push({onLoad:t,onProgress:n,onError:i});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=MA[e],i=t.body.getReader(),r=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=r?parseInt(r):0,o=0!==a,s=0,l=new ReadableStream({start:function(e){!function t(){i.read().then((function(i){var r=i.done,l=i.value;if(r)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,h=n.length;c<h;c++){var f=n[c];f.onProgress&&f.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new kA('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,i=new TextDecoder(n);return e.arrayBuffer().then((function(e){return i.decode(e)}))}})).then((function(t){wA.add(e,t);var n=MA[e];delete MA[e];for(var i=0,r=n.length;i<r;i++){var a=n[i];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=MA[e];if(void 0===n)throw r.manager.itemError(e),t;delete MA[e];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e)})).finally((function(){r.manager.itemEnd(e)})),this.manager.itemStart(e)}else MA[e].push({onLoad:t,onProgress:n,onError:i})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(xA),EA=function(e){Qd(n,e);var t=Xd(n);function n(e){return ep(this,n),t.call(this,e)}return np(n,[{key:"load",value:function(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=wA.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;var o=zp("img");function s(){u(),wA.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){u(),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}}]),n}(xA),CA=function(e){Qd(n,e);var t=Xd(n);function n(e){return ep(this,n),t.call(this,e)}return np(n,[{key:"load",value:function(e,t,n,i){var r=new ev,a=new EA(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}]),n}(xA),TA=function(e){Qd(n,e);var t=Xd(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ep(this,n),(i=t.call(this)).isLight=!0,i.type="Light",i.color=new Jp(e),i.intensity=r,i}return np(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=Vd(qd(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(rm),PA=function(e){Qd(n,e);var t=Xd(n);function n(e,i,r){var a;return ep(this,n),(a=t.call(this,e,r)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(rm.DefaultUp),a.updateMatrix(),a.groundColor=new Jp(i),a}return np(n,[{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(TA),_A=new Dv,LA=new iv,OA=new iv,DA=function(){function e(t){ep(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Op(512,512),this.map=null,this.mapPass=null,this.matrix=new Dv,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new og,this._frameExtents=new Op(1,1),this._viewportCount=1,this._viewports=[new tv(0,0,1,1)]}return np(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;LA.setFromMatrixPosition(e.matrixWorld),t.position.copy(LA),OA.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(OA),t.updateMatrixWorld(),_A.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_A),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(_A)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),BA=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this,new Km(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return np(n,[{key:"updateMatrices",value:function(e){var t=this.camera,i=2*Mp*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;i===t.fov&&r===t.aspect&&a===t.far||(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),Vd(qd(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(DA),IA=function(e){Qd(n,e);var t=Xd(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return ep(this,n),(r=t.call(this,e,i)).isSpotLight=!0,r.type="SpotLight",r.position.copy(rm.DefaultUp),r.updateMatrix(),r.target=new rm,r.distance=a,r.angle=o,r.penumbra=s,r.decay=l,r.map=null,r.shadow=new BA,r}return np(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(TA),RA=new Dv,zA=new iv,NA=new iv,FA=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this,new Km(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new Op(4,2),e._viewportCount=6,e._viewports=[new tv(2,1,1,1),new tv(0,1,1,1),new tv(3,1,1,1),new tv(1,1,1,1),new tv(3,0,1,1),new tv(1,0,1,1)],e._cubeDirections=[new iv(1,0,0),new iv(-1,0,0),new iv(0,0,1),new iv(0,0,-1),new iv(0,1,0),new iv(0,-1,0)],e._cubeUps=[new iv(0,1,0),new iv(0,1,0),new iv(0,1,0),new iv(0,1,0),new iv(0,0,1),new iv(0,0,-1)],e}return np(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),zA.setFromMatrixPosition(e.matrixWorld),n.position.copy(zA),NA.copy(n.position),NA.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(NA),n.updateMatrixWorld(),i.makeTranslation(-zA.x,-zA.y,-zA.z),RA.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(RA)}}]),n}(DA),UA=function(e){Qd(n,e);var t=Xd(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return ep(this,n),(r=t.call(this,e,i)).isPointLight=!0,r.type="PointLight",r.distance=a,r.decay=o,r.shadow=new FA,r}return np(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return Vd(qd(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(TA),jA=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this,new lg(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return np(n)}(DA),HA=function(e){Qd(n,e);var t=Xd(n);function n(e,i){var r;return ep(this,n),(r=t.call(this,e,i)).isDirectionalLight=!0,r.type="DirectionalLight",r.position.copy(rm.DefaultUp),r.updateMatrix(),r.target=new rm,r.shadow=new jA,r}return np(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(TA),GA=function(e){Qd(n,e);var t=Xd(n);function n(e,i){var r;return ep(this,n),(r=t.call(this,e,i)).isAmbientLight=!0,r.type="AmbientLight",r}return np(n)}(TA),VA=function(e){Qd(n,e);var t=Xd(n);function n(e,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return ep(this,n),(r=t.call(this,e,i)).isRectAreaLight=!0,r.type="RectAreaLight",r.width=a,r.height=o,r}return np(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=Vd(qd(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(TA),QA=function(){function e(){ep(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new iv)}return np(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*i*1.092548),t.addScaledVector(a[5],i*r*1.092548),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],n*r*1.092548),t.addScaledVector(a[8],.546274*(n*n-i*i)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*i),t.addScaledVector(a[2],1.023328*r),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*i),t.addScaledVector(a[5],.858086*i*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],.858086*n*r),t.addScaledVector(a[8],.429043*(n*n-i*i)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}]),e}(),WA=function(e){Qd(n,e);var t=Xd(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new QA,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ep(this,n),(e=t.call(this,void 0,r)).isLightProbe=!0,e.sh=i,e}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=Vd(qd(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(TA),XA=function(e){Qd(n,e);var t=Xd(n);function n(e){var i;return ep(this,n),(i=t.call(this,e)).textures={},i}return np(n,[{key:"load",value:function(e,t,n,i){var r=this,a=new SA(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}}),n,i)}},{key:"parse",value:function(e){var t=this.textures;function i(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Jp).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=(new Jp).setHex(o.value);break;case"v2":r.uniforms[a].value=(new Op).fromArray(o.value);break;case"v3":r.uniforms[a].value=(new iv).fromArray(o.value);break;case"v4":r.uniforms[a].value=(new tv).fromArray(o.value);break;case"m3":r.uniforms[a].value=(new Dp).fromArray(o.value);break;case"m4":r.uniforms[a].value=(new Dv).fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)r.extensions[s]=e.extensions[s];if(void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=i(e.map)),void 0!==e.matcap&&(r.matcap=i(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=i(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=i(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=i(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var l=e.normalScale;!1===Array.isArray(l)&&(l=[l,l]),r.normalScale=(new Op).fromArray(l)}return void 0!==e.displacementMap&&(r.displacementMap=i(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=i(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=i(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=i(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=i(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=i(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=i(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=i(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=i(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=i(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=i(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=i(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Op).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=i(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=i(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=i(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=i(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:Gw,SpriteMaterial:yg,RawShaderMaterial:Vw,ShaderMaterial:qm,PointsMaterial:hy,MeshPhysicalMaterial:Ww,MeshStandardMaterial:Qw,MeshPhongMaterial:Xw,MeshToonMaterial:Yw,MeshNormalMaterial:Jw,MeshLambertMaterial:qw,MeshDepthMaterial:ug,MeshDistanceMaterial:cg,MeshBasicMaterial:ym,MeshMatcapMaterial:Zw,LineDashedMaterial:Kw,LineBasicMaterial:ey,Material:gm}[e]}}]),n}(xA),YA=function(){function e(){ep(this,e)}return np(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(r){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),JA=function(e){Qd(n,e);var t=Xd(n);function n(){var e;return ep(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return np(n,[{key:"copy",value:function(e){return Vd(qd(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=Vd(qd(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(Om),qA=function(e){Qd(n,e);var t=Xd(n);function n(e){return ep(this,n),t.call(this,e)}return np(n,[{key:"load",value:function(e,t,n,i){var r=this,a=new SA(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}}),n,i)}},{key:"parse",value:function(e){var t={},n={};function i(e,i){if(void 0!==t[i])return t[i];var r=e.interleavedBuffers[i],a=function(e,t){if(void 0!==n[t])return n[t];var i=e.arrayBuffers,r=i[t],a=new Uint32Array(r).buffer;return n[t]=a,a}(e,r.buffer),o=Rp(r.type,a),s=new vg(o,r.stride);return s.uuid=r.uuid,t[i]=s,s}var r=e.isInstancedBufferGeometry?new JA:new Om,a=e.data.index;if(void 0!==a){var o=Rp(a.type,a.array);r.setIndex(new bm(o,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){var h=i(e.data,u.data);c=new gg(h,u.itemSize,u.offset,u.normalized)}else{var f=Rp(u.type,u.array);c=new(u.isInstancedBufferAttribute?Xg:bm)(f,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),void 0!==u.usage&&c.setUsage(u.usage),void 0!==u.updateRange&&(c.updateRange.offset=u.updateRange.offset,c.updateRange.count=u.updateRange.count),r.setAttribute(l,c)}var d=e.data.morphAttributes;if(d)for(var p in d){for(var v=d[p],m=[],g=0,y=v.length;g<y;g++){var w=v[g],A=void 0;if(w.isInterleavedBufferAttribute){var b=i(e.data,w.data);A=new gg(b,w.itemSize,w.offset,w.normalized)}else{var x=Rp(w.type,w.array);A=new bm(x,w.itemSize,w.normalized)}void 0!==w.name&&(A.name=w.name),m.push(A)}r.morphAttributes[p]=m}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);var M=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==M)for(var k=0,S=M.length;k!==S;++k){var E=M[k];r.addGroup(E.start,E.count,E.materialIndex)}var C=e.data.boundingSphere;if(void 0!==C){var T=new iv;void 0!==C.center&&T.fromArray(C.center),r.boundingSphere=new kv(T,C.radius)}return e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}}]),n}(xA),ZA=function(e){Qd(n,e);var t=Xd(n);function n(e){return ep(this,n),t.call(this,e)}return np(n,[{key:"load",value:function(e,t,n,i){var r=this,a=""===this.path?YA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new SA(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==i&&i(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);r.parse(a,t)}),n,i)}},{key:"loadAsync",value:function(){var e=Fd(Kd().mark((function e(t,n){var i,r,a,o,s,l;return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,r=""===this.path?YA.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||r,(a=new SA(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(l=s.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,i.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,s,o,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),void 0!==t){var c=!1;for(var h in a)if(a[h].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(l)}return l}},{key:"parseAsync",value:function(){var e=Fd(Kd().mark((function e(t){var n,i,r,a,o,s,l,u;return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,i),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,r,s,o,n),u=this.parseSkeletons(t.skeletons,l),this.bindSkeletons(l,u),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new ew).fromJSON(e[n]);t[r.uuid]=r}return t}},{key:"parseSkeletons",value:function(e,t){var n={},i={};if(t.traverse((function(e){e.isBone&&(i[e.uuid]=e)})),void 0!==e)for(var r=0,a=e.length;r<a;r++){var o=(new Wg).fromJSON(e[r],i);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var i=new qA,r=0,a=e.length;r<a;r++){var o=void 0,s=e[r];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(s);break;default:s.type in Hw?o=Hw[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},i={};if(void 0!==e){var r=new XA;r.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var i=e[n],r=gA.parse(i);t[r.uuid]=r}return t}},{key:"parseImages",value:function(e,t){var n,i=this,r={};function a(e){if("string"===typeof e){var t=e;return function(e){return i.manager.itemStart(e),n.load(e,(function(){i.manager.itemEnd(e)}),void 0,(function(){i.manager.itemError(e),i.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:i.resourcePath+t)}return e.data?{data:Rp(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new AA(t);(n=new EA(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=u.url;if(Array.isArray(c)){for(var h=[],f=0,d=c.length;f<d;f++){var p=a(c[f]);null!==p&&(p instanceof HTMLImageElement?h.push(p):h.push(new Gg(p.data,p.width,p.height)))}r[u.uuid]=new Zp(h)}else{var v=a(u.url);r[u.uuid]=new Zp(v)}}}return r}},{key:"parseImagesAsync",value:function(){var e=Fd(Kd().mark((function e(t){var n,i,r,a,o,s,l,u,c,h,f,d,p,v,m;return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return o=Fd(Kd().mark((function e(t){var i,a;return Kd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(i=t)?i:n.resourcePath+i,e.next=5,r.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:Rp(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,i={},!(void 0!==t&&t.length>0)){e.next=33;break}(r=new EA(this.manager)).setCrossOrigin(this.crossOrigin),s=0,l=t.length;case 8:if(!(s<l)){e.next=33;break}if(u=t[s],c=u.url,!Array.isArray(c)){e.next=26;break}h=[],f=0,d=c.length;case 14:if(!(f<d)){e.next=23;break}return p=c[f],e.next=18,a(p);case 18:null!==(v=e.sent)&&(v instanceof HTMLImageElement?h.push(v):h.push(new Gg(v.data,v.width,v.height)));case 20:f++,e.next=14;break;case 23:i[u.uuid]=new Zp(h),e.next=30;break;case 26:return e.next=28,a(u.url);case 28:m=e.sent,i[u.uuid]=new Zp(m);case 30:s++,e.next=8;break;case 33:return e.abrupt("return",i);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,a=e.length;r<a;r++){var o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],l=s.data,u=void 0;Array.isArray(l)?(u=new $m,6===l.length&&(u.needsUpdate=!0)):(u=l&&l.data?new Gg:new ev,l&&(u.needsUpdate=!0)),u.source=s,u.uuid=o.uuid,void 0!==o.name&&(u.name=o.name),void 0!==o.mapping&&(u.mapping=n(o.mapping,KA)),void 0!==o.offset&&u.offset.fromArray(o.offset),void 0!==o.repeat&&u.repeat.fromArray(o.repeat),void 0!==o.center&&u.center.fromArray(o.center),void 0!==o.rotation&&(u.rotation=o.rotation),void 0!==o.wrap&&(u.wrapS=n(o.wrap[0],$A),u.wrapT=n(o.wrap[1],$A)),void 0!==o.format&&(u.format=o.format),void 0!==o.type&&(u.type=o.type),void 0!==o.encoding&&(u.encoding=o.encoding),void 0!==o.minFilter&&(u.minFilter=n(o.minFilter,eb)),void 0!==o.magFilter&&(u.magFilter=n(o.magFilter,eb)),void 0!==o.anisotropy&&(u.anisotropy=o.anisotropy),void 0!==o.flipY&&(u.flipY=o.flipY),void 0!==o.generateMipmaps&&(u.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(u.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(u.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(u.userData=o.userData),i[o.uuid]=u}return i}},{key:"parseObject",value:function(e,t,n,i,r){var a,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],i=0,r=e.length;i<r;i++){var a=e[i];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),i[e]}switch(e.type){case"Scene":a=new pg,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new Jp(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new dg(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new fg(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":a=new Km(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new lg(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new GA(e.color,e.intensity);break;case"DirectionalLight":a=new HA(e.color,e.intensity);break;case"PointLight":a=new UA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new VA(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new IA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new PA(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new WA).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=u(e.material),a=new jg(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=u(e.material),a=new Wm(o,s);break;case"InstancedMesh":o=l(e.geometry),s=u(e.material);var h=e.count,f=e.instanceMatrix,d=e.instanceColor;(a=new $g(o,s,h)).instanceMatrix=new Xg(new Float32Array(f.array),16),void 0!==d&&(a.instanceColor=new Xg(new Float32Array(d.array),d.itemSize));break;case"LOD":a=new Ig;break;case"Line":a=new oy(l(e.geometry),u(e.material));break;case"LineLoop":a=new cy(l(e.geometry),u(e.material));break;case"LineSegments":a=new uy(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new my(l(e.geometry),u(e.material));break;case"Sprite":a=new Lg(u(e.material));break;case"Group":a=new hg;break;case"Bone":a=new Hg;break;default:a=new rm}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,v=0;v<p.length;v++)a.add(this.parseObject(p[v],t,n,i,r));if(void 0!==e.animations)for(var m=e.animations,g=0;g<m.length;g++){var y=m[g];a.animations.push(r[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var w=e.levels,A=0;A<w.length;A++){var b=w[A],x=a.getObjectByProperty("uuid",b.object);void 0!==x&&a.addLevel(x,b.distance,b.hysteresis)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(xA),KA={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},$A={RepeatWrapping:op,ClampToEdgeWrapping:sp,MirroredRepeatWrapping:lp},eb={NearestFilter:up,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:cp,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008},tb=new Dv,nb=new Dv,ib=new Dv,rb=function(){function e(){ep(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Km,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Km,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return np(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ib.copy(e.projectionMatrix);var n,i,r=t.eyeSep/2,a=r*t.near/t.focus,o=t.near*Math.tan(xp*t.fov*.5)/t.zoom;nb.elements[12]=-r,tb.elements[12]=r,n=-o*t.aspect+a,i=o*t.aspect+a,ib.elements[0]=2*t.near/(i-n),ib.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(ib),n=-o*t.aspect-a,i=o*t.aspect-a,ib.elements[0]=2*t.near/(i-n),ib.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(ib)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(nb),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(tb)}}]),e}(),ab=new Op,ob=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Op(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Op(-1/0,-1/0);ep(this,e),this.isBox2=!0,this.min=t,this.max=n}return np(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=ab.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return ab.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();function sb(e){return function(e){if(Array.isArray(e))return lb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ub(e){return ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(e)}function cb(){return cb="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wb(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},cb.apply(this,arguments)}function hb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,db(i.key),i)}}function fb(e,t,n){return t&&hb(e.prototype,t),n&&hb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function db(e){var t=function(e,t){if("object"!==ub(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ub(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ub(t)?t:String(t)}function pb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vb(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mb(e,t)}function gb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wb(e);if(t){var r=wb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ub(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yb(e)}(this,n)}}function yb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wb(e)}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"148"}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="148");var Ab=Object.defineProperty;!function(e,t){for(var n in t)Ab(e,n,{get:t[n],enumerable:!0})}({},{AutorotateEvent:function(){return bb}});var bb=function(e){vb(n,e);var t=gb(n);function n(e){var i;return pb(this,n),(i=t.call(this,n.type)).autorotateEnabled=e,i}return fb(n)}(af);bb.type="autorotate";var xb=function(e){vb(n,e);var t=gb(n);function n(e){var i,r;return pb(this,n),(r=t.call(this,e,{className:"psv-autorotate-button",hoverScale:!0,collapsable:!0,tabbable:!0,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 41" overflow="visible"><g fill="currentColor" transform-origin="center" transform="scale(1.3)"><path d="M40.5 14.1c-.1-.1-1.2-.5-2.899-1-.101 0-.2-.1-.2-.2C34.5 6.5 28 2 20.5 2S6.6 6.5 3.7 12.9c0 .1-.1.1-.2.2-1.7.6-2.8 1-2.9 1l-.6.3v12.1l.6.2c.1 0 1.1.4 2.7.9.1 0 .2.1.2.199C6.3 34.4 12.9 39 20.5 39c7.601 0 14.101-4.6 16.9-11.1 0-.101.1-.101.2-.2 1.699-.6 2.699-1 2.8-1l.6-.3V14.3l-.5-.2zM20.5 4c5.8 0 10.9 3 13.8 7.5.2.3-.1.6-.399.5-3.8-1-8.8-2-13.6-2-4.7 0-9.5 1-13.2 2-.3.1-.5-.2-.4-.5C9.7 7 14.8 4 20.5 4zm0 33c-5.9 0-11.1-3.1-14-7.899-.2-.301.1-.601.4-.5 3.9 1 8.9 2.1 13.6 2.1 5 0 9.9-1 13.601-2 .3-.1.5.2.399.5A16.422 16.422 0 0 1 20.5 37zm18.601-12.1c0 .1-.101.3-.2.3-2.5.9-10.4 3.6-18.4 3.6-7.1 0-15.6-2.699-18.3-3.6C2.1 25.2 2 25 2 24.9V16c0-.1.1-.3.2-.3 2.6-.9 10.6-3.6 18.2-3.6 7.5 0 15.899 2.7 18.5 3.6.1 0 .2.2.2.3v8.9z"/><path d="M18.7 24l6.4-3.7c.3-.2.3-.7 0-.8l-6.4-3.8c-.3-.2-.7 0-.7.4v7.4c0 .5.4.7.7.5z"/></g>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>\n',iconActive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 41" overflow="visible"><g fill="currentColor" transform-origin="center" transform="scale(1.3)"><path d="M40.5 14.1c-.1-.1-1.2-.5-2.898-1-.102 0-.202-.1-.202-.2C34.5 6.5 28 2 20.5 2S6.6 6.5 3.7 12.9c0 .1-.1.1-.2.2-1.7.6-2.8 1-2.9 1l-.6.3v12.1l.6.2c.1 0 1.1.399 2.7.899.1 0 .2.101.2.199C6.3 34.4 12.9 39 20.5 39c7.602 0 14.102-4.6 16.9-11.1 0-.102.1-.102.199-.2 1.699-.601 2.699-1 2.801-1l.6-.3V14.3l-.5-.2zM6.701 11.5C9.7 7 14.8 4 20.5 4c5.8 0 10.9 3 13.8 7.5.2.3-.1.6-.399.5-3.799-1-8.799-2-13.6-2-4.7 0-9.5 1-13.2 2-.3.1-.5-.2-.4-.5zM25.1 20.3L18.7 24c-.3.2-.7 0-.7-.5v-7.4c0-.4.4-.6.7-.4l6.399 3.8c.301.1.301.6.001.8zm9.4 8.901A16.421 16.421 0 0 1 20.5 37c-5.9 0-11.1-3.1-14-7.898-.2-.302.1-.602.4-.5 3.9 1 8.9 2.1 13.6 2.1 5 0 9.9-1 13.602-2 .298-.1.5.198.398.499z"/></g>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>\n'})).plugin=r.viewer.getPlugin("autorotate"),null===(i=r.plugin)||void 0===i||i.addEventListener(bb.type,yb(r)),r}return fb(n,[{key:"destroy",value:function(){var e;null===(e=this.plugin)||void 0===e||e.removeEventListener(bb.type,this),cb(wb(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(e){e instanceof bb&&this.toggleActive(e.autorotateEnabled)}},{key:"onClick",value:function(){this.plugin.isEnabled()&&(this.plugin.config.autostartOnIdle=!1),this.plugin.toggle()}}]),n}(Qf);xb.id="autorotate";var Mb=$c.getConfigParser({autostartDelay:2e3,autostartOnIdle:!0,autorotateSpeed:$c.parseSpeed("2rpm"),autorotatePitch:null,autorotateZoomLvl:null,keypoints:null,startFromClosest:!0},{autostartOnIdle:function(e,t){var n=t.rawConfig;return e&&$c.isNil(n.autostartDelay)?($c.logWarn("autostartOnIdle requires a non null autostartDelay"),!1):e},autorotateSpeed:function(e){return $c.parseSpeed(e)},autorotatePitch:function(e){return $c.isNil(e)?null:$c.parseAngle(e,!0)},autorotateZoomLvl:function(e){return $c.isNil(e)?null:Lp.clamp(e,0,100)}});function kb(e){return[e.yaw,e.pitch]}var Sb=function(e){vb(n,e);var t=gb(n);function n(e,i){var r;return pb(this,n),(r=t.call(this,e,i)).state={initialStart:!0,enabled:!1,idx:-1,curve:[],startStep:null,endStep:null,startTime:null,stepDuration:null,remainingPause:null,lastTime:null,tooltip:null},r.state.initialStart=!$c.isNil(r.config.autostartDelay),r}return fb(n,[{key:"init",value:function(){cb(wb(n.prototype),"init",this).call(this),this.video=this.viewer.getPlugin("video"),this.markers=this.viewer.getPlugin("markers"),this.config.keypoints&&(this.setKeypoints(this.config.keypoints),delete this.config.keypoints),this.viewer.addEventListener(rf.StopAllEvent.type,this),this.viewer.addEventListener(rf.BeforeRenderEvent.type,this),this.video||this.viewer.addEventListener(rf.KeypressEvent.type,this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(rf.StopAllEvent.type,this),this.viewer.removeEventListener(rf.BeforeRenderEvent.type,this),this.viewer.removeEventListener(rf.KeypressEvent.type,this),delete this.video,delete this.markers,delete this.keypoints,cb(wb(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case rf.StopAllEvent.type:this.stop();break;case rf.BeforeRenderEvent.type:this.__beforeRender(e.timestamp);break;case rf.KeypressEvent.type:e.key===zc.KEY_CODES.Space&&(this.toggle(),e.preventDefault())}}},{key:"setKeypoints",value:function(e){var t=this;if(e){if(e.length<2)throw new Ph("At least two points are required");this.keypoints=e.map((function(e,n){var i,r={position:null,markerId:null,pause:0,tooltip:null};if("string"===typeof e?r.markerId=e:$c.isExtendedPosition(e)?i=e:(r.markerId=e.markerId,r.pause=e.pause,i=e.position,e.tooltip&&"object"===ub(e.tooltip)?r.tooltip=e.tooltip:"string"===typeof e.tooltip&&(r.tooltip={content:e.tooltip})),r.markerId){if(!t.markers)throw new Ph("Keypoint #".concat(n," references a marker but the markers plugin is not loaded"));var a=t.markers.getMarker(r.markerId);r.position=kb(a.state.position)}else{if(!i)throw new Ph("Keypoint #".concat(n," is missing marker or position"));r.position=kb(t.viewer.dataHelper.cleanPosition(i))}return r}))}else this.keypoints=null;this.isEnabled()&&(this.stop(),this.start())}},{key:"isEnabled",value:function(){return this.state.enabled}},{key:"start",value:function(){this.isEnabled()||(this.viewer.stopAll(),this.keypoints?this.config.startFromClosest&&this.__shiftKeypoints():this.__animate(),this.state.initialStart=!1,this.state.enabled=!0,this.dispatchEvent(new bb(!0)))}},{key:"stop",value:function(){this.isEnabled()&&(this.__reset(),this.__hideTooltip(),this.viewer.dynamics.position.stop(),this.viewer.dynamics.zoom.stop(),this.state.enabled=!1,this.dispatchEvent(new bb(!1)))}},{key:"toggle",value:function(){this.isEnabled()?this.stop():this.start()}},{key:"reverse",value:function(){this.isEnabled()&&!this.keypoints&&(this.config.autorotateSpeed=-this.config.autorotateSpeed,this.__animate())}},{key:"__animate",value:function(){var e=this;($c.isNil(this.config.autorotateZoomLvl)?Promise.resolve():this.viewer.animate({zoom:this.config.autorotateZoomLvl,speed:"".concat(2*this.viewer.config.zoomSpeed,"rpm")})).then((function(){var t;e.viewer.dynamics.position.roll({yaw:e.config.autorotateSpeed<0},Math.abs(e.config.autorotateSpeed/e.viewer.config.moveSpeed)),e.viewer.dynamics.position.goto({pitch:null!==(t=e.config.autorotatePitch)&&void 0!==t?t:e.viewer.config.defaultPitch},Math.abs(e.config.autorotateSpeed/e.viewer.config.moveSpeed))}))}},{key:"__reset",value:function(){this.state.idx=-1,this.state.curve=[],this.state.startStep=null,this.state.endStep=null,this.state.startTime=null,this.state.stepDuration=null,this.state.remainingPause=null,this.state.lastTime=null,this.state.tooltip=null}},{key:"__beforeRender",value:function(e){(this.state.initialStart||this.config.autostartOnIdle)&&this.viewer.state.idleTime>0&&e-this.viewer.state.idleTime>this.config.autostartDelay&&this.start(),this.isEnabled()&&this.keypoints&&(this.state.startTime||(this.state.endStep=kb(this.viewer.getPosition()),this.__nextStep(),this.state.startTime=e,this.state.lastTime=e),this.__nextFrame(e))}},{key:"__shiftKeypoints",value:function(){var e,t=kb(this.viewer.getPosition()),n=this.__findMinIndex(this.keypoints,(function(e){return $c.greatArcDistance(e.position,t)}));(e=this.keypoints).push.apply(e,sb(this.keypoints.splice(0,n)))}},{key:"__incrementIdx",value:function(){this.state.idx++,this.state.idx===this.keypoints.length&&(this.state.idx=0)}},{key:"__showTooltip",value:function(){var e=this.keypoints[this.state.idx];if(e.tooltip){var t=this.viewer.dataHelper.vector3ToViewerCoords(this.viewer.state.direction);this.state.tooltip=this.viewer.createTooltip({content:e.tooltip.content,position:e.tooltip.position,top:t.y,left:t.x})}else if(e.markerId){var n=this.markers.getMarker(e.markerId);n.showTooltip(),this.state.tooltip=n.tooltip}}},{key:"__hideTooltip",value:function(){if(this.state.tooltip){var e=this.keypoints[this.state.idx];if(e.tooltip)this.state.tooltip.hide();else if(e.markerId){this.markers.getMarker(e.markerId).hideTooltip()}this.state.tooltip=null}}},{key:"__nextPoint",value:function(){var e=[];if(-1===this.state.idx){var t=kb(this.viewer.getPosition());e.push(t,t,this.keypoints[0].position,this.keypoints[1].position)}else for(var n=-1;n<3;n++){var i=this.state.idx+n<0?this.keypoints[this.keypoints.length-1]:this.keypoints[(this.state.idx+n)%this.keypoints.length];e.push(i.position)}for(var r=[new Op(e[0][0],e[0][1])],a=0,o=1;o<=3;o++){var s=e[o-1][0]-e[o][0];s>Math.PI?a+=1:s<-Math.PI&&(a-=1),0!==a&&1===o&&(r[0].x-=2*a*Math.PI,a=0),r.push(new Op(e[o][0]+2*a*Math.PI,e[o][1]))}var l=new Fy(r).getPoints(48).map((function(e){return[e.x,e.y]}));this.state.curve=l.slice(17,33),-1!==this.state.idx?(this.state.remainingPause=this.keypoints[this.state.idx].pause,this.state.remainingPause?this.__showTooltip():this.__incrementIdx()):this.__incrementIdx()}},{key:"__nextStep",value:function(){0===this.state.curve.length&&(this.__nextPoint(),this.state.endStep[0]=$c.parseAngle(this.state.endStep[0])),this.state.startStep=this.state.endStep,this.state.endStep=this.state.curve.shift();var e=$c.greatArcDistance(this.state.startStep,this.state.endStep);this.state.stepDuration=1e3*e/Math.abs(this.config.autorotateSpeed),0===e&&this.__nextStep()}},{key:"__nextFrame",value:function(e){var t=e-this.state.lastTime;if(this.state.lastTime=e,this.state.remainingPause){if(this.state.remainingPause=Math.max(0,this.state.remainingPause-t),this.state.remainingPause>0)return;this.__hideTooltip(),this.__incrementIdx(),this.state.startTime=e}var n=(e-this.state.startTime)/this.state.stepDuration;n>=1&&(this.__nextStep(),n=0,this.state.startTime=e),this.viewer.rotate({yaw:this.state.startStep[0]+(this.state.endStep[0]-this.state.startStep[0])*n,pitch:this.state.startStep[1]+(this.state.endStep[1]-this.state.startStep[1])*n})}},{key:"__findMinIndex",value:function(e,t){var n=0,i=Number.MAX_VALUE;return e.forEach((function(e,r){var a=t(e);a<i&&(i=a,n=r)})),n}}]),n}(ld);function Eb(e){return Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(e)}function Cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cb(Object(n),!0).forEach((function(t){Pb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pb(e,t,n){return(t=Ib(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ob(){return Ob="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jb(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ob.apply(this,arguments)}function Db(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ib(i.key),i)}}function Bb(e,t,n){return t&&Db(e.prototype,t),n&&Db(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ib(e){var t=function(e,t){if("object"!==Eb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Eb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Eb(t)?t:String(t)}function Rb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zb(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nb(e,t)}function Nb(e,t){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nb(e,t)}function Fb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jb(e);if(t){var r=jb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Eb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ub(e)}(this,n)}}function Ub(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jb(e)}Sb.id="autorotate",Sb.configParser=Mb,Sb.readonlyOptions=["keypoints"],gd(xb,"start"),cd.lang[xb.id]="Automatic rotation";var Hb=Object.defineProperty;!function(e,t){for(var n in t)Hb(e,n,{get:t[n],enumerable:!0})}({},{EnterMarkerEvent:function(){return Xb},GotoMarkerDoneEvent:function(){return Qb},HideMarkersEvent:function(){return Zb},LeaveMarkerEvent:function(){return Wb},MarkerVisibilityEvent:function(){return Vb},MarkersPluginEvent:function(){return Gb},RenderMarkersListEvent:function(){return ex},SelectMarkerEvent:function(){return Yb},SelectMarkerListEvent:function(){return Jb},SetMarkersEvent:function(){return Kb},ShowMarkersEvent:function(){return $b},UnselectMarkerEvent:function(){return qb}});var Gb=function(e){zb(n,e);var t=Fb(n);function n(){return Rb(this,n),t.apply(this,arguments)}return Bb(n)}(af),Vb=function(e){zb(n,e);var t=Fb(n);function n(e,i){var r;return Rb(this,n),(r=t.call(this,n.type)).marker=e,r.visible=i,r}return Bb(n)}(Gb);Vb.type="marker-visibility";var Qb=function(e){zb(n,e);var t=Fb(n);function n(e){var i;return Rb(this,n),(i=t.call(this,n.type)).marker=e,i}return Bb(n)}(Gb);Qb.type="goto-marker-done";var Wb=function(e){zb(n,e);var t=Fb(n);function n(e){var i;return Rb(this,n),(i=t.call(this,n.type)).marker=e,i}return Bb(n)}(Gb);Wb.type="leave-marker";var Xb=function(e){zb(n,e);var t=Fb(n);function n(e){var i;return Rb(this,n),(i=t.call(this,n.type)).marker=e,i}return Bb(n)}(Gb);Xb.type="enter-marker";var Yb=function(e){zb(n,e);var t=Fb(n);function n(e,i,r){var a;return Rb(this,n),(a=t.call(this,n.type)).marker=e,a.doubleClick=i,a.rightClick=r,a}return Bb(n)}(Gb);Yb.type="select-marker";var Jb=function(e){zb(n,e);var t=Fb(n);function n(e){var i;return Rb(this,n),(i=t.call(this,n.type)).marker=e,i}return Bb(n)}(Gb);Jb.type="select-marker-list";var qb=function(e){zb(n,e);var t=Fb(n);function n(e){var i;return Rb(this,n),(i=t.call(this,n.type)).marker=e,i}return Bb(n)}(Gb);qb.type="unselect-marker";var Zb=function(e){zb(n,e);var t=Fb(n);function n(){return Rb(this,n),t.call(this,n.type)}return Bb(n)}(Gb);Zb.type="hide-markers";var Kb=function(e){zb(n,e);var t=Fb(n);function n(e){var i;return Rb(this,n),(i=t.call(this,n.type)).markers=e,i}return Bb(n)}(Gb);Kb.type="set-markers";var $b=function(e){zb(n,e);var t=Fb(n);function n(){return Rb(this,n),t.call(this,n.type)}return Bb(n)}(Gb);$b.type="show-markers";var ex=function(e){zb(n,e);var t=Fb(n);function n(e){var i;return Rb(this,n),(i=t.call(this,n.type)).markers=e,i}return Bb(n)}(Gb);ex.type="render-markers-list";var tx=function(e){zb(n,e);var t=Fb(n);function n(e){var i;return Rb(this,n),(i=t.call(this,e,{className:"psv-markers-button",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 9 81 81"><path fill="currentColor" d="M50.5 90S22.9 51.9 22.9 36.6 35.2 9 50.5 9s27.6 12.4 27.6 27.6S50.5 90 50.5 90zm0-66.3c-6.1 0-11 4.9-11 11s4.9 11 11 11 11-4.9 11-11-4.9-11-11-11z"/>\x3c!--Created by Rohith M S from the Noun Project--\x3e</svg>\n',hoverScale:!0,collapsable:!0,tabbable:!0})).plugin=i.viewer.getPlugin("markers"),i.plugin&&(i.plugin.addEventListener($b.type,Ub(i)),i.plugin.addEventListener(Zb.type,Ub(i)),i.toggleActive(!0)),i}return Bb(n,[{key:"destroy",value:function(){this.plugin&&(this.plugin.removeEventListener($b.type,this),this.plugin.removeEventListener(Zb.type,this)),Ob(jb(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(e){e instanceof $b?this.toggleActive(!0):e instanceof Zb&&this.toggleActive(!1)}},{key:"onClick",value:function(){this.plugin.toggleAllMarkers()}}]),n}(Qf);tx.id="markers";var nx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="9 9 81 81"><path fill="currentColor" d="M37.5 90S9.9 51.9 9.9 36.6 22.2 9 37.5 9s27.6 12.4 27.6 27.6S37.5 90 37.5 90zm0-66.3c-6.1 0-11 4.9-11 11s4.9 11 11 11 11-4.9 11-11-4.9-11-11-11zM86.7 55H70c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h16.7c1.8 0 3.3 1.5 3.3 3.3S88.5 55 86.7 55zm0-25h-15a3.3 3.3 0 0 1-3.3-3.3c0-1.8 1.5-3.3 3.3-3.3h15c1.8 0 3.3 1.5 3.3 3.3 0 1.8-1.5 3.3-3.3 3.3zM56.5 73h30c1.8 0 3.3 1.5 3.3 3.3 0 1.8-1.5 3.3-3.3 3.3h-30a3.3 3.3 0 0 1-3.3-3.3 3.2 3.2 0 0 1 3.3-3.3z"/>\x3c!--Created by Rohith M S from the Noun Project--\x3e</svg>\n',ix="http://www.w3.org/2000/svg",rx="psvMarker",ax=$c.dasherize(rx),ox="marker",sx="markersList",lx=function(e,t){return'\n<div class="psv-panel-menu psv-panel-menu--stripped">\n <h1 class="psv-panel-menu-title">'.concat(nx," ").concat(t,'</h1>\n <ul class="psv-panel-menu-list">\n   ').concat(e.map((function(e){return"\n   <li data-".concat(ax,'="').concat(e.id,'" class="psv-panel-menu-item" tabindex="0">\n     ').concat("image"===e.type?'<span class="psv-panel-menu-item-icon"><img src="'.concat(e.definition,'"/></span>'):"",'\n     <span class="psv-panel-menu-item-label">').concat(e.getListContent(),"</span>\n   </li>\n   ")})).join(""),"\n </ul>\n</div>\n")},ux=function(e){zb(n,e);var t=Fb(n);function n(e){var i;return Rb(this,n),(i=t.call(this,e,{className:" psv-markers-list-button",icon:nx,hoverScale:!0,collapsable:!0,tabbable:!0})).plugin=i.viewer.getPlugin("markers"),i.plugin&&(i.viewer.addEventListener(rf.ShowPanelEvent.type,Ub(i)),i.viewer.addEventListener(rf.HidePanelEvent.type,Ub(i))),i}return Bb(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(rf.ShowPanelEvent.type,this),this.viewer.removeEventListener(rf.HidePanelEvent.type,this),Ob(jb(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(e){e instanceof rf.ShowPanelEvent?this.toggleActive(e.panelId===sx):e instanceof rf.HidePanelEvent&&this.toggleActive(!1)}},{key:"onClick",value:function(){this.plugin.toggleMarkersList()}}]),n}(Qf);function cx(e,t,n){var i=_b(e,2),r=i[0],a=i[1],o=_b(t,2),s=o[0],l=o[1],u=$c.greatArcDistance(e,t),c=Math.sin((1-n)*u)/Math.sin(u),h=Math.sin(n*u)/Math.sin(u),f=c*Math.cos(a)*Math.cos(r)+h*Math.cos(l)*Math.cos(s),d=c*Math.cos(a)*Math.sin(r)+h*Math.cos(l)*Math.sin(s),p=c*Math.sin(a)+h*Math.sin(l);return[Math.atan2(d,f),Math.atan2(p,Math.sqrt(f*f+d*d))]}function hx(e){for(var t=[e[0]],n=0,i=1;i<e.length;i++){var r=e[i-1][0]-e[i][0];r>Math.PI?n+=1:r<-Math.PI&&(n-=1),t.push([e[i][0]+2*n*Math.PI,e[i][1]])}return t}ux.id="markersList";var fx=function(e){return e.image="image",e.imageLayer="imageLayer",e.html="html",e.polygon="polygon",e.polygonPixels="polygonPixels",e.polyline="polyline",e.polylinePixels="polylinePixels",e.square="square",e.rect="rect",e.circle="circle",e.ellipse="ellipse",e.path="path",e}(fx||{}),dx=function(){function e(t,n){if(Rb(this,e),this.viewer=t,this.visible=!0,this.state={dynamicSize:!1,anchor:null,visible:!1,staticTooltip:!1,position:null,position2D:null,positions3D:null,size:null},!n.id)throw new Ph("missing marker id");if(this.type=e.getType(n),this.isNormal())this.element=document.createElement("div");else if(this.isPolygon())this.element=document.createElementNS(ix,"polygon");else if(this.isPolyline())this.element=document.createElementNS(ix,"polyline");else if(this.isSvg()){var i="square"===this.type?"rect":this.type;this.element=document.createElementNS(ix,i)}else this.is3d()&&(this.element=this.__createMesh(),this.loader=new CA,this.viewer.config.withCredentials&&this.loader.setWithCredentials(!0));this.is3d()||(this.element.id="psv-marker-".concat(n.id),this.element[rx]=this),this.update(n)}return Bb(e,[{key:"id",get:function(){return this.config.id}},{key:"data",get:function(){return this.config.data}},{key:"domElement",get:function(){return this.is3d()?null:this.element}},{key:"threeElement",get:function(){return this.is3d()?this.element:null}},{key:"destroy",value:function(){this.hideTooltip(),this.is3d()?delete this.threeElement.children[0].userData[rx]:delete this.element[rx]}},{key:"is3d",value:function(){return"imageLayer"===this.type}},{key:"isNormal",value:function(){return"image"===this.type||"html"===this.type}},{key:"isPoly",value:function(){return this.isPolygon()||this.isPolyline()}},{key:"isPolyPixels",value:function(){return"polygonPixels"===this.type||"polylinePixels"===this.type}},{key:"isPolyAngles",value:function(){return"polygon"===this.type||"polyline"===this.type}},{key:"isPolygon",value:function(){return"polygon"===this.type||"polygonPixels"===this.type}},{key:"isPolyline",value:function(){return"polyline"===this.type||"polylinePixels"===this.type}},{key:"isSvg",value:function(){return"square"===this.type||"rect"===this.type||"circle"===this.type||"ellipse"===this.type||"path"===this.type}},{key:"getScale",value:function(e,t){if(!this.config.scale)return 1;if("function"===typeof this.config.scale)return this.config.scale(e,t);var n=1;if(Array.isArray(this.config.scale.zoom)){var i=_b(this.config.scale.zoom,2),r=i[0];n*=r+(i[1]-r)*zc.EASINGS.inQuad(e/100)}if(Array.isArray(this.config.scale.yaw)){var a=_b(this.config.scale.yaw,2),o=a[0],s=a[1],l=Lp.degToRad(this.viewer.state.hFov)/2,u=Math.abs($c.getShortestArc(this.state.position.yaw,t.yaw));n*=s+(o-s)*zc.EASINGS.outQuad(Math.max(0,(l-u)/l))}return n}},{key:"getListContent",value:function(){var e;return this.config.listContent?this.config.listContent:null!==(e=this.config.tooltip)&&void 0!==e&&e.content?this.config.tooltip.content:this.config.html?this.config.html:this.id}},{key:"showTooltip",value:function(e,t){var n;if(this.state.visible&&null!==(n=this.config.tooltip)&&void 0!==n&&n.content&&this.state.position2D){var i=Tb(Tb({},this.config.tooltip),{},{data:this,top:0,left:0});if(this.isPoly())if(e||t){var r=$c.getPosition(this.viewer.container);i.top=t-r.y,i.left=e-r.x,i.box={width:20,height:20}}else i.top=this.state.position2D.y,i.left=this.state.position2D.x;else i.top=this.state.position2D.y+this.state.size.height/2,i.left=this.state.position2D.x+this.state.size.width/2,i.box={width:this.state.size.width,height:this.state.size.height};this.tooltip?this.tooltip.move(i):this.tooltip=this.viewer.createTooltip(i)}}},{key:"refreshTooltip",value:function(){this.tooltip&&this.showTooltip()}},{key:"hideTooltip",value:function(){this.tooltip&&(this.tooltip.hide(),this.tooltip=null)}},{key:"update",value:function(t){var n=e.getType(t,!0);if(void 0!==n&&n!==this.type)throw new Ph("cannot change marker type");if($c.isExtendedPosition(t)&&($c.logWarn('Use the "position" property to configure the position of a marker'),t.position=this.viewer.dataHelper.cleanPosition(t)),"width"in t&&"height"in t&&($c.logWarn('Use the "size" property to configure the size of a marker'),t.size={width:t.width,height:t.height}),this.config=$c.deepmerge(this.config,t),"string"===typeof this.config.tooltip&&(this.config.tooltip={content:this.config.tooltip}),this.config.tooltip&&!this.config.tooltip.trigger&&(this.config.tooltip.trigger="hover"),this.config.scale&&Array.isArray(this.config.scale)&&(this.config.scale={zoom:this.config.scale}),this.visible=!1!==this.config.visible,this.state.anchor=$c.parsePoint(this.config.anchor),!this.is3d()){var i,r=this.domElement;this.isNormal()?r.setAttribute("class","psv-marker psv-marker--normal"):r.setAttribute("class","psv-marker psv-marker--svg"),this.config.className&&$c.addClasses(r,this.config.className),this.config.tooltip&&r.classList.add("psv-marker--has-tooltip"),this.config.content&&r.classList.add("psv-marler--has-content"),r.style.opacity="".concat(null!==(i=this.config.opacity)&&void 0!==i?i:1),this.config.style&&Object.assign(r.style,this.config.style)}this.isNormal()?this.__updateNormal():this.isPoly()?this.__updatePoly():this.isSvg()?this.__updateSvg():this.is3d()&&this.__update3d()}},{key:"__updateNormal",value:function(){var e=this.domElement;if(!$c.isExtendedPosition(this.config.position))throw new Ph("missing marker position");if(this.config.image&&!this.config.size)throw new Ph("missing marker size");this.config.size?(this.state.dynamicSize=!1,this.state.size=this.config.size,e.style.width=this.config.size.width+"px",e.style.height=this.config.size.height+"px"):this.state.dynamicSize=!0,this.config.image?(this.definition=this.config.image,e.style.backgroundImage="url(".concat(this.config.image,")")):this.config.html&&(this.definition=this.config.html,e.innerHTML=this.config.html),e.style.transformOrigin="".concat(100*this.state.anchor.x,"% ").concat(100*this.state.anchor.y,"%"),this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),this.state.positions3D=[this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position)]}},{key:"__updateSvg",value:function(){var e=this.domElement;if(!$c.isExtendedPosition(this.config.position))throw new Ph("missing marker position");switch(this.state.dynamicSize=!0,this.type){case"square":this.definition={x:0,y:0,width:this.config.square,height:this.config.square};break;case"rect":Array.isArray(this.config.rect)?this.definition={x:0,y:0,width:this.config.rect[0],height:this.config.rect[1]}:this.definition={x:0,y:0,width:this.config.rect.width,height:this.config.rect.height};break;case"circle":this.definition={cx:this.config.circle,cy:this.config.circle,r:this.config.circle};break;case"ellipse":Array.isArray(this.config.ellipse)?this.definition={cx:this.config.ellipse[0],cy:this.config.ellipse[1],rx:this.config.ellipse[0],ry:this.config.ellipse[1]}:this.definition={cx:this.config.ellipse.rx,cy:this.config.ellipse.ry,rx:this.config.ellipse.rx,ry:this.config.ellipse.ry};break;case"path":this.definition={d:this.config.path}}Object.entries(this.definition).forEach((function(t){var n=_b(t,2),i=n[0],r=n[1];e.setAttributeNS(null,i,r)})),this.config.svgStyle?Object.entries(this.config.svgStyle).forEach((function(t){var n=_b(t,2),i=n[0],r=n[1];e.setAttributeNS(null,$c.dasherize(i),r)})):e.setAttributeNS(null,"fill","rgba(0,0,0,0.5)"),this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),this.state.positions3D=[this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position)]}},{key:"__updatePoly",value:function(){var e=this,t=this.domElement;this.state.dynamicSize=!0,this.config.svgStyle?(Object.entries(this.config.svgStyle).forEach((function(e){var n=_b(e,2),i=n[0],r=n[1];t.setAttributeNS(null,$c.dasherize(i),r)})),this.isPolyline()&&!this.config.svgStyle.fill&&t.setAttributeNS(null,"fill","none")):this.isPolygon()?t.setAttributeNS(null,"fill","rgba(0,0,0,0.5)"):this.isPolyline()&&(t.setAttributeNS(null,"fill","none"),t.setAttributeNS(null,"stroke","rgb(0,0,0)"));var n=this.config[this.type];if(!Array.isArray(n[0]))for(var i=0;i<n.length;i++)n.splice(i,2,[n[i],n[i+1]]);this.isPolyPixels()?this.definition=n.map((function(t){var n=e.viewer.dataHelper.textureCoordsToSphericalCoords({textureX:t[0],textureY:t[1]});return[n.yaw,n.pitch]})):this.definition=n.map((function(e){return[$c.parseAngle(e[0]),$c.parseAngle(e[1],!0)]}));var r=this.isPolygon()?function(e){var t=hx(e).reduce((function(e,t){return[e[0]+t[0],e[1]+t[1]]}));return[$c.parseAngle(t[0]/e.length),t[1]/e.length]}(this.definition):function(e){for(var t=hx(e),n=0,i=[],r=0;r<t.length-1;r++){var a=$c.greatArcDistance(t[r],t[r+1])*zc.SPHERE_RADIUS;i.push(a),n+=a}for(var o=0,s=0;s<t.length-1;s++){if(o+i[s]>n/2){var l=(n/2-o)/i[s];return cx(t[s],t[s+1],l)}o+=i[s]}return t[Math.round(t.length/2)]}(this.definition);this.state.position={yaw:r[0],pitch:r[1]},this.state.positions3D=this.definition.map((function(t){return e.viewer.dataHelper.sphericalCoordsToVector3({yaw:t[0],pitch:t[1]})}))}},{key:"__update3d",value:function(){var e,t=this,n=this.threeElement;if(!$c.isExtendedPosition(this.config.position))throw new Ph("missing marker position");if(!this.config.size)throw new Ph("missing marker size");if(this.state.dynamicSize=!1,this.state.size=this.config.size,this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),this.state.positions3D=[this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position)],"imageLayer"===this.type){switch(this.definition!==this.config.imageLayer&&(this.viewer.config.requestHeaders&&this.loader.setRequestHeader(this.viewer.config.requestHeaders(this.config.imageLayer)),n.children[0].material.map=this.loader.load(this.config.imageLayer,(function(e){e.anisotropy=4,t.viewer.needsUpdate()})),this.definition=this.config.imageLayer),n.children[0].position.set(this.state.anchor.x-.5,this.state.anchor.y-.5,0),n.children[0].material.opacity=null!==(e=this.config.opacity)&&void 0!==e?e:1,n.position.copy(this.state.positions3D[0]),this.config.orientation){case"horizontal":n.lookAt(0,n.position.y,0),n.rotateX(this.state.position.pitch<0?-Math.PI/2:Math.PI/2);break;case"vertical-left":n.lookAt(0,0,0),n.rotateY(.4*-Math.PI);break;case"vertical-right":n.lookAt(0,0,0),n.rotateY(.4*Math.PI);break;default:n.lookAt(0,0,0)}n.scale.set(this.config.size.width/100,this.config.size.height/100,1)}}},{key:"__createMesh",value:function(){var e=new ym({transparent:!0,opacity:1,depthTest:!1}),t=new sg(1,1),n=new Wm(t,e);n.userData=Pb({},rx,this);var i=(new hg).add(n);return Object.defineProperty(i,"visible",{enumerable:!0,get:function(){return this.children[0].userData[rx].visible},set:function(e){this.children[0].userData[rx].visible=e}}),i}}],[{key:"getType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(Object.keys(fx).forEach((function(t){e[t]&&n.push(t)})),0===n.length&&!t)throw new Ph("missing marker content, either ".concat(Object.keys(fx).join(", ")));if(n.length>1)throw new Ph("multiple marker content, either ".concat(Object.keys(fx).join(", ")));return n[0]}}]),e}(),px=$c.getConfigParser({clickEventOnMarker:!1,gotoMarkerSpeed:"8rpm",markers:null}),vx=function(e){zb(n,e);var t=Fb(n);function n(e,i){var r;return Rb(this,n),(r=t.call(this,e,i)).markers={},r.state={visible:!0,showAllTooltips:!1,currentMarker:null,hoveringMarker:null},r.container=document.createElement("div"),r.container.className="psv-markers",r.container.style.cursor=r.viewer.config.mousemove?"move":"default",r.svgContainer=document.createElementNS(ix,"svg"),r.svgContainer.setAttribute("class","psv-markers-svg-container"),r.container.appendChild(r.svgContainer),r.container.addEventListener("mouseenter",Ub(r),!0),r.container.addEventListener("mouseleave",Ub(r),!0),r.container.addEventListener("mousemove",Ub(r),!0),r.container.addEventListener("contextmenu",Ub(r)),r}return Bb(n,[{key:"init",value:function(){Ob(jb(n.prototype),"init",this).call(this),this.viewer.container.appendChild(this.container),this.viewer.addEventListener(rf.ClickEvent.type,this),this.viewer.addEventListener(rf.DoubleClickEvent.type,this),this.viewer.addEventListener(rf.RenderEvent.type,this),this.viewer.addEventListener(rf.ConfigChangedEvent.type,this),this.viewer.addEventListener(rf.ObjectEnterEvent.type,this),this.viewer.addEventListener(rf.ObjectHoverEvent.type,this),this.viewer.addEventListener(rf.ObjectLeaveEvent.type,this),this.viewer.addEventListener(rf.ReadyEvent.type,this,{once:!0})}},{key:"destroy",value:function(){this.clearMarkers(!1),this.viewer.unobserveObjects(rx),this.viewer.removeEventListener(rf.ClickEvent.type,this),this.viewer.removeEventListener(rf.DoubleClickEvent.type,this),this.viewer.removeEventListener(rf.RenderEvent.type,this),this.viewer.removeEventListener(rf.ConfigChangedEvent.type,this),this.viewer.removeEventListener(rf.ObjectEnterEvent.type,this),this.viewer.removeEventListener(rf.ObjectHoverEvent.type,this),this.viewer.removeEventListener(rf.ObjectLeaveEvent.type,this),this.viewer.removeEventListener(rf.ReadyEvent.type,this),this.viewer.container.removeChild(this.container),Ob(jb(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case rf.ReadyEvent.type:this.config.markers&&(this.setMarkers(this.config.markers),delete this.config.markers);break;case rf.RenderEvent.type:this.renderMarkers();break;case rf.ClickEvent.type:this.__onClick(e,!1);break;case rf.DoubleClickEvent.type:this.__onClick(e,!0);break;case rf.ConfigChangedEvent.type:this.container.style.cursor=this.viewer.config.mousemove?"move":"default";break;case rf.ObjectEnterEvent.type:case rf.ObjectLeaveEvent.type:case rf.ObjectHoverEvent.type:if(e.userDataKey===rx){var t=e.originalEvent,n=e.object.userData[rx];switch(e.type){case rf.ObjectEnterEvent.type:this.__onMouseEnter(t,n);break;case rf.ObjectLeaveEvent.type:this.__onMouseLeave(t,n);break;case rf.ObjectHoverEvent.type:this.__onMouseMove(t,n)}}break;case"mouseenter":this.__onMouseEnter(e,this.__getTargetMarker(e.target));break;case"mouseleave":this.__onMouseLeave(e,this.__getTargetMarker(e.target));break;case"mousemove":this.__onMouseMove(e,this.__getTargetMarker(e.target));break;case"contextmenu":e.preventDefault()}}},{key:"toggleAllMarkers",value:function(){this.state.visible?this.hideAllMarkers():this.showAllMarkers()}},{key:"showAllMarkers",value:function(){this.state.visible=!0,this.renderMarkers(),this.dispatchEvent(new $b)}},{key:"hideAllMarkers",value:function(){this.state.visible=!1,this.renderMarkers(),this.dispatchEvent(new Zb)}},{key:"toggleAllTooltips",value:function(){this.state.showAllTooltips?this.hideAllTooltips():this.showAllTooltips()}},{key:"showAllTooltips",value:function(){this.state.showAllTooltips=!0,Object.values(this.markers).forEach((function(e){e.state.staticTooltip=!0,e.showTooltip()}))}},{key:"hideAllTooltips",value:function(){this.state.showAllTooltips=!1,Object.values(this.markers).forEach((function(e){e.state.staticTooltip=!1,e.hideTooltip()}))}},{key:"getNbMarkers",value:function(){return Object.keys(this.markers).length}},{key:"getMarkers",value:function(){return Object.values(this.markers)}},{key:"addMarker",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.markers[e.id])throw new Ph('marker "'.concat(e.id,'" already exists'));var n=new dx(this.viewer,e);if(n.isNormal())this.container.appendChild(n.domElement);else if(n.isPoly()||n.isSvg())this.svgContainer.appendChild(n.domElement);else{if(!n.is3d())throw new Ph("invalid state");this.viewer.renderer.addObject(n.threeElement)}this.markers[n.id]=n,t&&this.__afterChangerMarkers()}},{key:"getMarker",value:function(e){var t="object"===Eb(e)?e.id:e;if(!this.markers[t])throw new Ph('cannot find marker "'.concat(t,'"'));return this.markers[t]}},{key:"getCurrentMarker",value:function(){return this.state.currentMarker}},{key:"updateMarker",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getMarker(e.id).update(e),t&&this.__afterChangerMarkers()}},{key:"removeMarker",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getMarker(e);n.isNormal()?this.container.removeChild(n.domElement):n.isPoly()||n.isSvg()?this.svgContainer.removeChild(n.domElement):n.is3d()&&this.viewer.renderer.removeObject(n.threeElement),this.state.hoveringMarker===n&&(this.state.hoveringMarker=null),this.state.currentMarker===n&&(this.state.currentMarker=null),n.destroy(),delete this.markers[n.id],t&&this.__afterChangerMarkers()}},{key:"removeMarkers",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){return t.removeMarker(e,!1)})),n&&this.__afterChangerMarkers()}},{key:"setMarkers",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clearMarkers(!1),null===e||void 0===e||e.forEach((function(e){t.addMarker(e,!1)})),n&&this.__afterChangerMarkers()}},{key:"clearMarkers",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object.keys(this.markers).forEach((function(t){e.removeMarker(t,!1)})),t&&this.__afterChangerMarkers()}},{key:"gotoMarker",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.gotoMarkerSpeed,i=this.getMarker(e);return n?this.viewer.animate(Tb(Tb({},i.state.position),{},{zoom:i.config.zoomLvl,speed:n})).then((function(){t.dispatchEvent(new Qb(i))})):(this.viewer.rotate(i.state.position),$c.isNil(i.config.zoomLvl)||this.viewer.zoom(i.config.zoomLvl),this.dispatchEvent(new Qb(i)),Promise.resolve())}},{key:"hideMarker",value:function(e){this.toggleMarker(e,!1)}},{key:"showMarker",value:function(e){this.toggleMarker(e,!0)}},{key:"showMarkerTooltip",value:function(e){var t=this.getMarker(e);t.state.staticTooltip=!0,t.showTooltip()}},{key:"hideMarkerTooltip",value:function(e){var t=this.getMarker(e);t.state.staticTooltip=!1,t.hideTooltip()}},{key:"toggleMarker",value:function(e,t){var n=this.getMarker(e);n.visible=null===t?!n.visible:t,this.viewer.needsUpdate()}},{key:"showMarkerPanel",value:function(e){var t,n=this.getMarker(e);null!==n&&void 0!==n&&null!==(t=n.config)&&void 0!==t&&t.content?this.viewer.panel.show({id:ox,content:n.config.content}):this.hideMarkerPanel()}},{key:"hideMarkerPanel",value:function(){this.viewer.panel.hide(ox)}},{key:"toggleMarkersList",value:function(){this.viewer.panel.isVisible(sx)?this.hideMarkersList():this.showMarkersList()}},{key:"showMarkersList",value:function(){var e=this,t=[];Object.values(this.markers).forEach((function(e){e.visible&&!e.config.hideList&&t.push(e)}));var n=new ex(t);this.dispatchEvent(n),t=n.markers,this.viewer.panel.show({id:sx,content:lx(t,this.viewer.config.lang[tx.id]),noMargin:!0,clickHandler:function(t){var n=$c.getClosest(t,"li"),i=n?n.dataset[rx]:void 0;if(i){var r=e.getMarker(i);e.dispatchEvent(new Jb(r)),e.gotoMarker(r.id),e.hideMarkersList()}}})}},{key:"hideMarkersList",value:function(){this.viewer.panel.hide(sx)}},{key:"renderMarkers",value:function(){var e=this,t=this.viewer.getZoomLevel(),n=this.viewer.getPosition();Object.values(this.markers).forEach((function(i){var r,a,o=e.state.visible&&i.visible,s=null;if(o&&i.is3d())s=e.__getMarkerPosition(i),o=e.__isMarkerVisible(i,s);else if(o&&i.isPoly()){var l=e.__getPolyPositions(i);if(o=l.length>(i.isPolygon()?2:1)){s=e.__getMarkerPosition(i);var u=l.map((function(e){return e.x-s.x+","+(e.y-s.y)})).join(" ");i.domElement.setAttributeNS(null,"points",u),i.domElement.setAttributeNS(null,"transform","translate(".concat(s.x," ").concat(s.y,")"))}}else if(o&&(i.state.dynamicSize&&e.__updateMarkerSize(i),s=e.__getMarkerPosition(i),o=e.__isMarkerVisible(i,s))){var c=i.getScale(t,n);if(i.isSvg()){var h=s.x+i.state.size.width*i.state.anchor.x*(1-c),f=s.y+i.state.size.height*i.state.anchor.y*(1-c);i.domElement.setAttributeNS(null,"transform","translate(".concat(h,", ").concat(f,") scale(").concat(c,", ").concat(c,")"))}else i.domElement.style.transform="translate3D(".concat(s.x,"px, ").concat(s.y,"px, 0px) scale(").concat(c,", ").concat(c,")")}a=i.state.visible!==o,i.state.visible=o,i.state.position2D=o?s:null,i.is3d()||$c.toggleClass(i.domElement,"psv-marker--visible",o),o?i.state.staticTooltip?i.showTooltip():"click"===(null===(r=i.config.tooltip)||void 0===r?void 0:r.trigger)||i===e.state.hoveringMarker&&!i.isPoly()?i.refreshTooltip():i!==e.state.hoveringMarker&&i.hideTooltip():i.hideTooltip(),a&&e.dispatchEvent(new Vb(i,o))}))}},{key:"__isMarkerVisible",value:function(e,t){return e.state.positions3D[0].dot(this.viewer.state.direction)>0&&t.x+e.state.size.width>=0&&t.x-e.state.size.width<=this.viewer.state.size.width&&t.y+e.state.size.height>=0&&t.y-e.state.size.height<=this.viewer.state.size.height}},{key:"__updateMarkerSize",value:function(e){var t,n=e.domElement;n.classList.add("psv-marker--transparent"),e.isSvg()?(t=n.getAttributeNS(null,"transform"),n.removeAttributeNS(null,"transform")):(t=n.style.transform,n.style.transform="");var i=n.getBoundingClientRect();e.state.size={width:i.width,height:i.height},n.classList.remove("psv-marker--transparent"),t&&(e.isSvg()?n.setAttributeNS(null,"transform",t):n.style.transform=t),e.state.dynamicSize=!1}},{key:"__getMarkerPosition",value:function(e){if(e.isPoly())return this.viewer.dataHelper.sphericalCoordsToViewerCoords(e.state.position);var t=this.viewer.dataHelper.vector3ToViewerCoords(e.state.positions3D[0]);return t.x-=e.state.size.width*e.state.anchor.x,t.y-=e.state.size.height*e.state.anchor.y,t}},{key:"__getPolyPositions",value:function(e){var t=this,n=e.state.positions3D.length,i=e.state.positions3D.map((function(e){return{vector:e,visible:e.dot(t.viewer.state.direction)>0}})),r=[];return i.forEach((function(e,t){e.visible||[0===t?i[n-1]:i[t-1],t===n-1?i[0]:i[t+1]].forEach((function(n){n.visible&&r.push({visible:n.vector,invisible:e.vector,index:t})}))})),r.reverse().forEach((function(e){i.splice(e.index,0,{vector:t.__getPolyIntermediaryPoint(e.visible,e.invisible),visible:!0})})),i.filter((function(e){return e.visible})).map((function(e){return t.viewer.dataHelper.vector3ToViewerCoords(e.vector)}))}},{key:"__getPolyIntermediaryPoint",value:function(e,t){var n=this.viewer.state.direction.clone().normalize(),i=(new iv).crossVectors(e,t).normalize(),r=(new iv).crossVectors(i,e).normalize(),a=e.clone().multiplyScalar(-n.dot(r)),o=r.clone().multiplyScalar(n.dot(e)),s=(new iv).addVectors(a,o).normalize(),l=(new iv).crossVectors(s,n);return s.applyAxisAngle(l,.01).multiplyScalar(zc.SPHERE_RADIUS)}},{key:"__getTargetMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?$c.getClosest(e,".psv-marker"):e;return t?t[rx]:void 0}},{key:"__targetOnTooltip",value:function(e,t){return!(!e||!t)&&$c.hasParent(e,t.container)}},{key:"__onMouseEnter",value:function(e,t){var n;t&&!t.isPoly()&&(this.state.hoveringMarker=t,this.dispatchEvent(new Xb(t)),t.state.staticTooltip||"hover"!==(null===(n=t.config.tooltip)||void 0===n?void 0:n.trigger)||t.showTooltip(e.clientX,e.clientY))}},{key:"__onMouseLeave",value:function(e,t){var n;!t||t.isPoly()&&this.__targetOnTooltip(e.relatedTarget,t.tooltip)||(this.dispatchEvent(new Wb(t)),this.state.hoveringMarker=null,t.state.staticTooltip||"hover"!==(null===(n=t.config.tooltip)||void 0===n?void 0:n.trigger)||t.hideTooltip())}},{key:"__onMouseMove",value:function(e,t){var n,i;null!==t&&void 0!==t&&t.isPoly()?i=t:this.state.hoveringMarker&&this.__targetOnTooltip(e.target,this.state.hoveringMarker.tooltip)&&(i=this.state.hoveringMarker),i?(this.state.hoveringMarker||(this.dispatchEvent(new Xb(i)),this.state.hoveringMarker=i),i.state.staticTooltip||i.showTooltip(e.clientX,e.clientY)):null!==(n=this.state.hoveringMarker)&&void 0!==n&&n.isPoly()&&(this.dispatchEvent(new Wb(this.state.hoveringMarker)),this.state.hoveringMarker.state.staticTooltip||this.state.hoveringMarker.hideTooltip(),this.state.hoveringMarker=null)}},{key:"__onClick",value:function(e,t){var n,i,r,a=null===(n=e.data.objects.find((function(e){return e.userData[rx]})))||void 0===n?void 0:n.userData[rx];(a||(a=this.__getTargetMarker(e.data.target,!0)),this.state.currentMarker&&this.state.currentMarker!==a)&&(this.dispatchEvent(new qb(this.state.currentMarker)),this.viewer.panel.hide(ox),this.state.showAllTooltips||"click"!==(null===(i=this.state.currentMarker.config.tooltip)||void 0===i?void 0:i.trigger)||this.hideMarkerTooltip(this.state.currentMarker.id),this.state.currentMarker=null);a&&(this.state.currentMarker=a,this.dispatchEvent(new Yb(a,t,e.data.rightclick)),this.config.clickEventOnMarker?e.data.marker=a:e.stopImmediatePropagation(),this.markers[a.id]&&("click"===(null===(r=a.config.tooltip)||void 0===r?void 0:r.trigger)?a.tooltip?this.hideMarkerTooltip(a):this.showMarkerTooltip(a):this.showMarkerPanel(a.id)))}},{key:"__afterChangerMarkers",value:function(){this.__refreshUi(),this.__checkObjectsObserver(),this.viewer.needsUpdate(),this.dispatchEvent(new Kb(this.getMarkers()))}},{key:"__refreshUi",value:function(){var e,t,n=Object.values(this.markers).filter((function(e){return!e.config.hideList})).length;0===n?(this.viewer.panel.isVisible(sx)||this.viewer.panel.isVisible(ox))&&this.viewer.panel.hide():this.viewer.panel.isVisible(sx)?this.showMarkersList():this.viewer.panel.isVisible(ox)&&(this.state.currentMarker?this.showMarkerPanel(this.state.currentMarker.id):this.viewer.panel.hide()),null===(e=this.viewer.navbar.getButton(tx.id,!1))||void 0===e||e.toggle(n>0),null===(t=this.viewer.navbar.getButton(ux.id,!1))||void 0===t||t.toggle(n>0)}},{key:"__checkObjectsObserver",value:function(){Object.values(this.markers).some((function(e){return e.is3d()}))?this.viewer.observeObjects(rx):this.viewer.unobserveObjects(rx)}}]),n}(ld);function mx(e){return mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(e)}function gx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ax(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,xx(i.key),i)}}function bx(e,t,n){return t&&Ax(e.prototype,t),n&&Ax(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xx(e){var t=function(e,t){if("object"!==mx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==mx(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mx(t)?t:String(t)}function Mx(){return Mx="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tx(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Mx.apply(this,arguments)}function kx(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sx(e,t)}function Sx(e,t){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sx(e,t)}function Ex(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Tx(e);if(t){var r=Tx(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===mx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cx(e)}(this,n)}}function Cx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tx(e){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tx(e)}vx.id="markers",vx.configParser=px,vx.readonlyOptions=["markers"],cd.lang[tx.id]="Markers",cd.lang[ux.id]="Markers list",gd(tx,"caption:left"),gd(ux,"caption:left");var Px=1/40,_x=function(e){kx(n,e);var t=Ex(n);function n(e,i){var r;return wx(this,n),(r=t.call(this,e,{})).plugin=i,r.state={visible:!0,mouse:null,mousedown:!1,markers:[]},r.background=document.createElement("div"),r.canvas=document.createElement("canvas"),r.container.appendChild(r.background),r.container.appendChild(r.canvas),r.config.navigation&&(r.container.addEventListener("mouseenter",Cx(r)),r.container.addEventListener("mouseleave",Cx(r)),r.container.addEventListener("mousemove",Cx(r)),r.container.addEventListener("mousedown",Cx(r)),r.container.addEventListener("mouseup",Cx(r)),r.container.addEventListener("touchstart",Cx(r)),r.container.addEventListener("touchmove",Cx(r)),r.container.addEventListener("touchend",Cx(r))),r.applyConfig(),r.hide(),r}return bx(n,[{key:"config",get:function(){return this.plugin.config}},{key:"handleEvent",value:function(e){var t,n;switch(e.type){case"mouseenter":case"mousemove":case"touchmove":this.state.mouse=(null===(t=e.changedTouches)||void 0===t?void 0:t[0])||e,this.state.mousedown?this.click():this.update(),e.stopPropagation(),e.preventDefault();break;case"mousedown":case"touchstart":this.state.mousedown=!0,e.stopPropagation(),e.preventDefault();break;case"mouseup":case"touchend":this.state.mouse=(null===(n=e.changedTouches)||void 0===n?void 0:n[0])||e,this.state.mousedown=!1,this.click(),e.changedTouches&&(this.state.mouse=null,this.update()),e.stopPropagation(),e.preventDefault();break;case"mouseleave":this.state.mouse=null,this.state.mousedown=!1,this.update()}}},{key:"applyConfig",value:function(){this.container.className="psv-compass psv-compass--".concat(this.config.position.join("-")),this.background.innerHTML=this.config.backgroundSvg,this.container.style.width=this.config.size,this.container.style.height=this.config.size,this.container.style.marginTop="center"===this.config.position[0]?"calc(-".concat(this.config.size," / 2)"):"",this.container.style.marginLeft="center"===this.config.position[1]?"calc(-".concat(this.config.size," / 2)"):""}},{key:"show",value:function(){Mx(Tx(n.prototype),"show",this).call(this),this.update()}},{key:"setMarkers",value:function(e){this.state.markers=e,this.update()}},{key:"update",value:function(){var e,t=this;if(this.isVisible()){this.canvas.width=this.container.clientWidth*Uf.pixelRatio,this.canvas.height=this.container.clientWidth*Uf.pixelRatio;var n=this.canvas.getContext("2d");n.clearRect(0,0,this.canvas.width,this.canvas.height);var i=this.viewer.getPosition().yaw,r=Lp.degToRad(this.viewer.state.hFov);this.__drawCone(n,this.config.coneColor,i,r);var a=this.__getMouseAngle();null!==a&&this.__drawCone(n,this.config.navigationColor,a,r),this.state.markers.forEach((function(e){t.__drawMarker(n,e)})),null===(e=this.config.hotspots)||void 0===e||e.forEach((function(e){"yaw"in e&&!("pitch"in e)&&(e.pitch=0);var i=t.viewer.dataHelper.cleanPosition(e);t.__drawPoint(n,e.color||t.config.hotspotColor,i.yaw,i.pitch)}))}}},{key:"click",value:function(){var e=this.__getMouseAngle();null!==e&&this.viewer.rotate({yaw:e,pitch:0})}},{key:"__drawCone",value:function(e,t,n,i){var r=n-Math.PI/2-i/2,a=r+i,o=this.canvas.width/2;e.beginPath(),e.moveTo(o,o),e.lineTo(o+Math.cos(r)*o,o+Math.sin(r)*o),e.arc(o,o,o,r,a,!1),e.lineTo(o,o),e.fillStyle=t,e.fill()}},{key:"__drawMarker",value:function(e,t){var n=this,i=this.config.hotspotColor;if("string"===typeof t.data.compass&&(i=t.data.compass),t.isPoly())e.beginPath(),t.definition.forEach((function(t,i){var r=gx(t,2),a=r[0],o=r[1],s=a-Math.PI/2,l=(o+Math.PI/2)/Math.PI,u=n.canvas.width/2;e[0===i?"moveTo":"lineTo"](u+Math.cos(s)*u*l,u+Math.sin(s)*u*l)})),t.isPolygon()?(e.fillStyle=i,e.fill()):(e.strokeStyle=i,e.lineWidth=Math.max(1,this.canvas.width*Px/2),e.stroke());else{var r=t.state.position;this.__drawPoint(e,i,r.yaw,r.pitch)}}},{key:"__drawPoint",value:function(e,t,n,i){var r=n-Math.PI/2,a=(i+Math.PI/2)/Math.PI,o=this.canvas.width/2,s=Math.max(2,this.canvas.width*Px);e.beginPath(),e.ellipse(o+Math.cos(r)*o*a,o+Math.sin(r)*o*a,s,s,0,0,2*Math.PI),e.fillStyle=t,e.fill()}},{key:"__getMouseAngle",value:function(){if(!this.state.mouse)return null;var e=this.container.getBoundingClientRect(),t=this.state.mouse.clientX-e.left-e.width/2,n=this.state.mouse.clientY-e.top-e.width/2;return Math.sqrt(t*t+n*n)>e.width/2?null:Math.atan2(n,t)+Math.PI/2}}]),n}(Gf),Lx=$c.getConfigParser({size:"120px",position:["top","left"],backgroundSvg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="50" fill="rgba(61, 61, 61, .5)"/><path fill="rgba(255, 255, 255, .7)" d="M50 97.1A47 47 0 0 1 32.5 6.5l.8 1.8a45 45 0 1 0 33.4 0l.8-1.8A47 47 0 0 1 50 97Zm0-42a5 5 0 1 1 5-5 5 5 0 0 1-5 5Zm4-41.7h-1.6a.4.4 0 0 1-.4-.2l-4.6-7.7V13a.3.3 0 0 1-.3.3h-1.6a.3.3 0 0 1-.3-.3V1.8a.3.3 0 0 1 .3-.3h1.6a.3.3 0 0 1 .4.2L52 9.4V1.8a.3.3 0 0 1 .3-.3H54c.2 0 .3 0 .3.3V13c0 .2-.1.3-.3.3Z"/></svg>\n',coneColor:"rgba(255, 255, 255, 0.5)",navigation:!0,navigationColor:"rgba(255, 0, 0, 0.2)",hotspots:[],hotspotColor:"rgba(0, 0, 0, 0.5)"},{position:function(e,t){var n=t.defValue;return $c.cleanCssPosition(e,{allowCenter:!0,cssOrder:!0})||n}}),Ox=function(e){kx(n,e);var t=Ex(n);function n(e,i){var r;return wx(this,n),(r=t.call(this,e,i)).component=new _x(r.viewer,Cx(r)),r}return bx(n,[{key:"init",value:function(){Mx(Tx(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.viewer.addEventListener(rf.RenderEvent.type,this),this.viewer.addEventListener(rf.ReadyEvent.type,this,{once:!0}),this.markers&&this.markers.addEventListener("set-markers",this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(rf.RenderEvent.type,this),this.viewer.removeEventListener(rf.ReadyEvent.type,this),this.markers&&this.markers.removeEventListener("set-markers",this),this.component.destroy(),delete this.markers,Mx(Tx(n.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(e){Mx(Tx(n.prototype),"setOptions",this).call(this,e),this.component.applyConfig(),this.component.update()}},{key:"handleEvent",value:function(e){switch(e.type){case rf.ReadyEvent.type:this.component.show();break;case rf.RenderEvent.type:this.component.update();break;case"set-markers":this.component.setMarkers(e.markers.filter((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.compass})))}}},{key:"hide",value:function(){this.component.hide()}},{key:"show",value:function(){this.component.show()}},{key:"setHotspots",value:function(e){this.config.hotspots=e,this.component.update()}},{key:"clearHotspots",value:function(){this.setHotspots(null)}}]),n}(ld);function Dx(e){return Dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(e)}function Bx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bx(Object(n),!0).forEach((function(t){Rx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rx(e,t,n){return(t=Ux(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zx(){return zx="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wx(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},zx.apply(this,arguments)}function Nx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ux(i.key),i)}}function Fx(e,t,n){return t&&Nx(e.prototype,t),n&&Nx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ux(e){var t=function(e,t){if("object"!==Dx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Dx(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dx(t)?t:String(t)}function jx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hx(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gx(e,t)}function Gx(e,t){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gx(e,t)}function Vx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Wx(e);if(t){var r=Wx(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Dx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qx(e)}(this,n)}}function Qx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wx(e)}Ox.id="compass",Ox.configParser=Lx,Ox.readonlyOptions=["navigation"];var Xx=Object.defineProperty;!function(e,t){for(var n in t)Xx(e,n,{get:t[n],enumerable:!0})}({},{HideGalleryEvent:function(){return Jx},ShowGalleryEvent:function(){return Yx}});var Yx=function(e){Hx(n,e);var t=Vx(n);function n(){return jx(this,n),t.call(this,n.type)}return Fx(n)}(af);Yx.type="show-gallery";var Jx=function(e){Hx(n,e);var t=Vx(n);function n(){return jx(this,n),t.call(this,Yx.type)}return Fx(n)}(af);Jx.type="hide-gallery";var qx=function(e){Hx(n,e);var t=Vx(n);function n(e){var i;return jx(this,n),(i=t.call(this,e,{className:"psv-gallery-button",hoverScale:!0,collapsable:!0,tabbable:!0,icon:'<svg viewBox="185 115 330 330" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M186.7 326.7V163.3c0-15 8.3-23.3 23.3-23.3h210c15 0 23.3 8.3 23.3 23.3v163.4c0 15-8.3 23.3-23.3 23.3H210c-15 0-23.3-8.3-23.3-23.3zm70 70v-23.4H420c30.2 0 46.7-16.4 46.7-46.6V210H490c15 0 23.3 8.3 23.3 23.3v163.4c0 15-8.3 23.3-23.3 23.3H280c-15 0-23.3-8.3-23.3-23.3zm-23.8-105H397l-40-50.4-26.7 29.7-44.3-54.5zm106.7-76c9.6 0 17.8-7.8 17.8-17.2a18 18 0 0 0-17.8-17.8c-9.4 0-17.2 8.2-17.2 17.8 0 9.4 7.8 17.2 17.2 17.2z"/>\x3c!--Created by Wolf B\xf6se from the Noun Project--\x3e</svg>'})).plugin=i.viewer.getPlugin("gallery"),i.plugin&&(i.plugin.addEventListener(Yx.type,Qx(i)),i.plugin.addEventListener(Jx.type,Qx(i))),i}return Fx(n,[{key:"destroy",value:function(){this.plugin&&(this.plugin.removeEventListener(Yx.type,this),this.plugin.removeEventListener(Jx.type,this)),zx(Wx(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof Yx?this.toggleActive(!0):e instanceof Jx&&this.toggleActive(!1)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"onClick",value:function(){this.plugin.toggle()}}]),n}(Qf);qx.id="gallery";var Zx="psvGalleryItem",Kx=$c.dasherize(Zx),$x="psv-gallery-item--active",eM=function(e){Hx(n,e);var t=Vx(n);function n(e,i){var r;jx(this,n),(r=t.call(this,i,{className:"psv-gallery psv--capture-event"})).plugin=e,r.state={visible:!0,mousedown:!1,initMouseX:null,mouseX:null},r.container.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">\n  <defs>\n    <symbol id="psvGalleryBlankIcon" viewBox="0 0 200 200">\n      <rect x="0" y="0" width="200" height="200" fill="#666"/>\n      <g transform="scale(0.25) translate(25 20) " fill="#eee">\n        <path d="M376 220.61c-85.84 0-155.39 69.56-155.39 155.39 0 85.84 69.56 155.39 155.39 155.39 85.84 0 155.39-69.56 155.39-155.39 0-85.84-69.56-155.39-155.39-155.39zm0 300.92c-80.41 0-145.53-65.12-145.53-145.53S295.59 230.47 376 230.47 521.53 295.59 521.53 376 456.41 521.53 376 521.53z"/>\n        <path d="M467.27 300.03H284.74a18.21 18.21 0 0 0-18.25 18.25v115.43a18.21 18.21 0 0 0 18.25 18.26h182.53a18.21 18.21 0 0 0 18.25-18.26V318.28a18.2 18.2 0 0 0-18.25-18.25zm-190.91 18.25a8.64 8.64 0 0 1 8.39-8.38h182.53a8.64 8.64 0 0 1 8.38 8.38V413l-44.89-35.52c-.49-.5-.99-.5-1.48-.99h-2.46c-.5 0-1 0-1.48.5l-37.5 21.2-43.9-58.7-.5-.5s0-.48-.49-.48c0 0-.49 0-.49-.5-.49 0-.49-.49-.99-.49-.49 0-.49 0-.98-.49H337.53c-.5 0-.5.5-.99.5h-.49l-.5.48s-.48 0-.48.5l-58.7 65.12zM467.27 442.1H284.74a8.64 8.64 0 0 1-8.39-8.38v-15.3l63.15-68.07 42.92 57.22 1.48 1.48h.49c.5.5 1.48.5 1.97.5H388.83l38.47-21.72 46.37 36.5c.5.5 1.49 1 1.98 1v8.88c0 3.95-3.45 7.9-8.38 7.9z"/>\n        <path d="M429.77 333.58a13.81 13.81 0 1 1-27.63 0 13.81 13.81 0 0 1 27.63 0"/>\n      </g>\n    </symbol>\n  </defs>\n</svg>',r.container.querySelector("svg").style.display="none";var a=document.createElement("div");return a.className="psv-panel-close-button",a.innerHTML=zc.ICONS.close,r.container.appendChild(a),r.items=document.createElement("div"),r.items.className="psv-gallery-container",r.container.appendChild(r.items),r.observer=new IntersectionObserver((function(e){e.forEach((function(e){if(e.intersectionRatio>0){var t=e.target;t.style.backgroundImage="url(".concat(t.dataset.src,")"),delete t.dataset.src,r.observer.unobserve(e.target)}}))}),{root:r.viewer.container}),r.container.addEventListener("wheel",Qx(r)),r.container.addEventListener("mousedown",Qx(r)),r.container.addEventListener("mousemove",Qx(r)),r.container.addEventListener("click",Qx(r)),window.addEventListener("mouseup",Qx(r)),a.addEventListener("click",(function(){return r.plugin.hide()})),r.hide(),r}return Fx(n,[{key:"destroy",value:function(){window.removeEventListener("mouseup",this),this.observer.disconnect(),zx(Wx(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case"wheel":this.container.scrollLeft+=50*e.deltaY,e.preventDefault();break;case"mousedown":this.state.mousedown=!0,this.state.initMouseX=e.clientX,this.state.mouseX=e.clientX;break;case"mousemove":if(this.state.mousedown){var t=this.state.mouseX-e.clientX;this.container.scrollLeft+=t,this.state.mouseX=e.clientX}break;case"mouseup":this.state.mousedown=!1,this.state.mouseX=null,e.preventDefault();break;case"click":if(Math.abs(this.state.initMouseX-e.clientX)<10){var n=$c.getClosest(e.target,"[data-".concat(Kx,"]"));n&&this.plugin.__click(n.dataset[Zx])}}}},{key:"show",value:function(){this.container.classList.add("psv-gallery--open"),this.state.visible=!0}},{key:"hide",value:function(){this.container.classList.remove("psv-gallery--open"),this.state.visible=!1}},{key:"setItems",value:function(e){var t=this;this.items.innerHTML=function(e,t){return"\n".concat(e.map((function(e){return'\n<div class="psv-gallery-item" data-'.concat(Kx,'="').concat(e.id,'" style="width:').concat(t.width,'px">\n  <div class="psv-gallery-item-wrapper" style="padding-bottom:calc(100% * ').concat(t.height," / ").concat(t.width,')">\n    ').concat(e.name?'<div class="psv-gallery-item-title"><span>'.concat(e.name,"</span></div>"):"",'\n    <svg class="psv-gallery-item-thumb" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid slice"><use href="#psvGalleryBlankIcon"></use></svg>\n    ').concat(e.thumbnail?'<div class="psv-gallery-item-thumb" data-src="'.concat(e.thumbnail,'"></div>'):"","\n  </div>\n</div>\n")})).join(""),"\n")}(e,this.plugin.config.thumbnailSize),this.observer&&(this.observer.disconnect(),this.items.querySelectorAll("[data-src]").forEach((function(e){t.observer.observe(e)})))}},{key:"setActive",value:function(e){var t=this.items.querySelector("."+$x);if(null===t||void 0===t||t.classList.remove($x),e){var n=this.items.querySelector("[data-".concat(Kx,'="').concat(e,'"]'));null===n||void 0===n||n.classList.add($x)}}}]),n}(Gf),tM=$c.getConfigParser({items:[],visibleOnLoad:!1,hideOnClick:!0,thumbnailSize:{width:200,height:100}}),nM=function(e){Hx(n,e);var t=Vx(n);function n(e,i){var r;return jx(this,n),(r=t.call(this,e,i)).items=[],r.gallery=new eM(Qx(r),r.viewer),r}return Fx(n,[{key:"init",value:function(){var e=this;zx(Wx(n.prototype),"init",this).call(this),this.viewer.addEventListener(rf.PanoramaLoadedEvent.type,this),this.viewer.addEventListener(rf.ShowPanelEvent.type,this),this.config.visibleOnLoad&&this.viewer.addEventListener(rf.ReadyEvent.type,(function(){e.show()}),{once:!0}),this.setItems(this.config.items),delete this.config.items,setTimeout((function(){return e.__updateButton()}))}},{key:"destroy",value:function(){this.viewer.removeEventListener(rf.PanoramaLoadedEvent.type,this),this.viewer.removeEventListener(rf.ShowPanelEvent.type,this),this.gallery.destroy(),zx(Wx(n.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(e){zx(Wx(n.prototype),"setOptions",this).call(this,e),e.thumbnailSize&&this.gallery.setItems(this.items)}},{key:"handleEvent",value:function(e){if(e instanceof rf.PanoramaLoadedEvent){var t=this.items.find((function(t){return $c.deepEqual(t.panorama,e.data.panorama)}));this.currentId=null===t||void 0===t?void 0:t.id,this.gallery.setActive(null===t||void 0===t?void 0:t.id)}else e instanceof rf.ShowPanelEvent&&this.gallery.isVisible()&&this.hide()}},{key:"show",value:function(){return this.dispatchEvent(new Yx),this.gallery.show()}},{key:"hide",value:function(){return this.dispatchEvent(new Jx),this.gallery.hide()}},{key:"toggle",value:function(){this.gallery.isVisible()?this.hide():this.show()}},{key:"setItems",value:function(e,t){e?e.forEach((function(e,t){if(!e.id)throw new Ph("Item ".concat(t,' has no "id".'));if(!e.panorama)throw new Ph("Item ".concat(e.id,' has no "panorama".'))})):e=[],this.handler=t,this.items=e.map((function(e){return Ix(Ix({},e),{},{id:"".concat(e.id)})})),this.gallery.setItems(this.items),this.__updateButton()}},{key:"__click",value:function(e){if(e!==this.currentId){if(this.handler)this.handler(e);else{var t=this.items.find((function(t){return t.id===e}));this.viewer.setPanorama(t.panorama,Ix({caption:t.name},t.options))}this.currentId=e,this.gallery.setActive(e),this.config.hideOnClick&&this.hide()}}},{key:"__updateButton",value:function(){var e;null===(e=this.viewer.navbar.getButton(qx.id,!1))||void 0===e||e.toggle(this.items.length>0)}}]),n}(ld);function iM(e){return iM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iM(e)}function rM(){return rM="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dM(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},rM.apply(this,arguments)}function aM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,sM(i.key),i)}}function oM(e,t,n){return t&&aM(e.prototype,t),n&&aM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sM(e){var t=function(e,t){if("object"!==iM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==iM(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iM(t)?t:String(t)}function lM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uM(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cM(e,t)}function cM(e,t){return cM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cM(e,t)}function hM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=dM(e);if(t){var r=dM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===iM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fM(e)}(this,n)}}function fM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dM(e){return dM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dM(e)}nM.id="gallery",nM.configParser=tM,nM.readonlyOptions=["visibleOnLoad","items"],cd.lang[qx.id]="Gallery",gd(qx,"caption:left");var pM=Object.defineProperty;!function(e,t){for(var n in t)pM(e,n,{get:t[n],enumerable:!0})}({},{GyroscopeUpdatedEvent:function(){return vM}});var vM=function(e){uM(n,e);var t=hM(n);function n(e){var i;return lM(this,n),(i=t.call(this,n.type)).gyroscopeEnabled=e,i}return oM(n)}(af);vM.type="gyroscope-updated";var mM=function(e){uM(n,e);var t=hM(n);function n(e){var i;return lM(this,n),(i=t.call(this,e,{className:"psv-gyroscope-button",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M50 0a50 50 0 1 0 0 100A50 50 0 0 0 50 0zm0 88.81a38.86 38.86 0 0 1-38.81-38.8 38.86 38.86 0 0 1 38.8-38.82A38.86 38.86 0 0 1 88.82 50 38.87 38.87 0 0 1 50 88.81z"/><path fill="currentColor" d="M72.07 25.9L40.25 41.06 27.92 74.12l31.82-15.18v-.01l12.32-33.03zM57.84 54.4L44.9 42.58l21.1-10.06-8.17 21.9z"/>\x3c!--Created by iconoci from the Noun Project--\x3e</svg>',hoverScale:!0,collapsable:!0,tabbable:!0})).plugin=i.viewer.getPlugin("gyroscope"),i.plugin&&i.plugin.addEventListener(vM.type,fM(i)),i}return oM(n,[{key:"destroy",value:function(){this.plugin&&this.plugin.removeEventListener(vM.type,this),rM(dM(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin&&{initial:!1,promise:this.plugin.isSupported()}}},{key:"handleEvent",value:function(e){e instanceof vM&&this.toggleActive(e.gyroscopeEnabled)}},{key:"onClick",value:function(){this.plugin.toggle()}}]),n}(Qf);mM.id="gyroscope";var gM=new iv(0,0,1),yM=new Gv,wM=new nv,AM=new nv(-Math.sqrt(.5),0,0,Math.sqrt(.5)),bM=oM((function e(t){lM(this,e),!1===window.isSecureContext&&console.error("THREE.DeviceOrientationControls: DeviceOrientationEvent is only available in secure contexts (https)");var n=this,i=new nv;this.object=t,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var r=function(e){n.deviceOrientation=e},a=function(){n.screenOrientation=window.orientation||0};this.connect=function(){a(),void 0!==window.DeviceOrientationEvent&&"function"===typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(e){"granted"==e&&(window.addEventListener("orientationchange",a),window.addEventListener("deviceorientation",r))})).catch((function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)})):(window.addEventListener("orientationchange",a),window.addEventListener("deviceorientation",r)),n.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",a),window.removeEventListener("deviceorientation",r),n.enabled=!1},this.update=function(){if(!1!==n.enabled){var e=n.deviceOrientation;if(e){var t=e.alpha?Lp.degToRad(e.alpha)+n.alphaOffset:0,r=e.beta?Lp.degToRad(e.beta):0,a=e.gamma?Lp.degToRad(e.gamma):0,o=n.screenOrientation?Lp.degToRad(n.screenOrientation):0;!function(e,t,n,i,r){yM.set(n,t,-i,"YXZ"),e.setFromEuler(yM),e.multiply(AM),e.multiply(wM.setFromAxisAngle(gM,-r))}(n.object.quaternion,t,r,a,o),8*(1-i.dot(n.object.quaternion))>1e-6&&i.copy(n.object.quaternion)}}},this.dispose=function(){n.disconnect()},this.connect()})),xM=$c.getConfigParser({touchmove:!0,absolutePosition:!1,moveMode:"smooth"},{moveMode:function(e,t){var n=t.defValue;return"smooth"!==e&&"fast"!==e?($c.logWarn("GyroscopePlugin: invalid moveMode"),n):e}}),MM=new iv,kM=function(e){uM(n,e);var t=hM(n);function n(e,i){var r;return lM(this,n),(r=t.call(this,e,i)).state={isSupported:r.__checkSupport(),alphaOffset:0,enabled:!1,config_moveInertia:!0,moveMode:r.config.moveMode},r}return oM(n,[{key:"init",value:function(){rM(dM(n.prototype),"init",this).call(this),this.viewer.addEventListener(rf.StopAllEvent.type,this),this.viewer.addEventListener(rf.BeforeRotateEvent.type,this),this.viewer.addEventListener(rf.BeforeRenderEvent.type,this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(rf.StopAllEvent.type,this),this.viewer.removeEventListener(rf.BeforeRotateEvent.type,this),this.viewer.removeEventListener(rf.BeforeRenderEvent.type,this),this.stop(),delete this.controls,rM(dM(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof rf.StopAllEvent?this.stop():e instanceof rf.BeforeRenderEvent?this.__onBeforeRender():e instanceof rf.BeforeRotateEvent&&this.__onBeforeRotate(e)}},{key:"isSupported",value:function(){return this.state.isSupported}},{key:"isEnabled",value:function(){return this.state.enabled}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.moveMode;return this.state.isSupported.then((function(t){return t?e.__requestPermission():($c.logWarn("gyroscope not available"),Promise.reject())})).then((function(e){return e?Promise.resolve():($c.logWarn("gyroscope not allowed"),Promise.reject())})).then((function(){e.viewer.stopAll(),e.state.moveMode=t,e.state.config_moveInertia=e.viewer.config.moveInertia,e.viewer.config.moveInertia=!1,e.controls?e.controls.connect():e.controls=new bM(new rm),e.controls.deviceOrientation=null,e.controls.screenOrientation=0,e.controls.alphaOffset=0,e.state.alphaOffset=e.config.absolutePosition?0:null,e.state.enabled=!0,e.dispatchEvent(new vM(!0))}))}},{key:"stop",value:function(){this.isEnabled()&&(this.controls.disconnect(),this.state.enabled=!1,this.viewer.config.moveInertia=this.state.config_moveInertia,this.dispatchEvent(new vM(!1)),this.viewer.resetIdleTimer())}},{key:"toggle",value:function(){this.isEnabled()?this.stop():this.start()}},{key:"__onBeforeRender",value:function(){if(this.isEnabled()&&this.controls.deviceOrientation){var e=this.viewer.getPosition();if(null===this.state.alphaOffset){this.controls.update(),this.controls.object.getWorldDirection(MM);var t=this.viewer.dataHelper.vector3ToSphericalCoords(MM);this.state.alphaOffset=t.yaw-e.yaw}else{this.controls.alphaOffset=this.state.alphaOffset,this.controls.update(),this.controls.object.getWorldDirection(MM);var n=this.viewer.dataHelper.vector3ToSphericalCoords(MM),i={yaw:n.yaw,pitch:-n.pitch},r="smooth"===this.state.moveMode?3:10;this.viewer.dynamics.position.goto(i,$c.getAngle(e,i)<.01?1:r)}}}},{key:"__onBeforeRotate",value:function(e){this.isEnabled()&&(e.preventDefault(),this.config.touchmove&&(this.state.alphaOffset-=e.position.yaw-this.viewer.getPosition().pitch))}},{key:"__checkSupport",value:function(){return"DeviceOrientationEvent"in window&&"function"===typeof DeviceOrientationEvent.requestPermission?Promise.resolve(!0):"DeviceOrientationEvent"in window?new Promise((function(e){var t=function t(n){e(!!n&&!$c.isNil(n.alpha)&&!isNaN(n.alpha)),window.removeEventListener("deviceorientation",t)};window.addEventListener("deviceorientation",t,!1),setTimeout(t,1e4)})):Promise.resolve(!1)}},{key:"__requestPermission",value:function(){return"function"===typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){return"granted"===e})).catch((function(){return!1})):Promise.resolve(!0)}}]),n}(ld);function SM(e){return SM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SM(e)}function EM(){return EM="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=BM(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},EM.apply(this,arguments)}function CM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,PM(i.key),i)}}function TM(e,t,n){return t&&CM(e.prototype,t),n&&CM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PM(e){var t=function(e,t){if("object"!==SM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==SM(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===SM(t)?t:String(t)}function _M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LM(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OM(e,t)}function OM(e,t){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OM(e,t)}function DM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=BM(e);if(t){var r=BM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===SM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function BM(e){return BM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BM(e)}kM.id="gyroscope",kM.configParser=xM,cd.lang[mM.id]="Gyroscope",gd(mM,"caption:right");var IM=Object.defineProperty;!function(e,t){for(var n in t)IM(e,n,{get:t[n],enumerable:!0})}({},{ResolutionChangedEvent:function(){return RM}});var RM=function(e){LM(n,e);var t=DM(n);function n(e){var i;return _M(this,n),(i=t.call(this,n.type)).resolutionId=e,i}return TM(n)}(af);RM.type="resolution-changed";var zM=$c.getConfigParser({resolutions:null,defaultResolution:null,showBadge:!0});function NM(e){return NM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NM(e)}function FM(){return FM="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YM(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},FM.apply(this,arguments)}function UM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,HM(i.key),i)}}function jM(e,t,n){return t&&UM(e.prototype,t),n&&UM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HM(e){var t=function(e,t){if("object"!==NM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==NM(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===NM(t)?t:String(t)}function GM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VM(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QM(e,t)}function QM(e,t){return QM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QM(e,t)}function WM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=YM(e);if(t){var r=YM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===NM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return XM(e)}(this,n)}}function XM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YM(e){return YM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YM(e)}(function(e){LM(n,e);var t=DM(n);function n(e,i){var r;return _M(this,n),(r=t.call(this,e)).resolutions=[],r.resolutionsById={},r.state={resolution:null},r.config=zM(i),r.config.defaultResolution&&r.viewer.config.panorama&&$c.logWarn("ResolutionPlugin, a defaultResolution was provided but a panorama is already configured on the viewer, the defaultResolution will be ignored."),r}return TM(n,[{key:"init",value:function(){var e=this;if(EM(BM(n.prototype),"init",this).call(this),this.settings=this.viewer.getPlugin("settings"),!this.settings)throw new Ph("Resolution plugin requires the Settings plugin");this.settings.addSetting({id:n.id,type:"options",label:this.viewer.config.lang.resolution,current:function(){return e.state.resolution},options:function(){return e.resolutions},apply:function(t){return e.__setResolutionIfExists(t)},badge:this.config.showBadge?function(){return e.state.resolution}:null}),this.viewer.addEventListener(rf.PanoramaLoadedEvent.type,this),this.config.resolutions&&(this.setResolutions(this.config.resolutions,this.viewer.config.panorama?null:this.config.defaultResolution),delete this.config.resolutions,delete this.config.defaultResolution)}},{key:"destroy",value:function(){this.viewer.removeEventListener(rf.PanoramaLoadedEvent.type,this),this.settings.removeSetting(n.id),EM(BM(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof rf.PanoramaLoadedEvent&&this.__refreshResolution()}},{key:"setResolutions",value:function(e,t){var n=this;this.resolutions=e||[],this.resolutionsById={},e.forEach((function(e){if(!e.id)throw new Ph("Missing resolution id");if(!e.panorama)throw new Ph("Missing resolution panorama");n.resolutionsById[e.id]=e})),this.viewer.config.panorama||t||(t=e[0].id),t&&!this.resolutionsById[t]&&($c.logWarn("Resolution ".concat(t," unknown")),t=e[0].id),t&&this.setResolution(t),this.__refreshResolution()}},{key:"setResolution",value:function(e){if(!this.resolutionsById[e])throw new Ph("Resolution ".concat(e," unknown"));return this.__setResolutionIfExists(e)}},{key:"__setResolutionIfExists",value:function(e){return this.resolutionsById[e]?this.viewer.setPanorama(this.resolutionsById[e].panorama,{transition:!1,showLoader:!1}):Promise.resolve()}},{key:"getResolution",value:function(){return this.state.resolution}},{key:"__refreshResolution",value:function(){var e,t=this,n=this.resolutions.find((function(e){return $c.deepEqual(t.viewer.config.panorama,e.panorama)}));this.state.resolution!==(null===n||void 0===n?void 0:n.id)&&(this.state.resolution=null===n||void 0===n?void 0:n.id,null===(e=this.settings)||void 0===e||e.updateButton(),this.dispatchEvent(new RM(this.state.resolution)))}}]),n}(sd)).id="resolution",cd.lang.resolution="Quality";var JM=Object.defineProperty;!function(e,t){for(var n in t)JM(e,n,{get:t[n],enumerable:!0})}({},{SettingChangedEvent:function(){return qM}});var qM=function(e){VM(n,e);var t=WM(n);function n(e,i){var r;return GM(this,n),(r=t.call(this,n.type)).settingId=e,r.settingValue=i,r}return jM(n)}(af);qM.type="setting-changed";var ZM=function(e){VM(n,e);var t=WM(n);function n(e){var i;return GM(this,n),(i=t.call(this,e,{className:"psv-settings-button",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M98.4 43.7c-.8-.5-7-4.3-9.6-5.4l-3-7.5c.9-2.5 2.6-9.4 3-10.6a3.3 3.3 0 00-1-3.1L83 12.2a3.3 3.3 0 00-3-.9c-1 .2-8 2-10.7 3l-7.5-3.1c-1-2.4-4.8-8.6-5.4-9.6A3.3 3.3 0 0053.4 0h-6.8a3.4 3.4 0 00-2.9 1.6c-.5.8-4.2 7-5.4 9.6l-7.5 3-10.6-3a3.3 3.3 0 00-3.1 1L12.2 17a3.3 3.3 0 00-.9 3c.2 1 2 8 3 10.7l-3.1 7.5c-2.4 1-8.6 4.8-9.6 5.4A3.3 3.3 0 000 46.6v6.8a3.4 3.4 0 001.6 2.9c.8.5 7 4.2 9.6 5.4l3 7.5-3 10.6a3.3 3.3 0 001 3.1l4.8 4.9a3.3 3.3 0 003.1.9c1-.2 8-2 10.7-3l7.5 3c1 2.5 4.7 8.6 5.4 9.7a3.3 3.3 0 002.9 1.6h6.8a3.4 3.4 0 002.9-1.6c.5-.8 4.2-7 5.4-9.6l7.5-3c2.5.9 9.4 2.6 10.6 3a3.3 3.3 0 003.1-1l4.9-4.8a3.3 3.3 0 00.9-3.1c-.2-1-2-8-3-10.7l3-7.5c2.5-1 8.6-4.7 9.7-5.4a3.3 3.3 0 001.6-2.9v-6.8a3.3 3.3 0 00-1.6-2.9zM50 71.7A21.8 21.8 0 1171.8 50 21.8 21.8 0 0150 71.8z"/>\x3c!-- Created by i cons from the Noun Project --\x3e</svg>\n',hoverScale:!0,collapsable:!1,tabbable:!0})).plugin=i.viewer.getPlugin("settings"),i.badge=document.createElement("div"),i.badge.className="psv-settings-badge",i.badge.style.display="none",i.container.appendChild(i.badge),i}return jM(n,[{key:"isSupported",value:function(){return!!this.plugin}},{key:"onClick",value:function(){this.plugin.toggleSettings()}},{key:"setBadge",value:function(e){this.badge.innerText=e,this.badge.style.display=e?"":"none"}}]),n}(Qf);ZM.id="settings";var KM='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M86.2 50.7l-44 44-9.9-9.9 34.1-34.1-34.7-34.8L41.6 6z"/>\x3c!-- Created by Renee Ramsey-Passmore from the Noun Project--\x3e</svg>\n',$M="psvSettings",ek="settingId",tk="optionId",nk="__back",ik="__enter",rk=$c.dasherize(ek),ak=$c.dasherize(tk),ok={options:function(e,t){return'\n<span class="psv-settings-item-label">'.concat(e.label,'</span>\n<span class="psv-settings-item-value">').concat(t(e),'</span>\n<span class="psv-settings-item-icon">').concat(KM,"</span>\n")},toggle:function(e){return'\n<span class="psv-settings-item-label">'.concat(e.label,'</span>\n<span class="psv-settings-item-value">').concat(e.active()?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" width="2.4em" height="1.2em"><path fill="currentColor" transform="scale(1.88) translate(0, -25)" d="M72 73.2A21.6 21.6 0 1172 30a21.6 21.6 0 010 43.2M2.4 51.6A26.4 26.4 0 0028.8 78H72a26.4 26.4 0 000-52.8H28.8A26.4 26.4 0 002.4 51.6"/>\x3c!-- Created by Nikita from the Noun Project --\x3e</svg>\n':'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" width="2.4em" height="1.2em"><path fill="currentColor" transform="scale(1.88) translate(0, -25)" d="M72 73.2H44A26.4 26.4 0 0044 30h28a21.6 21.6 0 010 43.2M7.2 51.6a21.6 21.6 0 1143.2 0 21.6 21.6 0 01-43.2 0M72 25.2H28.8a26.4 26.4 0 000 52.8H72a26.4 26.4 0 000-52.8"/>\x3c!-- Created by Nikita from the Noun Project --\x3e</svg>\n',"</span>\n")}},sk=function(e){VM(n,e);var t=WM(n);function n(e,i){var r;return GM(this,n),(r=t.call(this,i,{className:"psv-settings psv--capture-event"})).plugin=e,r.container.addEventListener("click",XM(r)),r.container.addEventListener("transitionend",XM(r)),r.container.addEventListener("keydown",XM(r)),r.hide(),r}return jM(n,[{key:"handleEvent",value:function(e){switch(e.type){case"click":this.__click(e.target);break;case"transitionend":this.isVisible()?this.__focusFirstOption():this.container.innerHTML="";break;case"keydown":if(this.isVisible())switch(e.key){case zc.KEY_CODES.Escape:this.plugin.hideSettings();break;case zc.KEY_CODES.Enter:this.__click(e.target)}}}},{key:"show",value:function(e){if(this.__showSettings(!1),this.container.classList.add("psv-settings--open"),this.container.style.right="",this.container.style.left="",e){var t=this.viewer.container.getBoundingClientRect(),n=e.left-t.left,i=t.right-e.right,r=e.width,a=this.container.offsetWidth;a>=n+r?this.container.style.left="0px":n+a<t.width?this.container.style.left="".concat(n,"px"):this.container.style.right=a>=i+r?"0px":"".concat(i,"px")}else this.container.style.right="0px";this.state.visible=!0}},{key:"hide",value:function(){this.container.classList.remove("psv-settings--open"),this.state.visible=!1}},{key:"__click",value:function(e){var t=$c.getClosest(e,"li");if(t){var n=t.dataset[ek],i=t.dataset[tk],r=this.plugin.settings.find((function(e){return e.id===n}));switch(i){case nk:this.__showSettings(!0);break;case ik:switch(r.type){case"toggle":this.plugin.toggleSettingValue(r),this.__showSettings(!0);break;case"options":this.__showOptions(r)}break;default:if("options"===r.type)this.hide(),this.plugin.applySettingOption(r,i)}}}},{key:"__showSettings",value:function(e){var t,n;this.container.innerHTML=(t=this.plugin.settings,n=function(e){var t=e.current(),n=e.options().find((function(e){return e.id===t}));return null===n||void 0===n?void 0:n.label},'\n<ul class="psv-settings-list">\n  '.concat(t.map((function(e){return'\n    <li class="psv-settings-item" tabindex="0"\n        data-'.concat(rk,'="').concat(e.id,'" data-').concat(ak,'="').concat(ik,'">\n      ').concat(ok[e.type](e,n),"\n    </li>\n  ")})).join(""),"\n</ul>\n")),e&&this.__focusFirstOption()}},{key:"__showOptions",value:function(e){var t=e.current();this.container.innerHTML=function(e,t){return'\n<ul class="psv-settings-list">\n  <li class="psv-settings-item psv-settings-item--header" tabindex="0"\n      data-'.concat(rk,'="').concat(e.id,'" data-').concat(ak,'="').concat(nk,'">\n    <span class="psv-settings-item-icon">').concat(KM,'</span>\n    <span class="psv-settings-item-label">').concat(e.label,"</span>\n  </li>\n  ").concat(e.options().map((function(n){return'\n    <li class="psv-settings-item" tabindex="0"\n        data-'.concat(rk,'="').concat(e.id,'" data-').concat(ak,'="').concat(n.id,'">\n      <span class="psv-settings-item-icon">').concat(t(n)?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90"><polygon fill="currentColor" points="0,48 10,35 36,57 78,10 90,21 37,79 "/>\x3c!-- Created by Zahroe from the Noun Project --\x3e</svg>\n':"",'</span>\n      <span class="psv-settings-item-value">').concat(n.label,"</span>\n    </li>\n  ")})).join(""),"\n</ul>\n")}(e,(function(e){return e.id===t})),this.__focusFirstOption()}},{key:"__focusFirstOption",value:function(){var e;null===(e=this.container.querySelector("[tabindex]"))||void 0===e||e.focus()}}]),n}(Gf);function lk(){return JSON.parse(localStorage.getItem($M))||{}}var uk=$c.getConfigParser({persist:!1,storage:{set:function(e,t){var n=lk();n[e]=t,function(e){localStorage.setItem($M,JSON.stringify(e))}(n)},get:function(e){return lk()[e]}}});function ck(e){return ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ck(e)}function hk(){return hk="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ak(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},hk.apply(this,arguments)}function fk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pk(i.key),i)}}function dk(e,t,n){return t&&fk(e.prototype,t),n&&fk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pk(e){var t=function(e,t){if("object"!==ck(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ck(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ck(t)?t:String(t)}function vk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mk(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}function gk(e,t){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gk(e,t)}function yk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ak(e);if(t){var r=Ak(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ck(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wk(e)}(this,n)}}function wk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ak(e){return Ak=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ak(e)}(function(e){VM(n,e);var t=WM(n);function n(e,i){var r;return GM(this,n),(r=t.call(this,e)).settings=[],r.config=uk(i),r.component=new sk(XM(r),r.viewer),r}return jM(n,[{key:"init",value:function(){var e=this;FM(YM(n.prototype),"init",this).call(this),this.viewer.addEventListener(rf.ClickEvent.type,this),this.viewer.addEventListener(rf.ShowPanelEvent.type,this),setTimeout((function(){return e.updateButton()}))}},{key:"destroy",value:function(){this.viewer.removeEventListener(rf.ClickEvent.type,this),this.viewer.removeEventListener(rf.ShowPanelEvent.type,this),this.component.destroy(),this.settings.length=0,FM(YM(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){(e instanceof rf.ClickEvent||e instanceof rf.ShowPanelEvent)&&this.component.isVisible()&&this.hideSettings()}},{key:"addSetting",value:function(e){var t=this;if(!e.id)throw new Ph("Missing setting id");if(!e.type)throw new Ph("Missing setting type");e.badge&&this.settings.some((function(e){return e.badge}))&&$c.logWarn("More than one setting with a badge are declared, the result is unpredictable."),this.settings.push(e),this.component.isVisible()&&this.component.show(),this.updateButton(),this.config.persist&&Promise.resolve(this.config.storage.get(e.id)).then((function(n){switch(e.type){case"toggle":var i=e;$c.isNil(n)||n===i.active()||(i.toggle(),t.dispatchEvent(new qM(i.id,i.active())));break;case"options":var r=e;$c.isNil(n)||n===r.current()||(r.apply(n),t.dispatchEvent(new qM(r.id,r.current())))}t.updateButton()}))}},{key:"removeSetting",value:function(e){var t=this.settings.findIndex((function(t){return t.id===e}));-1!==t&&(this.settings.splice(t,1),this.component.isVisible()&&this.component.show(),this.updateButton())}},{key:"toggleSettings",value:function(){this.component.isVisible()?this.hideSettings():this.showSettings()}},{key:"hideSettings",value:function(){this.component.hide(),this.updateButton()}},{key:"showSettings",value:function(){var e=this.viewer.navbar.getButton(ZM.id,!1),t=null===e||void 0===e?void 0:e.container.getBoundingClientRect();this.component.show(t),this.updateButton()}},{key:"updateButton",value:function(){var e,t=null===(e=this.settings.find((function(e){return e.badge})))||void 0===e?void 0:e.badge(),n=this.viewer.navbar.getButton(ZM.id,!1);null===n||void 0===n||n.toggleActive(this.component.isVisible()),null===n||void 0===n||n.setBadge(t)}},{key:"toggleSettingValue",value:function(e){var t=!e.active();e.toggle(),this.dispatchEvent(new qM(e.id,t)),this.config.persist&&this.config.storage.set(e.id,t),this.updateButton()}},{key:"applySettingOption",value:function(e,t){e.apply(t),this.dispatchEvent(new qM(e.id,t)),this.config.persist&&this.config.storage.set(e.id,t),this.updateButton()}}]),n}(sd)).id="settings",cd.lang[ZM.id]="Settings",gd(ZM,"fullscreen:left");var bk=Object.defineProperty;!function(e,t){for(var n in t)bk(e,n,{get:t[n],enumerable:!0})}({},{StereoUpdatedEvent:function(){return xk}});var xk=function(e){mk(n,e);var t=yk(n);function n(e){var i;return vk(this,n),(i=t.call(this,n.type)).stereoEnabled=e,i}return dk(n)}(af);xk.type="stereo-updated";var Mk=function(e){mk(n,e);var t=yk(n);function n(e){var i;return vk(this,n),(i=t.call(this,e,{className:"psv-stereo-button",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -2 16 16"><path fill="currentColor" d="M13.104 0H2.896C2.332 0 1 .392 1 .875h14C15 .392 13.668 0 13.104 0zM15 1H1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h3.534a2 2 0 0 0 1.821-1.172l1.19-2.618a.5.5 0 0 1 .91 0l1.19 2.618A2 2 0 0 0 11.466 11H15a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM4 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm8 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/>\x3c!--Created by Idev\xe3 Batista from the Noun Project--\x3e</svg>',hoverScale:!0,collapsable:!0,tabbable:!0})).plugin=i.viewer.getPlugin("stereo"),i.plugin&&i.plugin.addEventListener(xk.type,wk(i)),i}return dk(n,[{key:"destroy",value:function(){this.plugin&&this.plugin.removeEventListener(xk.type,this),hk(Ak(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin&&{initial:!1,promise:this.plugin.isSupported}}},{key:"handleEvent",value:function(e){e instanceof xk&&this.toggleActive(e.stereoEnabled)}},{key:"onClick",value:function(){this.plugin.toggle()}}]),n}(Qf);Mk.id="stereo";var kk=dk((function e(t){vk(this,e);var n=new rb;n.aspect=.5;var i=new Op;this.setEyeSeparation=function(e){n.eyeSep=e},this.setSize=function(e,n){t.setSize(e,n)},this.render=function(e,r){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===r.parent&&!0===r.matrixWorldAutoUpdate&&r.updateMatrixWorld(),n.update(r),t.getSize(i),t.autoClear&&t.clear(),t.setScissorTest(!0),t.setScissor(0,0,i.width/2,i.height),t.setViewport(0,0,i.width/2,i.height),t.render(e,n.cameraL),t.setScissor(i.width/2,0,i.width/2,i.height),t.setViewport(i.width/2,0,i.width/2,i.height),t.render(e,n.cameraR),t.setScissorTest(!1)}})),Sk="pleaseRotate";function Ek(e){return Ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ek(e)}function Ck(){return Ck="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rk(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ck.apply(this,arguments)}function Tk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_k(i.key),i)}}function Pk(e,t,n){return t&&Tk(e.prototype,t),n&&Tk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _k(e){var t=function(e,t){if("object"!==Ek(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ek(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ek(t)?t:String(t)}function Lk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ok(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dk(e,t)}function Dk(e,t){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dk(e,t)}function Bk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Rk(e);if(t){var r=Rk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ek(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ik(e)}(this,n)}}function Ik(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rk(e){return Rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rk(e)}(function(e){mk(n,e);var t=yk(n);function n(e){var i;return vk(this,n),(i=t.call(this,e)).state={enabled:!1,wakeLock:null},i}return dk(n,[{key:"isSupported",get:function(){return this.gyroscope.isSupported()}},{key:"init",value:function(){if(hk(Ak(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.compass=this.viewer.getPlugin("compass"),this.gyroscope=this.viewer.getPlugin("gyroscope"),!this.gyroscope)throw new Ph("Stereo plugin requires the Gyroscope plugin");this.viewer.addEventListener(rf.StopAllEvent.type,this),this.viewer.addEventListener(rf.ClickEvent.type,this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(rf.StopAllEvent.type,this),this.viewer.removeEventListener(rf.ClickEvent.type,this),this.stop(),delete this.markers,delete this.compass,delete this.gyroscope,hk(Ak(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){(e instanceof rf.StopAllEvent||e instanceof rf.ClickEvent)&&this.stop()}},{key:"isEnabled",value:function(){return this.state.enabled}},{key:"start",value:function(){var e=this;return this.viewer.enterFullscreen(),this.__startWakelock(),this.__lockOrientation(),this.gyroscope.start("fast").then((function(){var t,n;e.viewer.renderer.setCustomRenderer((function(e){return new kk(e)})),e.state.enabled=!0,null===(t=e.markers)||void 0===t||t.hideAllMarkers(),null===(n=e.compass)||void 0===n||n.hide(),e.viewer.navbar.hide(),e.viewer.panel.hide(),e.dispatchEvent(new xk(!0)),e.viewer.notification.show({content:e.viewer.config.lang.stereoNotification,timeout:3e3})}),(function(){return e.__unlockOrientation(),e.__stopWakelock(),e.viewer.exitFullscreen(),Promise.reject()}))}},{key:"stop",value:function(){var e,t;this.isEnabled()&&(this.viewer.renderer.setCustomRenderer(null),this.state.enabled=!1,null===(e=this.markers)||void 0===e||e.showAllMarkers(),null===(t=this.compass)||void 0===t||t.show(),this.viewer.navbar.show(),this.__unlockOrientation(),this.__stopWakelock(),this.viewer.exitFullscreen(),this.gyroscope.stop(),this.dispatchEvent(new xk(!1)))}},{key:"toggle",value:function(){this.isEnabled()?this.stop():this.start()}},{key:"__startWakelock",value:function(){var e=this;"wakeLock"in navigator?navigator.wakeLock.request("screen").then((function(t){e.state.wakeLock=t})).catch((function(){return $c.logWarn("Cannot acquire WakeLock")})):$c.logWarn("WakeLock is not available")}},{key:"__stopWakelock",value:function(){this.state.wakeLock&&(this.state.wakeLock.release(),this.state.wakeLock=null)}},{key:"__lockOrientation",value:function(){var e,t,n=this,i=function(){window.innerHeight>window.innerWidth&&n.viewer.overlay.show({id:Sk,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M66.7 19a14 14 0 0 1 13.8 12.1l-3.9-2.7c-.5-.3-1.1-.2-1.4.3-.3.5-.2 1.1.3 1.4l5.7 3.9.6.2c.3 0 .6-.2.8-.4l3.9-5.7c.3-.5.2-1.1-.3-1.4-.5-.3-1.1-.2-1.4.3l-2.4 3.5A16 16 0 0 0 66.7 17c-.6 0-1 .4-1 1s.4 1 1 1zM25 15h10c.6 0 1-.4 1-1s-.4-1-1-1H25c-.6 0-1 .4-1 1s.4 1 1 1zm-6.9 30H16l-2 .2a1 1 0 0 0-.8 1.2c.1.5.5.8 1 .8h.2l1.7-.2h2.1c.6 0 1-.4 1-1s-.5-1-1.1-1zm10 0h-4c-.6 0-1 .4-1 1s.4 1 1 1h4c.6 0 1-.4 1-1s-.4-1-1-1zM84 45H55V16A11 11 0 0 0 44 5H16A11 11 0 0 0 5 16v68a11 11 0 0 0 11 11h68a11 11 0 0 0 11-11V56a11 11 0 0 0-11-11zM16 93c-5 0-9-4-9-9V53.2c.3-.1.6-.3.7-.6a9.8 9.8 0 0 1 2-3c.4-.4.4-1 0-1.4a1 1 0 0 0-1.4 0l-1.2 1.5V16c0-5 4-9 9-9h28c5 0 9 4 9 9v68c0 5-4 9-9 9H16zm77-9c0 5-4 9-9 9H50.3c2.8-2 4.7-5.3 4.7-9V47h29c5 0 9 4 9 9v28zM38.1 45h-4c-.6 0-1 .4-1 1s.4 1 1 1h4c.6 0 1-.4 1-1s-.5-1-1-1zm9.9 0h-4c-.6 0-1 .4-1 1s.4 1 1 1h4c.6 0 1-.4 1-1s-.4-1-1-1zm38 19c-.6 0-1 .4-1 1v10c0 .6.4 1 1 1s1-.4 1-1V65c0-.6-.4-1-1-1z"/>\x3c!--Created by Anthony Bresset from the Noun Project--\x3e</svg>',title:n.viewer.config.lang.pleaseRotate,text:n.viewer.config.lang.tapToContinue}),t&&(clearTimeout(t),t=null)};null!==(e=window.screen)&&void 0!==e&&e.orientation?(window.screen.orientation.lock("landscape").then(null,(function(){return i()})),t=setTimeout((function(){return i()}),500)):i()}},{key:"__unlockOrientation",value:function(){var e;null!==(e=window.screen)&&void 0!==e&&e.orientation?window.screen.orientation.unlock():this.viewer.overlay.hide(Sk)}}]),n}(sd)).id="stereo",cd.lang[Mk.id]="Stereo view",gd(Mk,"caption:right"),cd.lang.stereoNotification="Tap anywhere to exit stereo view.",cd.lang.pleaseRotate="Please rotate your device",cd.lang.tapToContinue="(or tap to continue)";var zk=Object.defineProperty;!function(e,t){for(var n in t)zk(e,n,{get:t[n],enumerable:!0})}({},{BufferEvent:function(){return jk},PlayPauseEvent:function(){return Nk},ProgressEvent:function(){return Uk},VolumeChangeEvent:function(){return Fk}});var Nk=function(e){Ok(n,e);var t=Bk(n);function n(e){var i;return Lk(this,n),(i=t.call(this,n.type)).playing=e,i}return Pk(n)}(af);Nk.type="play-pause";var Fk=function(e){Ok(n,e);var t=Bk(n);function n(e){var i;return Lk(this,n),(i=t.call(this,n.type)).volume=e,i}return Pk(n)}(af);Fk.type="volume-change";var Uk=function(e){Ok(n,e);var t=Bk(n);function n(e,i,r){var a;return Lk(this,n),(a=t.call(this,n.type)).time=e,a.duration=i,a.progress=r,a}return Pk(n)}(af);Uk.type="progress";var jk=function(e){Ok(n,e);var t=Bk(n);function n(e){var i;return Lk(this,n),(i=t.call(this,n.type)).maxBuffer=e,i}return Pk(n)}(af);jk.type="buffer";var Hk='<svg viewBox="76 5 550 550" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M351.1 5.6A274.1 274.1 0 0 0 76.7 280a274.1 274.1 0 0 0 274.4 274.4A274.1 274.1 0 0 0 625.5 280 274.1 274.1 0 0 0 351.1 5.6zm146.7 282.8-219 134.4c-6.6 4-15.6-.6-15.6-8.4V145.6c0-7.8 9-12.9 15.7-8.4l219 134.4a10 10 0 0 1 0 16.8z"/></svg>',Gk=function(e){Ok(n,e);var t=Bk(n);function n(e){var i,r;return Lk(this,n),(r=t.call(this,e,{className:"psv-video-play-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:Hk,iconActive:'<svg viewBox="80 10 540 540" xmlns="http://www.w3.org/2000/svg"><path d="M80.58 279.67c0-148.76 120.33-269.09 269.09-269.09s269.75 120.33 269.75 269.09-121 269.75-269.75 269.75-269.1-120.99-269.1-269.75zm175.87 105.12V175.2c0-9.26 7.27-15.87 15.86-15.87h39.01c8.6 0 15.87 6.62 15.87 15.87v209.59c0 8.6-7.27 15.87-15.87 15.87h-39c-8.6 0-15.87-7.28-15.87-15.87zm116.36 0V175.2c0-9.26 7.27-15.87 15.86-15.87h38.35c9.26 0 15.87 6.62 15.87 15.87v209.59c0 8.6-6.61 15.87-15.87 15.87h-38.34c-8.6 0-15.87-7.28-15.87-15.87z" fill-rule="evenodd" fill="currentcolor"/></svg>'})).plugin=r.viewer.getPlugin("video"),null===(i=r.plugin)||void 0===i||i.addEventListener(Nk.type,Ik(r)),r}return Pk(n,[{key:"destroy",value:function(){var e;null===(e=this.plugin)||void 0===e||e.removeEventListener(Nk.type,this),Ck(Rk(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(e){e instanceof Nk&&this.toggleActive(e.playing)}},{key:"onClick",value:function(){this.plugin.playPause()}}]),n}(Qf);function Vk(e){var t=Math.round(e%60),n=Math.round(e-t)/60;return"".concat(n,":").concat(("0"+t).slice(-2))}Gk.id="videoPlay",Gk.groupId="video";var Qk=function(e){Ok(n,e);var t=Bk(n);function n(e){var i;return Lk(this,n),(i=t.call(this,e,{className:"psv-caption psv-video-time",hoverScale:!1,collapsable:!1,tabbable:!1})).contentElt=document.createElement("div"),i.contentElt.className="psv-caption-content",i.container.appendChild(i.contentElt),i.plugin=i.viewer.getPlugin("video"),i.plugin&&(i.viewer.addEventListener(rf.PanoramaLoadedEvent.type,Ik(i)),i.plugin.addEventListener(Uk.type,Ik(i))),i}return Pk(n,[{key:"destroy",value:function(){this.plugin&&(this.viewer.removeEventListener(rf.PanoramaLoadedEvent.type,this),this.plugin.removeEventListener(Uk.type,this)),delete this.plugin,Ck(Rk(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case rf.PanoramaLoadedEvent.type:case Uk.type:this.contentElt.innerHTML="<strong>".concat(Vk(this.plugin.getTime()),"</strong> / ").concat(Vk(this.plugin.getDuration()))}}},{key:"onClick",value:function(){}}]),n}(Qf);Qk.id="videoTime",Qk.groupId="video";var Wk=function(e){Ok(n,e);var t=Bk(n);function n(e){var i;return Lk(this,n),(i=t.call(this,e,{className:"psv-video-volume-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="17 16 71 71"><path fill="currentColor" d="M20.19 61.66H32.9c.54 0 1.07.16 1.52.47L51.02 73.5a2.7 2.7 0 0 0 4.22-2.23V28.74a2.7 2.7 0 0 0-4.22-2.23L34.43 37.87c-.45.3-.98.47-1.52.47H20.19a2.7 2.7 0 0 0-2.7 2.7v17.92a2.7 2.7 0 0 0 2.7 2.7z"/><path id="lvl0" fill="currentColor" d="M63.802 58.834c.39.39.902.586 1.414.586s1.023-.195 1.414-.586l7.234-7.233 7.234 7.233c.39.39.902.586 1.414.586s1.023-.195 1.414-.586a2 2 0 0 0 0-2.828l-7.234-7.234 7.234-7.233a2 2 0 1 0-2.828-2.828l-7.234 7.233-7.234-7.233a2 2 0 1 0-2.828 2.828l7.234 7.233-7.234 7.234a2 2 0 0 0 0 2.828z"/><path id="lvl1" fill="currentColor" d="M59.573 59.65c.39.394.904.59 1.418.59.51 0 1.02-.194 1.41-.582A13.53 13.53 0 0 0 66.411 50a13.56 13.56 0 0 0-3.996-9.654 2 2 0 0 0-2.828 2.829A9.586 9.586 0 0 1 62.41 50a9.56 9.56 0 0 1-2.83 6.823 2 2 0 0 0-.008 2.828z"/><path id="lvl2" fill="currentColor" d="M72.501 50c0 5.267-2.055 10.227-5.786 13.967a2 2 0 0 0 2.832 2.825C74.03 62.297 76.5 56.333 76.5 50s-2.47-12.297-6.954-16.792a2 2 0 0 0-2.832 2.825c3.731 3.74 5.786 8.7 5.786 13.967z"/><path id="lvl3" fill="currentColor" d="M83.001 50c0 8.084-3.147 15.679-8.863 21.384a2 2 0 0 0 2.826 2.831C83.437 67.754 87 59.155 87 50c0-9.154-3.564-17.753-10.037-24.215a2 2 0 0 0-2.826 2.83C79.854 34.323 83 41.917 83 50z"/>\x3c!--Created by Rudez Studio from the Noun Project--\x3e</svg>'})).plugin=i.viewer.getPlugin("video"),i.plugin&&(i.rangeContainer=document.createElement("div"),i.rangeContainer.className="psv-video-volume__container",i.container.appendChild(i.rangeContainer),i.range=document.createElement("div"),i.range.className="psv-video-volume__range",i.rangeContainer.appendChild(i.range),i.trackElt=document.createElement("div"),i.trackElt.className="psv-video-volume__track",i.range.appendChild(i.trackElt),i.progressElt=document.createElement("div"),i.progressElt.className="psv-video-volume__progress",i.range.appendChild(i.progressElt),i.handleElt=document.createElement("div"),i.handleElt.className="psv-video-volume__handle",i.range.appendChild(i.handleElt),i.slider=new $c.Slider(i.range,$c.SliderDirection.VERTICAL,i.__onSliderUpdate.bind(Ik(i))),i.viewer.addEventListener(rf.PanoramaLoadedEvent.type,Ik(i)),i.plugin.addEventListener(Nk.type,Ik(i)),i.plugin.addEventListener(Fk.type,Ik(i)),i.__setVolume(0)),i}return Pk(n,[{key:"destroy",value:function(){this.plugin&&(this.viewer.removeEventListener(rf.PanoramaLoadedEvent.type,this),this.plugin.removeEventListener(Nk.type,this),this.plugin.removeEventListener(Fk.type,this)),this.slider.destroy(),Ck(Rk(n.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(e){switch(e.type){case rf.PanoramaLoadedEvent.type:case Nk.type:case Fk.type:this.__setVolume(this.plugin.getVolume())}}},{key:"onClick",value:function(){this.plugin.setMute()}},{key:"__onSliderUpdate",value:function(e){e.mousedown&&this.plugin.setVolume(e.value)}},{key:"__setVolume",value:function(e){var t;t=0===e?0:e<.333?1:e<.666?2:3,$c.toggleClass(this.container,"psv-video-volume-button--0",0===t),$c.toggleClass(this.container,"psv-video-volume-button--1",1===t),$c.toggleClass(this.container,"psv-video-volume-button--2",2===t),$c.toggleClass(this.container,"psv-video-volume-button--3",3===t),this.handleElt.style.bottom="".concat(100*e,"%"),this.progressElt.style.height="".concat(100*e,"%")}}]),n}(Qf);Wk.id="videoVolume",Wk.groupId="video";var Xk=function(e){Ok(n,e);var t=Bk(n);function n(e,i){var r;return Lk(this,n),(r=t.call(this,i,{className:"psv-video-overlay"})).plugin=e,r.button=document.createElement("button"),r.button.className="psv-video-bigbutton psv--capture-event",r.button.innerHTML=Hk,r.container.appendChild(r.button),r.viewer.addEventListener(rf.PanoramaLoadedEvent.type,Ik(r)),r.plugin.addEventListener(Nk.type,Ik(r)),r.button.addEventListener("click",Ik(r)),r}return Pk(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(rf.PanoramaLoadedEvent.type,this),this.plugin.removeEventListener(Nk.type,this),Ck(Rk(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case rf.PanoramaLoadedEvent.type:case Nk.type:$c.toggleClass(this.button,"psv-video-bigbutton--pause",!this.plugin.isPlaying());break;case"click":this.plugin.playPause()}}}]),n}(Gf),Yk=function(e){Ok(n,e);var t=Bk(n);function n(e,i){var r;return Lk(this,n),(r=t.call(this,i,{className:"psv-video-progressbar"})).plugin=e,r.state={visible:!0,req:null,tooltip:null},r.bufferElt=document.createElement("div"),r.bufferElt.className="psv-video-progressbar__buffer",r.container.appendChild(r.bufferElt),r.progressElt=document.createElement("div"),r.progressElt.className="psv-video-progressbar__progress",r.container.appendChild(r.progressElt),r.handleElt=document.createElement("div"),r.handleElt.className="psv-video-progressbar__handle",r.container.appendChild(r.handleElt),r.slider=new $c.Slider(r.container,$c.SliderDirection.HORIZONTAL,r.__onSliderUpdate.bind(Ik(r))),r.viewer.addEventListener(rf.PanoramaLoadedEvent.type,Ik(r)),r.plugin.addEventListener(jk.type,Ik(r)),r.plugin.addEventListener(Uk.type,Ik(r)),r.state.req=window.requestAnimationFrame((function(){return r.__updateProgress()})),r.hide(),r}return Pk(n,[{key:"destroy",value:function(){var e;this.viewer.removeEventListener(rf.PanoramaLoadedEvent.type,this),this.plugin.removeEventListener(jk.type,this),this.plugin.removeEventListener(Uk.type,this),this.slider.destroy(),null===(e=this.state.tooltip)||void 0===e||e.hide(),window.cancelAnimationFrame(this.state.req),delete this.state.tooltip,Ck(Rk(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case rf.PanoramaLoadedEvent.type:case jk.type:case Uk.type:this.bufferElt.style.width="".concat(100*this.plugin.getBufferProgress(),"%")}}},{key:"__updateProgress",value:function(){var e=this;this.progressElt.style.width="".concat(100*this.plugin.getProgress(),"%"),this.state.req=window.requestAnimationFrame((function(){return e.__updateProgress()}))}},{key:"__onSliderUpdate",value:function(e){if(e.mouseover){this.handleElt.style.display="block",this.handleElt.style.left="".concat(100*e.value,"%");var t=Vk(this.plugin.getDuration()*e.value);this.state.tooltip?this.state.tooltip.update(t,{top:e.cursor.clientY,left:e.cursor.clientX}):this.state.tooltip=this.viewer.createTooltip({top:e.cursor.clientY,left:e.cursor.clientX,content:t})}else{var n;this.handleElt.style.display="none",null===(n=this.state.tooltip)||void 0===n||n.hide(),delete this.state.tooltip}e.click&&this.plugin.setProgress(e.value)}}]),n}(Gf),Jk=$c.getConfigParser({progressbar:!0,bigbutton:!0,keypoints:null}),qk=function(e){Ok(n,e);var t=Bk(n);function n(e,i){var r;if(Lk(this,n),(r=t.call(this,e,i)).state={curve:null,start:null,end:null,keypoints:null},!r.viewer.adapter.constructor.id.includes("video"))throw new Ph("VideoPlugin can only be used with a video adapter.");return r.config.progressbar&&(r.progressbar=new Yk(Ik(r),e)),r.config.bigbutton&&(r.overlay=new Xk(Ik(r),e)),r}return Pk(n,[{key:"init",value:function(){var e;Ck(Rk(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.autorotate=this.viewer.getPlugin("autorotate"),this.autorotate&&(this.autorotate.config.autostartDelay=0,this.autorotate.config.autostartOnIdle=!1),this.config.keypoints&&(this.setKeypoints(this.config.keypoints),delete this.config.keypoints),null===(e=this.autorotate)||void 0===e||e.addEventListener("autorotate",this),this.viewer.addEventListener(rf.BeforeRenderEvent.type,this),this.viewer.addEventListener(rf.PanoramaLoadedEvent.type,this),this.viewer.addEventListener(rf.KeypressEvent.type,this)}},{key:"destroy",value:function(){var e;null===(e=this.autorotate)||void 0===e||e.removeEventListener("autorotate",this),this.viewer.removeEventListener(rf.BeforeRenderEvent.type,this),this.viewer.removeEventListener(rf.PanoramaLoadedEvent.type,this),this.viewer.removeEventListener(rf.KeypressEvent.type,this),delete this.progressbar,delete this.overlay,delete this.markers,Ck(Rk(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){var t;switch(e.type){case rf.BeforeRenderEvent.type:this.__autorotate();break;case"autorotate":this.__configureAutorotate();break;case rf.PanoramaLoadedEvent.type:this.__bindVideo(e.data),null===(t=this.progressbar)||void 0===t||t.show();break;case rf.KeypressEvent.type:this.__onKeyPress(e);break;case"play":case"pause":this.dispatchEvent(new Nk(this.isPlaying()));break;case"progress":this.dispatchEvent(new jk(this.getBufferProgress()));break;case"volumechange":this.dispatchEvent(new Fk(this.getVolume()));break;case"timeupdate":this.dispatchEvent(new Uk(this.getTime(),this.getDuration(),this.getProgress()))}}},{key:"__bindVideo",value:function(e){this.video&&(this.video.removeEventListener("play",this),this.video.removeEventListener("pause",this),this.video.removeEventListener("progress",this),this.video.removeEventListener("volumechange",this),this.video.removeEventListener("timeupdate",this)),this.video=e.texture.image,this.video.addEventListener("play",this),this.video.addEventListener("pause",this),this.video.addEventListener("progress",this),this.video.addEventListener("volumechange",this),this.video.addEventListener("timeupdate",this)}},{key:"__onKeyPress",value:function(e){e.key===zc.KEY_CODES.Space&&(this.playPause(),e.preventDefault())}},{key:"getDuration",value:function(){var e,t;return null!==(e=null===(t=this.video)||void 0===t?void 0:t.duration)&&void 0!==e?e:0}},{key:"getTime",value:function(){var e,t;return null!==(e=null===(t=this.video)||void 0===t?void 0:t.currentTime)&&void 0!==e?e:0}},{key:"getProgress",value:function(){return this.video?this.video.currentTime/this.video.duration:0}},{key:"isPlaying",value:function(){return!!this.video&&!this.video.paused}},{key:"getVolume",value:function(){var e,t,n;return null!==(e=this.video)&&void 0!==e&&e.muted?0:null!==(t=null===(n=this.video)||void 0===n?void 0:n.volume)&&void 0!==t?t:0}},{key:"playPause",value:function(){this.video&&(this.video.paused?this.video.play():this.video.pause())}},{key:"play",value:function(){var e;null!==(e=this.video)&&void 0!==e&&e.paused&&this.video.play()}},{key:"pause",value:function(){this.video&&!this.video.paused&&this.video.pause()}},{key:"setVolume",value:function(e){this.video&&(this.video.muted=!1,this.video.volume=Lp.clamp(e,0,1))}},{key:"setMute",value:function(e){this.video&&(this.video.muted=void 0===e?!this.video.muted:e,this.video.muted||0!==this.video.volume||(this.video.volume=.1))}},{key:"setTime",value:function(e){this.video&&(this.video.currentTime=e)}},{key:"setProgress",value:function(e){this.video&&(this.video.currentTime=this.video.duration*e)}},{key:"getBufferProgress",value:function(){if(this.video){for(var e=0,t=this.video.buffered,n=0,i=t.length;n<i;n++)if(t.start(n)<=this.video.currentTime&&t.end(n)>=this.video.currentTime){e=t.end(n);break}return Math.max(this.video.currentTime,e)/this.video.duration}return 0}},{key:"setKeypoints",value:function(e){var t=this;if(!this.autorotate)throw new Ph("Video keypoints required the AutorotatePlugin");if(!e)return this.state.keypoints=null,void this.__configureAutorotate();if(e.length<2)throw new Ph("At least two points are required");this.state.keypoints=$c.clone(e),this.state.keypoints&&(this.state.keypoints.forEach((function(e,n){if(!e.position)throw new Ph("Keypoint #".concat(n," is missing marker or position"));if(e.position=t.viewer.dataHelper.cleanPosition(e.position),$c.isNil(e.time))throw new Ph("Keypoint #".concat(n," is missing time"))})),this.state.keypoints.sort((function(e,t){return e.time-t.time}))),this.__configureAutorotate()}},{key:"__configureAutorotate",value:function(){delete this.state.curve,delete this.state.start,delete this.state.end,this.autorotate.isEnabled()&&this.state.keypoints&&this.viewer.dynamics.position.stop()}},{key:"__autorotate",value:function(){var e;if(null!==(e=this.autorotate)&&void 0!==e&&e.isEnabled()&&this.state.keypoints){var t=this.getTime(),n=this.state;if((!n.curve||t<n.start.time||t>=n.end.time)&&this.__autorotateNext(t),n.start===n.end)this.viewer.rotate(n.start.position);else{var i=(t-n.start.time)/(n.end.time-n.start.time),r=n.curve.getPoint(1/3+i/3);this.viewer.dynamics.position.goto({yaw:r.x,pitch:r.y})}}}},{key:"__autorotateNext",value:function(e){var t=null,n=null,i=this.state.keypoints,r=i.length-1;e<i[0].time&&(t=0,n=0);for(var a=0;a<r;a++)if(e>=i[a].time&&e<i[a+1].time){t=a,n=a+1;break}e>=i[r].time&&(t=r,n=r);for(var o=[i[Math.max(0,t-1)].position,i[t].position,i[n].position,i[Math.min(r,n+1)].position],s=[new Op(o[0].yaw,o[0].pitch)],l=0,u=1;u<=3;u++){var c=o[u-1].yaw-o[u].yaw;c>Math.PI?l+=1:c<-Math.PI&&(l-=1),0!==l&&1===u&&(s[0].x-=2*l*Math.PI,l=0),s.push(new Op(o[u].yaw+2*l*Math.PI,o[u].pitch))}this.state.curve=new Fy(s),this.state.start=i[t],this.state.end=i[n]}}]),n}(ld);function Zk(e){return Zk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zk(e)}function Kk(e){return function(e){if(Array.isArray(e))return aS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $k(){return $k="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dS(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},$k.apply(this,arguments)}function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach((function(t){nS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nS(e,t,n){return(t=lS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(e,t)||rS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rS(e,t){if(e){if("string"===typeof e)return aS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aS(e,t):void 0}}function aS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function oS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,lS(i.key),i)}}function sS(e,t,n){return t&&oS(e.prototype,t),n&&oS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lS(e){var t=function(e,t){if("object"!==Zk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Zk(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zk(t)?t:String(t)}function uS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hS(e,t)}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hS(e,t)}function fS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=dS(e);if(t){var r=dS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Zk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function dS(e){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dS(e)}qk.id="video",qk.configParser=Jk,qk.readonlyOptions=Object.keys(Jk.defaults),cd.lang[Gk.id]="Play/Pause",cd.lang[Wk.id]="Volume",gd(Gk),gd(Wk),gd(Qk),cd.navbar.unshift(Gk.groupId);var pS=Object.defineProperty;!function(e,t){for(var n in t)pS(e,n,{get:t[n],enumerable:!0})}({},{NodeChangedEvent:function(){return vS}});var vS=function(e){cS(n,e);var t=fS(n);function n(e,i){var r;return uS(this,n),(r=t.call(this,n.type)).node=e,r.data=i,r}return sS(n)}(af);vS.type="node-changed";var mS={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"},uuid:"8B1A6E5B-A7CC-4471-9CA0-BD64D80ABB79",type:"BufferGeometry",data:{attributes:{position:{itemSize:3,type:"Float32Array",array:[-25,-15,-2.5,0,0,-2.5,0,-5,-2.5,0,-5,-2.5,0,0,-2.5,25,-15,-2.5,0,-5,-2.5,25,-15,-2.5,25,-20,-2.5,0,-5,-2.5,-25,-20,-2.5,-25,-15,-2.5,25,-15,2.5,25,-20,2.5,25,-15,-2.5,25,-15,-2.5,25,-20,2.5,25,-20,-2.5,25,-20,2.5,0,-5,2.5,25,-20,-2.5,25,-20,-2.5,0,-5,2.5,0,-5,-2.5,0,-5,2.5,-25,-20,2.5,0,-5,-2.5,0,-5,-2.5,-25,-20,2.5,-25,-20,-2.5,-25,-20,2.5,-25,-15,2.5,-25,-20,-2.5,-25,-20,-2.5,-25,-15,2.5,-25,-15,-2.5,-25,-15,2.5,0,0,2.5,-25,-15,-2.5,-25,-15,-2.5,0,0,2.5,0,0,-2.5,0,0,2.5,25,-15,2.5,0,0,-2.5,0,0,-2.5,25,-15,2.5,25,-15,-2.5,25,-20,2.5,25,-15,2.5,0,-5,2.5,0,-5,2.5,25,-15,2.5,0,0,2.5,0,-5,2.5,0,0,2.5,-25,-15,2.5,-25,-15,2.5,-25,-20,2.5,0,-5,2.5],normalized:!1},normal:{itemSize:3,type:"Float32Array",array:[0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1],normalized:!1}},boundingSphere:{center:[0,-10,0],radius:27.041634}}},gS={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"},uuid:"B12A1453-6E56-40AC-840B-BA7DF5DB9E2A",type:"BufferGeometry",data:{attributes:{position:{itemSize:3,type:"Float32Array",array:[-26,-21.766189,-3.5,-26,-14.433809,-3.5,0,-6.16619,-3.5,0,-6.16619,-3.5,-26,-14.433809,-3.5,0,1.16619,-3.5,0,-6.16619,-3.5,0,1.16619,-3.5,26,-14.43381,-3.5,26,-14.43381,-3.5,26,-21.766191,-3.5,0,-6.16619,-3.5,-26,-14.433809,3.5,0,1.16619,3.5,-26,-14.433809,-3.5,-26,-14.433809,-3.5,0,1.16619,3.5,0,1.16619,-3.5,0,1.16619,3.5,26,-14.43381,3.5,0,1.16619,-3.5,0,1.16619,-3.5,26,-14.43381,3.5,26,-14.43381,-3.5,26,-14.43381,3.5,26,-21.766191,3.5,26,-14.43381,-3.5,26,-14.43381,-3.5,26,-21.766191,3.5,26,-21.766191,-3.5,26,-21.766191,3.5,0,-6.16619,3.5,26,-21.766191,-3.5,26,-21.766191,-3.5,0,-6.16619,3.5,0,-6.16619,-3.5,0,-6.16619,3.5,-26,-21.766189,3.5,0,-6.16619,-3.5,0,-6.16619,-3.5,-26,-21.766189,3.5,-26,-21.766189,-3.5,-26,-21.766189,3.5,-26,-14.433809,3.5,-26,-21.766189,-3.5,-26,-21.766189,-3.5,-26,-14.433809,3.5,-26,-14.433809,-3.5,-26,-21.766189,3.5,0,-6.16619,3.5,-26,-14.433809,3.5,-26,-14.433809,3.5,0,-6.16619,3.5,0,1.16619,3.5,0,1.16619,3.5,0,-6.16619,3.5,26,-14.43381,3.5,26,-14.43381,3.5,0,-6.16619,3.5,26,-21.766191,3.5],normalized:!1},normal:{itemSize:3,type:"Float32Array",array:[0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,-.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,.514495,.857492,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,-.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,.514495,-.857492,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1],normalized:!1}},boundingSphere:{center:[0,-10.3,0],radius:28.630814}}},yS="tourLink",wS="__tour-link__",AS={html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 210 210" x="0px" y="0px"><path fill="currentColor" transform="translate(0 10)" d="M0 181l105 -181 105 181 -105 -61 -105 61zm105 -167l0 99 86 50 -86 -148z"/>\x3c!-- Created by Saifurrijal from the Noun Project --\x3e</svg>\n',size:{width:80,height:80},scale:[.5,2],anchor:"top center",className:"psv-virtual-tour__marker",style:{color:"rgba(0, 208, 255, 0.8)"}},bS=function(){var e=(new ZA).parseGeometries([mS,gS]),t=e[mS.uuid],n=e[gS.uuid],i=.015,r=Math.PI/2;return t.scale(i,i,i),t.rotateX(r),n.scale(i,i,i),n.rotateX(r),{ARROW_GEOM:t,ARROW_OUTLINE_GEOM:n}}(),xS=bS.ARROW_GEOM,MS=bS.ARROW_OUTLINE_GEOM,kS=function(){function e(t,n){uS(this,e),this.plugin=t,this.viewer=n,this.nodes={}}return sS(e,[{key:"destroy",value:function(){}},{key:"checkNode",value:function(e){var t,n;if(!e.id)throw new Ph("No id given for node");if(!e.panorama)throw new Ph("No panorama provided for node ".concat(e.id));if("position"in e&&($c.logWarn('Use the "gps" property to configure the GPS position of a virtual node'),e.gps=e.position),this.plugin.isGps&&!((null===(t=e.gps)||void 0===t?void 0:t.length)>=2))throw new Ph("No GPS position provided for node ".concat(e.id));if(!this.plugin.isGps&&null!==(n=e.markers)&&void 0!==n&&n.some((function(e){return e.gps&&!e.position})))throw new Ph("Cannot use GPS positioning for markers in manual mode")}},{key:"checkLink",value:function(e,t){if(!t.nodeId)throw new Ph("Link of node ".concat(e.id," has no target id"));if(Array.isArray(t.position)&&($c.logWarn('Use the "gps" property to configure the GPS position of a virtual link'),t.gps=t.position,delete t.position),$c.isExtendedPosition(t)&&($c.logWarn('Use the "position" property to configure the position of a virtual link'),t.position=this.viewer.dataHelper.cleanPosition(t)),!this.plugin.isGps&&!$c.isExtendedPosition(t.position))throw new Ph("No position provided for link ".concat(t.nodeId," of node ").concat(e.id));if(this.plugin.isGps&&!t.gps)throw new Ph("No GPS position provided for link ".concat(t.nodeId," of node ").concat(e.id))}}]),e}(),SS=function(e){cS(n,e);var t=fS(n);function n(){return uS(this,n),t.apply(this,arguments)}return sS(n,[{key:"loadNode",value:function(e){return this.nodes[e]?Promise.resolve(this.nodes[e]):Promise.reject(new Ph("Node ".concat(e," not found")))}},{key:"setNodes",value:function(e){var t=this;if(null===e||void 0===e||!e.length)throw new Ph("No nodes provided");var n={},i={};e.forEach((function(e){if(t.checkNode(e),n[e.id])throw new Ph("Duplicate node ".concat(e.id));e.links||($c.logWarn("Node ".concat(e.id," has no links")),e.links=[]),n[e.id]=e})),e.forEach((function(e){e.links.forEach((function(r){if(!n[r.nodeId])throw new Ph("Target node ".concat(r.nodeId," of node ").concat(e.id," does not exists"));r.gps=r.gps||n[r.nodeId].gps,r.name=r.name||n[r.nodeId].name,t.checkLink(e,r),i[r.nodeId]=!0}))})),e.forEach((function(e){i[e.id]||$c.logWarn("Node ".concat(e.id," is never linked to"))})),this.nodes=n}}]),n}(kS),ES=function(e){cS(n,e);var t=fS(n);function n(e,i){var r;if(uS(this,n),r=t.call(this,e,i),!e.config.getNode)throw new Ph("Missing getNode() option.");return r.nodeResolver=e.config.getNode,r}return sS(n,[{key:"loadNode",value:function(e){var t=this;return this.nodes[e]?Promise.resolve(this.nodes[e]):Promise.resolve(this.nodeResolver(e)).then((function(n){return t.checkNode(n),n.links||($c.logWarn("Node ".concat(n.id," has no links")),n.links=[]),n.links.forEach((function(e){t.nodes[e.nodeId]&&(e.gps=e.gps||t.nodes[e.nodeId].gps,e.name=e.name||t.nodes[e.nodeId].name),t.checkLink(n,e)})),t.nodes[e]=n,n}))}}]),n}(kS);function CS(e,t){e.material.color.set(t)}function TS(e,t){var n,i,r=[Lp.degToRad(e[0]),Lp.degToRad(e[1])],a=[Lp.degToRad(t[0]),Lp.degToRad(t[1])],o=null!==(n=e[2])&&void 0!==n?n:0,s=null!==(i=t[2])&&void 0!==i?i:0,l=0;o!==s&&(l=Math.atan((s-o)/function(e,t){return 6371e3*$c.greatArcDistance(e,t)}(r,a)));var u=function(e,t){var n=iS(e,2),i=n[0],r=n[1],a=iS(t,2),o=a[0],s=a[1],l=Math.sin(o-i)*Math.cos(s),u=Math.cos(r)*Math.sin(s)-Math.sin(r)*Math.cos(s)*Math.cos(o-i);return Math.atan2(l,u)}(r,a);return{yaw:u,pitch:l}}var PS=$c.getConfigParser({dataMode:"client",positionMode:"manual",renderMode:"3d",nodes:null,getNode:null,startNodeId:null,preload:!1,rotateSpeed:"20rpm",transition:zc.DEFAULT_TRANSITION,linksOnCompass:!0,markerStyle:AS,arrowStyle:{color:"#aaaaaa",hoverColor:"#aa5500",outlineColor:"#000000",scale:[.5,2]},markerPitchOffset:-.1,arrowPosition:"bottom",map:null},{dataMode:function(e){if("client"!==e&&"server"!==e)throw new Ph("VirtualTourPlugin: invalid dataMode");return e},positionMode:function(e){if("gps"!==e&&"manual"!==e)throw new Ph("VirtualTourPlugin: invalid positionMode");return e},renderMode:function(e){if("3d"!==e&&"markers"!==e)throw new Ph("VirtualTourPlugin: invalid renderMode");return e},markerStyle:function(e,t){return tS(tS({},t.defValue),e)},arrowStyle:function(e,t){return tS(tS({},t.defValue),e)},map:function(e,t){var n=t.rawConfig;if(e){if("server"===n.dataMode)return $c.logWarn("VirtualTourPlugin: The map cannot be used in server side mode"),null;if(!e.imageUrl)return $c.logWarn('VirtualTourPlugin: configuring the map requires at least "imageUrl"'),null}return e}}),_S=function(e){cS(n,e);var t=fS(n);function n(e,i){var r;if(uS(this,n),(r=t.call(this,e,i)).state={currentNode:null,currentTooltip:null,loadingNode:null,preload:{}},r.is3D){r.arrowsGroup=new hg;var a=new UA(16777215,1,0);a.position.set(0,"bottom"===r.config.arrowPosition?2:-2,0),r.arrowsGroup.add(a)}return r}return sS(n,[{key:"is3D",get:function(){return"3d"===this.config.renderMode}},{key:"isServerSide",get:function(){return"server"===this.config.dataMode}},{key:"isGps",get:function(){return"gps"===this.config.positionMode}},{key:"init",value:function(){var e;if($k(dS(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.compass=this.viewer.getPlugin("compass"),this.gallery=this.viewer.getPlugin("gallery"),!this.is3D&&!this.markers)throw new Ph("VirtualTour plugin requires the Markers plugin in markers mode.");null!==(e=this.markers)&&void 0!==e&&e.config.markers&&($c.logWarn("No default markers can be configured on Markers plugin when using VirtualTour plugin. Consider defining `markers` on each tour node."),delete this.markers.config.markers),this.config.map&&(this.map=this.viewer.getPlugin("map"),this.map||$c.logWarn("The map is configured on the VirtualTourPlugin but the MapPlugin is not loaded.")),this.datasource=this.isServerSide?new ES(this,this.viewer):new SS(this,this.viewer),this.is3D?(this.viewer.observeObjects(yS),this.viewer.addEventListener(rf.PositionUpdatedEvent.type,this),this.viewer.addEventListener(rf.ZoomUpdatedEvent.type,this),this.viewer.addEventListener(rf.ClickEvent.type,this),this.viewer.addEventListener(rf.ObjectEnterEvent.type,this),this.viewer.addEventListener(rf.ObjectHoverEvent.type,this),this.viewer.addEventListener(rf.ObjectLeaveEvent.type,this),this.viewer.addEventListener(rf.ReadyEvent.type,this,{once:!0})):this.markers.addEventListener("select-marker",this),this.map&&(this.map.addEventListener("select-hotspot",this),this.map.setImage(this.config.map.imageUrl)),this.isServerSide?this.config.startNodeId&&this.setCurrentNode(this.config.startNodeId):this.config.nodes&&(this.setNodes(this.config.nodes,this.config.startNodeId),delete this.config.nodes)}},{key:"destroy",value:function(){var e;this.markers&&this.markers.removeEventListener("select-marker",this),this.arrowsGroup&&this.viewer.renderer.removeObject(this.arrowsGroup),null===(e=this.map)||void 0===e||e.removeEventListener("select-hotspot",this),this.viewer.removeEventListener(rf.PositionUpdatedEvent.type,this),this.viewer.removeEventListener(rf.ZoomUpdatedEvent.type,this),this.viewer.removeEventListener(rf.ClickEvent.type,this),this.viewer.removeEventListener(rf.ObjectEnterEvent.type,this),this.viewer.removeEventListener(rf.ObjectHoverEvent.type,this),this.viewer.removeEventListener(rf.ObjectLeaveEvent.type,this),this.viewer.removeEventListener(rf.ReadyEvent.type,this),this.viewer.unobserveObjects(yS),this.datasource.destroy(),delete this.datasource,delete this.markers,delete this.compass,delete this.gallery,delete this.arrowsGroup,$k(dS(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){if(e instanceof rf.ReadyEvent){this.__positionArrows(),this.viewer.renderer.addObject(this.arrowsGroup);var t=new GA(16777215,1);this.viewer.renderer.addObject(t),this.viewer.needsUpdate()}else if(e instanceof rf.PositionUpdatedEvent||e instanceof rf.ZoomUpdatedEvent)this.__positionArrows();else if(e instanceof rf.ClickEvent){var n,i=null===(n=e.data.objects.find((function(e){return e.userData[yS]})))||void 0===n?void 0:n.userData[yS];i&&this.setCurrentNode(i.nodeId,i)}else if("select-marker"===e.type){var r,a=null===(r=e.marker.data)||void 0===r?void 0:r[yS];a&&this.setCurrentNode(a.nodeId,a)}else if(e instanceof rf.ObjectEnterEvent)e.userDataKey===yS&&this.__onEnterObject(e.object,e.viewerPoint);else if(e instanceof rf.ObjectLeaveEvent)e.userDataKey===yS&&this.__onLeaveObject(e.object);else if(e instanceof rf.ObjectHoverEvent)e.userDataKey===yS&&this.__onHoverObject(e.viewerPoint);else if("select-hotspot"===e.type){var o=e.hotspotId;o.startsWith(wS)&&this.setCurrentNode(o.substring(13))}}},{key:"setNodes",value:function(e,t){var n=this;if(this.isServerSide)throw new Ph("Cannot set nodes in server side mode");this.datasource.setNodes(e),t?this.datasource.nodes[t]||(t=e[0].id,$c.logWarn("startNodeId not found is provided nodes, resetted to ".concat(t))):t=e[0].id,this.setCurrentNode(t),this.gallery&&this.gallery.setItems(e.map((function(e){return{id:e.id,panorama:e.panorama,name:e.name,thumbnail:e.thumbnail,options:{caption:e.caption,panoData:e.panoData,sphereCorrection:e.sphereCorrection,description:e.description}}})),(function(e){n.setCurrentNode(e)})),this.map&&this.map.setHotspots(Kk(e.map((function(e){return tS(tS(tS({},e.map||{}),n.__getNodeMapPosition(e)),{},{id:wS+e.id,tooltip:e.name})}))))}},{key:"setCurrentNode",value:function(e,t){var n,i=this;if(e===(null===(n=this.state.currentNode)||void 0===n?void 0:n.id))return Promise.resolve(!0);this.viewer.hideError(),this.state.loadingNode=e;var r=this.state.currentNode,a=r&&t?this.__getLinkPosition(r,t):null;return Promise.all([Promise.resolve(this.state.preload[e]).then((function(){if(i.state.loadingNode!==e)throw $c.getAbortError();return i.datasource.loadNode(e)})),Promise.resolve(!!a&&this.config.rotateSpeed).then((function(e){if(e)return i.viewer.animate(tS(tS({},a),{},{speed:e}))})).then((function(){i.viewer.loader.show()}))]).then((function(t){var n,r,a,o,s=iS(t,1)[0];if(i.state.loadingNode!==e)throw $c.getAbortError();(i.state.currentNode=s,i.state.currentTooltip&&(i.state.currentTooltip.hide(),i.state.currentTooltip=null),i.is3D)&&(o=i.arrowsGroup).remove.apply(o,Kk(i.arrowsGroup.children.filter((function(e){return e.isMesh}))));if(null===(n=i.gallery)||void 0===n||n.hide(),null===(r=i.markers)||void 0===r||r.clearMarkers(),null===(a=i.compass)||void 0===a||a.clearHotspots(),i.map){i.map.minimize();var l=i.__getNodeMapPosition(s);"number"===typeof i.config.transition?setTimeout((function(){return i.map.setCenter(l)}),i.config.transition/2):i.map.setCenter(l)}return i.viewer.setPanorama(s.panorama,{transition:i.config.transition,caption:s.caption,description:s.description,panoData:s.panoData,sphereCorrection:s.sphereCorrection}).then((function(e){if(!e)throw $c.getAbortError()}))})).then((function(){if(i.state.loadingNode!==e)throw $c.getAbortError();var n=i.state.currentNode;return n.markers&&i.__addNodeMarkers(n),i.__renderLinks(n),i.__preload(n),i.dispatchEvent(new vS(n,{fromNode:r,fromLink:t,fromLinkPosition:a})),i.state.loadingNode=null,!0})).catch((function(e){if($c.isAbortError(e))return!1;throw i.viewer.showError(i.viewer.config.lang.loadError),i.viewer.loader.hide(),i.viewer.navbar.setCaption(""),i.state.loadingNode=null,e}))}},{key:"__renderLinks",value:function(e){var t=this,n=[];e.links.forEach((function(i){var r=t.__getLinkPosition(e,i);if(n.push(r),t.is3D){var a,o,s=new Wm(xS,new qw);s.userData=nS({},yS,i),s.rotation.order="YXZ",s.rotateY(-r.yaw),t.viewer.dataHelper.sphericalCoordsToVector3({yaw:r.yaw,pitch:0},s.position).multiplyScalar(1/zc.SPHERE_RADIUS);var l=new Wm(MS,new ym({side:ap}));l.position.copy(s.position),l.rotation.copy(s.rotation),CS(s,(null===(a=i.arrowStyle)||void 0===a?void 0:a.color)||t.config.arrowStyle.color),CS(l,(null===(o=i.arrowStyle)||void 0===o?void 0:o.outlineColor)||t.config.arrowStyle.outlineColor),t.arrowsGroup.add(s),t.arrowsGroup.add(l)}else t.isGps&&(r.pitch+=t.config.markerPitchOffset),t.markers.addMarker(tS(tS(tS({},t.config.markerStyle),i.markerStyle),{},{position:r,id:wS+i.nodeId,tooltip:i.name,visible:!0,hideList:!0,data:nS({},yS,i)}),!1)})),this.is3D?this.__positionArrows():this.markers.renderMarkers(),this.config.linksOnCompass&&this.compass&&this.compass.setHotspots(n)}},{key:"__getLinkPosition",value:function(e,t){return this.isGps?TS(e.gps,t.gps):this.viewer.dataHelper.cleanPosition(t.position)}},{key:"__onEnterObject",value:function(e,t){var n,i=e.userData[yS];CS(e,(null===(n=i.arrowStyle)||void 0===n?void 0:n.hoverColor)||this.config.arrowStyle.hoverColor),i.name&&(this.state.currentTooltip=this.viewer.createTooltip({left:t.x,top:t.y,content:i.name})),this.viewer.needsUpdate()}},{key:"__onHoverObject",value:function(e){this.state.currentTooltip&&this.state.currentTooltip.move({left:e.x,top:e.y})}},{key:"__onLeaveObject",value:function(e){var t;CS(e,(null===(t=e.userData[yS].arrowStyle)||void 0===t?void 0:t.color)||this.config.arrowStyle.color),this.state.currentTooltip&&(this.state.currentTooltip.hide(),this.state.currentTooltip=null),this.viewer.needsUpdate()}},{key:"__positionArrows",value:function(){this.arrowsGroup.position.copy(this.viewer.state.direction).multiplyScalar(.5);var e=this.config.arrowStyle.scale,t=e[1]+(e[0]-e[1])*(this.viewer.getZoomLevel()/100),n=2.5-this.viewer.getZoomLevel()/100*1.5;this.arrowsGroup.position.y+="bottom"===this.config.arrowPosition?-n:n,this.arrowsGroup.scale.set(t,t,t)}},{key:"__preload",value:function(e){var t=this;this.config.preload&&(this.state.preload[e.id]=!0,this.state.currentNode.links.filter((function(e){return!t.state.preload[e.nodeId]})).filter((function(e){return"function"!==typeof t.config.preload||t.config.preload(t.state.currentNode,e)})).forEach((function(e){t.state.preload[e.nodeId]=t.datasource.loadNode(e.nodeId).then((function(e){return t.viewer.textureLoader.preloadPanorama(e.panorama)})).then((function(){t.state.preload[e.nodeId]=!0})).catch((function(){delete t.state.preload[e.nodeId]}))})))}},{key:"__addNodeMarkers",value:function(e){var t=this;this.markers?this.markers.setMarkers(e.markers.map((function(n){var i;n.gps&&t.isGps&&(n.position=TS(e.gps,n.gps),null!==(i=n.data)&&void 0!==i&&i.map&&t.map&&Object.assign(n.data.map,t.__getGpsMapPosition(n.gps)));return n}))):$c.logWarn("Node ".concat(e.id," markers ignored because the plugin is not loaded."))}},{key:"__getNodeMapPosition",value:function(e){var t=this.__getGpsMapPosition(e.gps);return t||(e.map?{x:e.map.x,y:e.map.y}:null)}},{key:"__getGpsMapPosition",value:function(e){var t=this.config.map;return this.isGps&&t.extent&&t.size?{x:Lp.mapLinear(e[0],t.extent[0],t.extent[2],0,t.size.width),y:Lp.mapLinear(e[1],t.extent[1],t.extent[3],0,t.size.height)}:null}}]),n}(ld);function LS(e){return LS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LS(e)}function OS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,DS(i.key),i)}}function DS(e){var t=function(e,t){if("object"!==LS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==LS(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===LS(t)?t:String(t)}function BS(){return BS="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zS(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},BS.apply(this,arguments)}function IS(e,t){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},IS(e,t)}function RS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=zS(e);if(t){var r=zS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===LS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function zS(e){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zS(e)}_S.id="virtual-tour",_S.configParser=PS,_S.readonlyOptions=Object.keys(PS.defaults);var NS=1e-6,FS=$c.getConfigParser({verticalRange:null,horizontalRange:null,usePanoData:!1}),US=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IS(e,t)}(a,e);var t,n,i,r=RS(a);function a(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,e,t)}return t=a,n=[{key:"init",value:function(){BS(zS(a.prototype),"init",this).call(this),this.autorotate=this.viewer.getPlugin("autorotate"),this.viewer.addEventListener(rf.PanoramaLoadedEvent.type,this),this.viewer.addEventListener(rf.PositionUpdatedEvent.type,this),this.viewer.addEventListener(rf.ZoomUpdatedEvent.type,this),this.viewer.addEventListener(rf.BeforeAnimateEvent.type,this),this.viewer.addEventListener(rf.BeforeRotateEvent.type,this),this.setVerticalRange(this.config.verticalRange),this.setHorizontalRange(this.config.horizontalRange)}},{key:"destroy",value:function(){this.viewer.removeEventListener(rf.PanoramaLoadedEvent.type,this),this.viewer.removeEventListener(rf.PositionUpdatedEvent.type,this),this.viewer.removeEventListener(rf.ZoomUpdatedEvent.type,this),this.viewer.removeEventListener(rf.BeforeAnimateEvent.type,this),this.viewer.removeEventListener(rf.BeforeRotateEvent.type,this),BS(zS(a.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case rf.PanoramaLoadedEvent.type:this.config.usePanoData&&this.setRangesFromPanoData();break;case rf.BeforeRotateEvent.type:case rf.BeforeAnimateEvent.type:var t=e,n=this.__applyRanges(t.position,t.zoomLevel).rangedPosition;t.position=n;break;case rf.PositionUpdatedEvent.type:var i,r=e.position,a=this.__applyRanges(r),o=a.sidesReached,s=a.rangedPosition;(o.left||o.right)&&null!==(i=this.autorotate)&&void 0!==i&&i.isEnabled()?this.__reverseAutorotate(o.left,o.right):(Math.abs(r.yaw-s.yaw)>NS||Math.abs(r.pitch-s.pitch)>NS)&&this.viewer.dynamics.position.setValue(s);break;case rf.ZoomUpdatedEvent.type:var l=this.viewer.getPosition(),u=this.__applyRanges(l).rangedPosition;(Math.abs(l.yaw-u.yaw)>NS||Math.abs(l.pitch-u.pitch)>NS)&&this.viewer.dynamics.position.setValue(u)}}},{key:"setVerticalRange",value:function(e){e&&2!==e.length&&($c.logWarn("vertical range must have exactly two elements"),e=null),e?(this.config.verticalRange=e.map((function(e){return $c.parseAngle(e,!0)})),this.config.verticalRange[0]>this.config.verticalRange[1]&&($c.logWarn("vertical range values must be ordered"),this.config.verticalRange=[this.config.verticalRange[1],this.config.verticalRange[0]]),this.viewer.state.ready&&this.viewer.rotate(this.viewer.getPosition())):this.config.verticalRange=null}},{key:"setHorizontalRange",value:function(e){e&&2!==e.length&&($c.logWarn("horizontal range must have exactly two elements"),e=null),e?(this.config.horizontalRange=e.map((function(e){return $c.parseAngle(e)})),this.viewer.state.ready&&this.viewer.rotate(this.viewer.getPosition())):this.config.horizontalRange=null}},{key:"setRangesFromPanoData",value:function(){this.setVerticalRange(this.__getPanoVerticalRange()),this.setHorizontalRange(this.__getPanoHorizontalRange())}},{key:"__getPanoVerticalRange",value:function(){var e=this.viewer.state.panoData;if(e.croppedHeight===e.fullHeight)return null;var t=function(t){return Math.PI*(1-t/e.fullHeight)-Math.PI/2};return[t(e.croppedY+e.croppedHeight),t(e.croppedY)]}},{key:"__getPanoHorizontalRange",value:function(){var e=this.viewer.state.panoData;if(e.croppedWidth===e.fullWidth)return null;var t=function(t){return 2*Math.PI*(t/e.fullWidth)-Math.PI};return[t(e.croppedX),t(e.croppedX+e.croppedWidth)]}},{key:"__applyRanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewer.getPosition(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.viewer.getZoomLevel(),n={yaw:e.yaw,pitch:e.pitch},i={},r=this.viewer.dataHelper.zoomLevelToFov(t),a=this.viewer.dataHelper.vFovToHFov(r);if(this.config.horizontalRange){var o=$c.clone(this.config.horizontalRange),s=Lp.degToRad(a)/2;o[0]=$c.parseAngle(o[0]+s),o[1]=$c.parseAngle(o[1]-s),o[0]>o[1]?e.yaw>o[1]&&e.yaw<o[0]&&(e.yaw>o[0]/2+o[1]/2?(n.yaw=o[0],i.left=!0):(n.yaw=o[1],i.right=!0)):e.yaw<o[0]?(n.yaw=o[0],i.left=!0):e.yaw>o[1]&&(n.yaw=o[1],i.right=!0)}if(this.config.verticalRange){var l=$c.clone(this.config.verticalRange),u=Lp.degToRad(r)/2;l[0]=$c.parseAngle(l[0]+u,!0),l[1]=$c.parseAngle(l[1]-u,!0),l[0]>l[1]&&(l[0]=(l[0]+l[1])/2,l[1]=l[0]),e.pitch<l[0]?(n.pitch=l[0],i.bottom=!0):e.pitch>l[1]&&(n.pitch=l[1],i.top=!0)}return{rangedPosition:n,sidesReached:i}}},{key:"__reverseAutorotate",value:function(e,t){e&&this.autorotate.config.autorotateSpeed>0||t&&this.autorotate.config.autorotateSpeed<0||this.autorotate.reverse()}}],n&&OS(t.prototype,n),i&&OS(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(ld);function jS(e){return jS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jS(e)}function HS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function GS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HS(Object(n),!0).forEach((function(t){VS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VS(e,t,n){return(t=KS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QS(e){return function(e){if(Array.isArray(e))return JS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||YS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WS(){return WS="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rE(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},WS.apply(this,arguments)}function XS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(e,t)||YS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YS(e,t){if(e){if("string"===typeof e)return JS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JS(e,t):void 0}}function JS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,KS(i.key),i)}}function ZS(e,t,n){return t&&qS(e.prototype,t),n&&qS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KS(e){var t=function(e,t){if("object"!==jS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==jS(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jS(t)?t:String(t)}function $S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eE(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tE(e,t)}function nE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=rE(e);if(t){var r=rE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===jS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iE(e)}(this,n)}}function iE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rE(e){return rE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rE(e)}US.id="visible-range",US.configParser=FS,US.readonlyOptions=["horizontalRange","verticalRange"];var aE=Object.defineProperty;!function(e,t){for(var n in t)aE(e,n,{get:t[n],enumerable:!0})}({},{SelectHotspot:function(){return oE}});var oE=function(e){eE(n,e);var t=nE(n);function n(e){var i;return $S(this,n),(i=t.call(this,n.type)).hotspotId=e,i}return ZS(n)}(af);oE.type="select-hotspot";var sE="__marker__";function lE(e,t,n){return{x:(Math.cos(-t)*e.x-Math.sin(-t)*e.y)*n,y:(Math.sin(-t)*e.x+Math.cos(-t)*e.y)*n}}function uE(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"black";e.shadowOffsetX=t*Uf.pixelRatio,e.shadowOffsetY=n*Uf.pixelRatio,e.shadowBlur=i*Uf.pixelRatio,e.shadowColor=r}function cE(e,t,n){var i=t.width,r=t.height;hE(e,t,-n/2,-r/i*n/2,n,r/i*n)}function hE(e,t,n,i,r,a){e.drawImage(t,0,0,t.width,t.height,n*Uf.pixelRatio,i*Uf.pixelRatio,r*Uf.pixelRatio,a*Uf.pixelRatio)}var fE={top:"bottom",bottom:"top",left:"right",right:"left"};var dE=function(e){eE(n,e);var t=nE(n);function n(e,i){var r;return $S(this,n),(r=t.call(this,e,{})).map=e,r.position=i,r}return ZS(n,[{key:"applyConfig",value:function(){this.container.className="psv-map__button psv-map__button--".concat(function(e,t){switch(t){case 1:return[fE[e[0]],fE[e[1]]];case 2:return[e[0],fE[e[1]]];case 3:return[fE[e[0]],e[1]];default:return e}}(this.map.config.position,this.position).join("-")),this.update()}},{key:"update",value:function(){}}]),n}(Gf),pE=function(e){eE(n,e);var t=nE(n);function n(e){var i;return $S(this,n),(i=t.call(this,e,0)).container.addEventListener("click",(function(t){e.toggleCollapse(),t.stopPropagation()})),i}return ZS(n,[{key:"applyConfig",value:function(){WS(rE(n.prototype),"applyConfig",this).call(this),this.container.classList.add("psv-map__button-close")}},{key:"update",value:function(){this.container.innerHTML=this.map.collapsed?'<svg viewBox="114 45 472 472" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M383.6 196a67.3 67.3 0 1 0-134.5.1 67.3 67.3 0 0 0 134.5-.1zm-100.8 0a33.6 33.6 0 1 1 67.3 0 33.6 33.6 0 0 1-67.3 0z"/><path d="M584 340.8a16.8 16.8 0 0 0-15.6-10.4H403.8c25.2-40.2 47-88 47-133.4A135 135 0 0 0 316.4 61.6 135 135 0 0 0 182 197c0 55.8 33 115.3 64.7 159.8L120.4 469a16.8 16.8 0 0 0 11.2 29.4H434c4.5 0 8.7-1.8 11.9-5l134.4-134.3c4.8-4.8 6.2-12 3.6-18.3zM215.5 197c0-56.1 45.2-101.8 100.8-101.8 55.6 0 100.8 45.6 100.8 101.8 0 65-57.1 144.2-100.8 192.8C273 341.7 215.6 262.3 215.6 197zM427 464.8H175.8l91.3-81.1a575.6 575.6 0 0 0 37.4 42.6 16.8 16.8 0 0 0 23.8 0c2.2-2.2 26.3-26.7 52.6-62.3h147z"/></g>\x3c!-- Created by Ayub Irawan from Noun Project --\x3e</svg>':zc.ICONS.close,this.container.title=this.map.collapsed?this.viewer.config.lang.map:this.viewer.config.lang.close}}]),n}(dE),vE=function(e){eE(n,e);var t=nE(n);function n(e){var i;return $S(this,n),(i=t.call(this,e,3)).container.innerHTML='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M50,0L70,50L50,100L30,50Z M50,86L64,50L36,50Z" fill="currentColor"/></svg>',i.container.querySelector("svg").style.width="80%",i.container.addEventListener("click",(function(t){i.viewer.dynamics.position.goto({yaw:-e.config.rotation},2),t.stopPropagation()})),i}return ZS(n,[{key:"rotate",value:function(e){this.container.querySelector("svg").style.transform="rotate3d(0, 0, 1, ".concat(-e,"rad)")}}]),n}(dE),mE={"bottom-left":0,"bottom-right":-90,"top-right":180,"top-left":90},gE=function(e){eE(n,e);var t=nE(n);function n(e){var i;return $S(this,n),(i=t.call(this,e,1)).container.addEventListener("click",(function(t){e.toggleMaximized(),t.stopPropagation()})),i}return ZS(n,[{key:"update",value:function(){this.container.innerHTML=this.map.maximized?'<svg viewBox="95 25 510 510" xmlns="http://www.w3.org/2000/svg"><path d="M109.8 25.8h481c7.8 0 14 6.1 14 14v481c0 7.8-6.2 14-14 14H358.4c-7.8 0-14-6.2-14-14s6.2-14 14-14h217.8v-453H123.8v216.7c0 7.8-6.2 14-14 14-7.9 0-14-6.2-14-14V39.8c0-7.9 6.1-14 14-14zm176.4 508.4H109.8c-7.9 0-14-6.1-14-14V343.8c0-7.8 6.1-14 14-14h176.4c7.8 0 14 6.2 14 14v176.4c0 7.9-6.8 14-14 14zm-14-176.4H123.8v148.4h148.4zm64.4-191.5c-7.9 0-14 6.2-14 14v113.1c0 7.9 6.1 14 14 14h113c8 0 14-6.1 14-14s-6-14-14-14h-79.4l141-141a13.5 13.5 0 0 0 0-19.7 13.5 13.5 0 0 0-19.5 0L350.6 259.8v-79.5c0-7.8-6.2-14-14-14z" fill="currentColor"/>\x3c!-- Created by Gregor Cresnar from Noun Project --\x3e</svg>':'<svg viewBox="95 25 510 510" xmlns="http://www.w3.org/2000/svg"><path d="M604.2 39.8v481c0 7.8-6.1 14-14 14H358.4c-7.8 0-14-6.2-14-14s6.2-14 14-14h217.8v-453H123.8v216.7c0 7.8-6.2 14-14 14-7.9 0-14-6.2-14-14V39.8c0-7.9 6.1-14 14-14h481c7.3 0 13.4 6.1 13.4 14zm-304 304v176.4c0 7.9-6.2 14-14 14H109.8c-7.9 0-14-6.1-14-14V343.8c0-7.8 6.1-14 14-14h176.4c7.2 0 14 6.8 14 14zm-28 14H123.8v148.4h148.4zm215.6-195.4v79.5c0 7.9 6.1 14 14 14 7.8 0 14-6.1 14-14V128.2c0-7.8-6.2-14-14-14H388.6c-7.8 0-14 6.2-14 14 0 7.9 6.2 14 14 14h79L326.5 283.4a13.5 13.5 0 0 0 0 19.6c2.8 2.8 6.1 3.9 10 3.9 4 0 7.3-1.1 10.1-4z" fill="currentColor"/>\x3c!-- Created by Gregor Cresnar from Noun Project --\x3e</svg>',this.container.querySelector("svg").style.transform="rotate3d(0, 0, 1, ".concat(mE[this.map.config.position.join("-")],"deg)"),this.container.title=this.map.maximized?this.viewer.config.lang.mapMinimize:this.viewer.config.lang.mapMaximize}}]),n}(dE),yE=function(e){eE(n,e);var t=nE(n);function n(e){var i;return $S(this,n),(i=t.call(this,e,2)).container.title=i.viewer.config.lang.mapReset,i.container.innerHTML='<svg viewBox="170 100 360 360" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M518.6 269h-18.5a150.8 150.8 0 0 0-138-137.9v-20.9c0-5.8-4.7-10.6-10.5-10.6h-3.2c-5.8 0-10.6 4.8-10.6 10.6v21A150.8 150.8 0 0 0 200 269h-18.5c-5.9 0-10.6 4.7-10.6 10.6v3.2c0 5.8 4.7 10.5 10.6 10.5h18.5c6 73.4 64.6 132 138 138v18.5c0 5.8 4.7 10.6 10.5 10.6h3.2c5.8 0 10.6-4.8 10.6-10.6v-18.6c73.3-5.9 132-64.5 137.9-137.9h18.5c5.9 0 10.6-4.7 10.6-10.5v-3.2c0-5.9-4.7-10.6-10.6-10.6zM362.2 414.4v-9.8c0-5.9-4.8-10.6-10.6-10.6h-3.2c-5.8 0-10.6 4.7-10.6 10.6v9.8a134 134 0 0 1-121-121h9.8c5.9 0 10.6-4.8 10.6-10.6v-3.2c0-5.9-4.7-10.6-10.6-10.6h-9.8a134 134 0 0 1 121-121v7.5c0 5.8 4.8 10.5 10.6 10.5h3.2c5.8 0 10.6-4.7 10.6-10.5V148a134 134 0 0 1 121 121h-9.8c-5.9 0-10.6 4.7-10.6 10.6v3.2c0 5.8 4.7 10.5 10.6 10.5h9.8a134 134 0 0 1-121 121z"/><path d="M355.4 222a6 6 0 0 0-10.7 0L291 320a8.3 8.3 0 0 0 9.7 12l39.2-11.7c6.6-2 13.6-2 20.2 0l39.2 11.7a8.3 8.3 0 0 0 9.7-12z"/></g>\x3c!-- Created by muhammad benani from Noun Project --\x3e</svg>',i.container.querySelector("svg").style.width="80%",i.container.addEventListener("click",(function(t){e.reset(),t.stopPropagation()})),i}return ZS(n)}(dE),wE=function(e){eE(n,e);var t=nE(n);function n(e){var i;$S(this,n),(i=t.call(this,e,{className:"psv-map__toolbar"})).map=e,i.handler=new $c.PressHandler(100),i.container.innerHTML="".concat('<svg viewBox="128 58 444 444" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M350 58.2a221.8 221.8 0 1 0 0 443.6 221.8 221.8 0 0 0 0-443.6zm130.3 252.7H219.7a31 31 0 1 1 0-61.8h260.6a31 31 0 1 1 0 61.8z"/>\x3c!-- Created by Iconika from Noun Project --\x3e</svg>','<span class="psv-map__toolbar-text">100%</span>').concat('<svg viewBox="143.8 73.8 412.5 412.5" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M350 73.8a206.2 206.2 0 1 0 0 412.4 206.2 206.2 0 0 0 0-412.4zm117.3 234H378v89.5a27.9 27.9 0 1 1-55.8 0V308h-89.4a27.9 27.9 0 1 1 0-55.8H322v-89.5a27.9 27.9 0 1 1 55.8 0v89.5h89.5a27.9 27.9 0 1 1 0 55.8z"/>\x3c!-- Created by Iconika from Noun Project --\x3e</svg>'),i.zoomIndicator=i.container.querySelector(".psv-map__toolbar-text");var r=i.container.querySelectorAll("svg");return r[0].dataset.delta="-1",r[1].dataset.delta="1",i.container.addEventListener("mousedown",iE(i)),window.addEventListener("mouseup",iE(i)),i.container.addEventListener("touchstart",iE(i)),window.addEventListener("touchend",iE(i)),i}return ZS(n,[{key:"destroy",value:function(){window.removeEventListener("mouseup",this),window.removeEventListener("touchend",this),WS(rE(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){var t=this;switch(e.type){case"mousedown":case"touchstart":var n=$c.getClosest(e.target,"svg"),i=null===n||void 0===n?void 0:n.dataset.delta;i&&(cancelAnimationFrame(this.animation),this.handler.down(),this.time=performance.now(),this.animateZoom(parseInt(i,10)),e.preventDefault(),e.stopPropagation());break;case"mouseup":case"touchend":this.animation&&(this.handler.up((function(){cancelAnimationFrame(t.animation),t.animation=null})),e.preventDefault(),e.stopPropagation())}}},{key:"setText",value:function(e){this.zoomIndicator.innerText="".concat(Math.round(100*Math.exp(e)),"%")}},{key:"animateZoom",value:function(e){var t=this;this.animation=requestAnimationFrame((function(n){t.map.zoom(e*(n-t.time)/1e3),t.time=n,t.animateZoom(e)}))}}]),n}(Gf),AE=function(e){eE(n,e);var t=nE(n);function n(e,i){var r;$S(this,n),(r=t.call(this,e,{className:"psv-map psv--capture-event"})).plugin=i,r.state={visible:!1,maximized:!1,collapsed:!1,imgScale:1,zoom:r.config.defaultZoom,offset:{x:0,y:0},mouseX:null,mouseY:null,mousedown:!1,pinchDist:0,pinchAngle:0,hotspotPos:{},hotspotId:null,hotspotTooltip:null,markers:[],forceRender:!1,needsUpdate:!1,renderLoop:null,images:{}};var a=document.createElement("div");a.className="psv-map__container",a.addEventListener("mousedown",iE(r)),window.addEventListener("mousemove",iE(r)),window.addEventListener("mouseup",iE(r)),a.addEventListener("touchstart",iE(r)),window.addEventListener("touchmove",iE(r)),window.addEventListener("touchend",iE(r)),a.addEventListener("wheel",iE(r)),r.canvas=document.createElement("canvas"),a.appendChild(r.canvas),r.overlay=document.createElement("div"),r.overlay.className="psv-map__overlay",a.appendChild(r.overlay),r.container.appendChild(a),r.container.addEventListener("transitionstart",iE(r)),r.container.addEventListener("transitionend",iE(r)),r.resetButton=new yE(iE(r)),r.maximizeButton=new gE(iE(r)),r.closeButton=new pE(iE(r)),r.compassButton=new vE(iE(r)),r.zoomToolbar=new wE(iE(r));return function e(){r.isVisible()&&(r.state.needsUpdate||r.state.forceRender)&&(r.render(),r.state.needsUpdate=!1),r.state.renderLoop=requestAnimationFrame(e)}(),r.applyConfig(),r.hide(),r.config.visibleOnLoad||r.toggleCollapse(),r}return ZS(n,[{key:"config",get:function(){return this.plugin.config}},{key:"maximized",get:function(){return this.state.maximized}},{key:"collapsed",get:function(){return this.state.collapsed}},{key:"destroy",value:function(){window.removeEventListener("touchmove",this),window.removeEventListener("mousemove",this),window.removeEventListener("touchend",this),window.removeEventListener("mouseup",this),cancelAnimationFrame(this.state.renderLoop),WS(rE(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":var t=e;this.state.mouseX=t.clientX,this.state.mouseY=t.clientY,this.state.mousedown=!0,e.stopPropagation();break;case"touchstart":var n=e;if(1===n.touches.length)this.state.mouseX=n.touches[0].clientX,this.state.mouseY=n.touches[0].clientY,this.state.mousedown=!0;else if(2===n.touches.length){var i=$c.getTouchData(n);this.state.pinchDist=i.distance,this.state.pinchAngle=i.angle;var r=i.center;this.state.mouseX=r.x,this.state.mouseY=r.y}e.stopPropagation(),e.preventDefault();break;case"mousemove":var a=e;this.state.mousedown?(this.__move(a.clientX,a.clientY),e.stopPropagation()):this.__handleHotspots(a.clientX,a.clientY);break;case"touchmove":var o=e;if(this.state.mousedown&&1===o.touches.length)this.__move(o.touches[0].clientX,o.touches[0].clientY),e.stopPropagation();else if(this.state.mousedown&&2===o.touches.length){var s=$c.getTouchData(o),l=(s.distance-this.state.pinchDist)/Uf.pixelRatio;this.zoom(l/100),this.__move(s.center.x,s.center.y),this.state.maximized&&!this.config.static&&this.viewer.dynamics.position.step({yaw:this.state.pinchAngle-s.angle},0),this.state.pinchDist=s.distance,this.state.pinchAngle=s.angle,e.stopPropagation()}break;case"mouseup":case"touchend":var u,c=(null===(u=e.changedTouches)||void 0===u?void 0:u[0])||e;this.state.mousedown&&(this.state.mousedown=!1,e.stopPropagation()),this.__clickHotspot(c.clientX,c.clientY);break;case"wheel":var h=e,f=h.deltaY/Math.abs(h.deltaY);this.zoom(-f/10),e.stopPropagation(),e.preventDefault();break;case"transitionstart":this.state.forceRender=!0;break;case"transitionend":this.state.maximized||(this.overlay.style.display=""),this.state.forceRender=!1,this.update()}}},{key:"applyConfig",value:function(){this.container.classList.remove("psv-map--top-right","psv-map--top-left","psv-map--bottom-right","psv-map--bottom-left"),this.container.classList.add("psv-map--".concat(this.config.position.join("-"))),this.container.style.width=this.config.size,this.container.style.height=this.config.size,this.overlay.innerHTML=function(e){return e?e.includes("<svg")?e:'<img src="'.concat(e,'">'):""}(this.config.overlayImage),this.resetButton.applyConfig(),this.closeButton.applyConfig(),this.compassButton.applyConfig(),this.maximizeButton.applyConfig(),this.config.static&&(this.compassButton.rotate(0),this.overlay.style.transform=""),this.update()}},{key:"isVisible",value:function(){return this.state.visible&&!this.state.collapsed}},{key:"show",value:function(){WS(rE(n.prototype),"show",this).call(this),this.update(),this.state.maximized||(this.overlay.style.display="")}},{key:"hide",value:function(){WS(rE(n.prototype),"hide",this).call(this),this.state.forceRender=!1}},{key:"update",value:function(){this.state.needsUpdate=!0}},{key:"reload",value:function(e){delete this.state.images[this.config.imageUrl],this.config.imageUrl=e,this.state.imgScale=1,this.__loadImage(this.config.imageUrl,!0),this.recenter()}},{key:"reset",value:function(){this.state.zoom=this.config.defaultZoom,this.recenter()}},{key:"recenter",value:function(){this.state.offset.x=0,this.state.offset.y=0,this.update()}},{key:"toggleCollapse",value:function(){this.state.maximized&&this.toggleMaximized(),this.state.collapsed=!this.state.collapsed,$c.toggleClass(this.container,"psv-map--collapsed",this.state.collapsed),this.state.collapsed||this.reset(),this.closeButton.update()}},{key:"toggleMaximized",value:function(){this.state.collapsed||(this.state.maximized=!this.state.maximized,$c.toggleClass(this.container,"psv-map--maximized",this.state.maximized),this.state.maximized&&(this.overlay.style.display="none"),this.maximizeButton.update())}},{key:"zoom",value:function(e){this.state.zoom=Lp.clamp(this.state.zoom+e,this.config.minZoom,this.config.maxZoom),this.update()}},{key:"setMarkers",value:function(e){this.state.markers=e,this.update()}},{key:"render",value:function(){var e=this;if(this.config.center){var t=this.__loadImage(this.config.imageUrl);if(t){this.state.hotspotPos={},this.__resetHotspot();var n=this.viewer.getPosition().yaw,i=Math.exp(this.state.zoom)/this.state.imgScale,r=this.config.center.x*this.state.imgScale,a=this.config.center.y*this.state.imgScale,o={x:this.state.offset.x*this.state.imgScale,y:this.state.offset.y*this.state.imgScale},s=this.config.rotation,l=this.config.static?0:n+s;this.config.static||(this.overlay.style.transform="rotate(".concat(-l,"rad)"),this.compassButton.rotate(l)),this.zoomToolbar.setText(this.state.zoom),this.canvas.width=this.container.clientWidth*Uf.pixelRatio,this.canvas.height=this.container.clientHeight*Uf.pixelRatio;var u=$c.getPosition(this.canvas),c=this.canvas.width,h=this.canvas.height,f=c/2/Uf.pixelRatio,d=h/2/Uf.pixelRatio,p=this.canvas.getContext("2d");p.clearRect(0,0,c,h);var v=t.width,m=t.height;p.save(),p.translate(c/2,h/2),p.rotate(-l),p.scale(i,i),uE(p,0,0,10),hE(p,t,-r-o.x,-a-o.y,v,m),p.restore(),[].concat(QS(this.config.hotspots),QS(this.state.markers)).forEach((function(t){var n=e.__loadImage(t.image||e.config.spotImage),c=GS({},o);if("yaw"in t&&"distance"in t){var h=$c.parseAngle(t.yaw)+s;c.x+=Math.sin(-h)*t.distance*e.state.imgScale,c.y+=Math.cos(-h)*t.distance*e.state.imgScale}else{if(!("x"in t)||!("y"in t))return void $c.logWarn("Hotspot ".concat(t.id," is missing position (yaw+distance or x+y)"));c.x+=r-t.x*e.state.imgScale,c.y+=a-t.y*e.state.imgScale}var v=lE(c,l,i),m=f-v.x,g=d-v.y,y=t.size||e.config.spotSize;e.state.hotspotPos[t.id]={x:m+u.x,y:g+u.y,s:y},p.save(),p.translate(m*Uf.pixelRatio,g*Uf.pixelRatio),uE(p,2,2,4),n?cE(p,n,y):(p.fillStyle=t.color||e.config.spotColor,p.beginPath(),p.arc(0,0,y*Uf.pixelRatio/2,0,2*Math.PI),p.fill()),p.restore()}));var g=this.__loadImage(this.config.pinImage);if(g){var y=lE(o,l,i),w=f-y.x,A=d-y.y,b=this.config.pinSize,x=this.config.static?n+s:0;p.save(),p.translate(w*Uf.pixelRatio,A*Uf.pixelRatio),p.rotate(x),uE(p,2,2,4),cE(p,g,b),p.restore()}}}}},{key:"__move",value:function(e,t){var n=this.viewer.getPosition().yaw,i=Math.exp(this.state.zoom),r=function(e,t,n){return{x:(Math.cos(t)*e.x-Math.sin(t)*e.y)/n,y:(Math.sin(t)*e.x+Math.cos(t)*e.y)/n}}({x:this.state.mouseX-e,y:this.state.mouseY-t},this.config.static?0:n+this.config.rotation,i);this.state.offset.x+=r.x,this.state.offset.y+=r.y,this.update(),this.state.mouseX=e,this.state.mouseY=t}},{key:"__findHotspot",value:function(e,t){for(var n=this.config.spotSize/2,i=null,r=0,a=Object.entries(this.state.hotspotPos);r<a.length;r++){var o=XS(a[r],2),s=o[0],l=o[1],u=l.x,c=l.y;if(e>u-n&&e<u+n&&t>c-n&&t<c+n){i=s;break}}return i}},{key:"__handleHotspots",value:function(e,t){var n=this.__findHotspot(e,t);if(this.state.hotspotId!==n){if(this.__resetHotspot(),n){var i,r,a;if(n.startsWith(sE))i=null===(r=this.state.markers.find((function(e){return e.id===n})))||void 0===r?void 0:r.tooltip;else i=null===(a=this.config.hotspots.find((function(e){return e.id===n})))||void 0===a?void 0:a.tooltip;if(i){var o=this.state.hotspotPos[n],s=$c.getPosition(this.viewer.container);this.state.hotspotTooltip=this.viewer.createTooltip({content:i,left:o.x-s.x,top:o.y-s.y,box:{width:o.s,height:o.s}})}}this.state.hotspotId=n}}},{key:"__clickHotspot",value:function(e,t){var n=this.__findHotspot(e,t);if(n){if(this.plugin.dispatchEvent(new oE(n)),n.startsWith(sE)){var i=n.substring(10);this.viewer.getPlugin("markers").gotoMarker(i)}this.maximized&&this.toggleMaximized()}this.__resetHotspot()}},{key:"__resetHotspot",value:function(){var e;null===(e=this.state.hotspotTooltip)||void 0===e||e.hide(),this.state.hotspotTooltip=null,this.state.hotspotId=null}},{key:"__loadImage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;if(!this.state.images[e]){var i=function(e){var t=document.createElement("img");if(e.includes("<svg")){if(!/<svg[^>]*width="/.test(e)&&e.includes("viewBox")){var n=XS(/viewBox="([0-9-]+) ([0-9-]+) ([0-9]+) ([0-9]+)"/.exec(e),5),i=n[3],r=n[4];e=e.replace("<svg",'<svg width="'.concat(i,'px" height="').concat(r,'px"'))}var a="data:image/svg+xml;base64,".concat(window.btoa(e));t.src=a}else t.src=e;return t}(e);return this.state.images[e]={loading:!0,value:i},i.onload=function(){if(n&&Math.max(i.width,i.height)>Uf.maxCanvasWidth){t.state.imgScale=Uf.maxCanvasWidth/Math.max(i.width,i.height);var r=document.createElement("canvas");r.width=i.width*t.state.imgScale,r.height=i.height*t.state.imgScale,r.getContext("2d").drawImage(i,0,0,r.width,r.height),t.state.images[e].value=r}t.state.images[e].loading=!1,t.update(),n&&t.show()},null}return this.state.images[e].loading?null:this.state.images[e].value}}]),n}(Gf),bE=$c.getConfigParser({imageUrl:null,center:null,rotation:0,size:"200px",position:["bottom","left"],visibleOnLoad:!0,overlayImage:'<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">\n    <defs>\n        <radialGradient id="gradient">\n            <stop offset="80%" stop-color="rgba(255, 255, 255, 0)"/>\n            <stop offset="90%" stop-color="rgba(255, 255, 255, .5)"/>\n        </radialGradient>\n    </defs>\n    <circle cx="250" cy="250" r="250" fill="url(#gradient)"/>\n    <circle cx="250" cy="250" r="245" fill="none" stroke="rgba(255, 255, 255, 0.8)" stroke-width="10"/>\n    <g fill="#222">\n        <rect x="1" y="248" width="18" height="4"/>\n        <rect x="481" y="248" width="18" height="4"/>\n        <rect x="248" y="1" width="4" height="18"/>\n        <rect x="248" y="481" width="4" height="18"/>\n    </g>\n</svg>',compassImage:null,pinImage:'<svg viewBox="-20 -20 740 740" xmlns="http://www.w3.org/2000/svg">\n    <path d="M350 540a189.4 189.4 0 0 1-189.2-189.1c0-92.4 47.7-143 98.3-225L350-20l90.9 146c50.6 81.9 98.2 132.5 98.2 224.9A189.4 189.4 0 0 1 350 540z" fill="white"/>\n    <circle cx="350" cy="350" r="150" fill="#1E78E6"/>\n</svg>\n',pinSize:35,spotColor:"white",spotImage:null,spotSize:15,static:!1,defaultZoom:100,minZoom:20,maxZoom:200,hotspots:[]},{overlayImage:function(e,t){var n=t.rawConfig;return n.compassImage?($c.logWarn('map: "compassImage" is deprecated, use "overlayImage" instead'),n.compassImage):e},position:function(e,t){var n=t.defValue;return $c.cleanCssPosition(e,{allowCenter:!1,cssOrder:!0})||n},rotation:function(e){return $c.parseAngle(e)},defaultZoom:function(e){return Math.log(e/100)},maxZoom:function(e){return Math.log(e/100)},minZoom:function(e){return Math.log(e/100)}}),xE=function(e){eE(n,e);var t=nE(n);function n(e,i){var r;return $S(this,n),(r=t.call(this,e,i)).component=new AE(r.viewer,iE(r)),r}return ZS(n,[{key:"init",value:function(){WS(rE(n.prototype),"init",this).call(this),this.markers=this.viewer.getPlugin("markers"),this.viewer.addEventListener(rf.PositionUpdatedEvent.type,this),this.viewer.addEventListener(rf.SizeUpdatedEvent.type,this),this.viewer.addEventListener(rf.ReadyEvent.type,this,{once:!0}),this.setHotspots(this.config.hotspots,!1),this.markers&&this.markers.addEventListener("set-markers",this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(rf.PositionUpdatedEvent.type,this),this.viewer.removeEventListener(rf.SizeUpdatedEvent.type,this),this.viewer.removeEventListener(rf.ReadyEvent.type,this),this.markers&&this.markers.removeEventListener("set-markers",this),this.component.destroy(),delete this.markers,WS(rE(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case rf.ReadyEvent.type:this.component.reload(this.config.imageUrl);break;case rf.PositionUpdatedEvent.type:this.component.update();break;case rf.SizeUpdatedEvent.type:this.component.maximized&&this.component.update();break;case"set-markers":this.component.setMarkers(this.__markersToHotspots(e.markers))}}},{key:"setOptions",value:function(e){WS(rE(n.prototype),"setOptions",this).call(this,e),this.component.applyConfig()}},{key:"hide",value:function(){this.component.hide()}},{key:"show",value:function(){this.component.show()}},{key:"close",value:function(){this.component.collapsed||this.component.toggleCollapse()}},{key:"open",value:function(){this.component.collapsed&&this.component.toggleCollapse()}},{key:"minimize",value:function(){this.component.maximized&&this.component.toggleMaximized()}},{key:"maximize",value:function(){this.component.maximized||this.component.toggleMaximized()}},{key:"setImage",value:function(e,t,n){$c.isNil(n)||(this.config.rotation=$c.parseAngle(n)),$c.isNil(t)||(this.config.center=t),this.component.reload(e)}},{key:"setCenter",value:function(e){this.config.center=e,this.component.recenter()}},{key:"setHotspots",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],i=1;null===e||void 0===e||e.forEach((function(e){e.id?n.includes(e.id)?$c.logWarn('Duplicated hotspot id "'.concat(e.id)):n.push(e.id):e.id="__generated__"+i++})),this.config.hotspots=e||[],t&&this.component.update()}},{key:"clearHotspots",value:function(){this.setHotspots(null)}},{key:"__markersToHotspots",value:function(e){return e.filter((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.map})).map((function(e){var t,n=e.data.map,i=GS(GS({},n),{},{id:sE+e.id,tooltip:null===(t=e.config.tooltip)||void 0===t?void 0:t.content});if("distance"in n)i.yaw=e.state.position.yaw;else if(!("x"in n)||!("y"in n))return $c.logWarn("Marker ".concat(e.id,' "map" data is missing position (distance or x+y)')),null;return i})).filter((function(e){return e}))}}]),n}(ld);function ME(){ME=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new S(r||[]);return i(o,"_invoke",{value:b(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var h={};function f(){}function d(){}function p(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(E([])));g&&g!==t&&n.call(g,a)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==LE(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function b(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return C()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=c(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(A.prototype),l(A.prototype,o,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new A(u(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function kE(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function SE(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){kE(a,i,r,o,s,"next",e)}function s(e){kE(a,i,r,o,s,"throw",e)}o(void 0)}))}}function EE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,CE(i.key),i)}}function CE(e){var t=function(e,t){if("object"!==LE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==LE(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===LE(t)?t:String(t)}function TE(e,t){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TE(e,t)}function PE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_E(e);if(t){var r=_E(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===LE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function _E(e){return _E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_E(e)}function LE(e){return LE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LE(e)}xE.id="map",xE.configParser=bE,xE.readonlyOptions=["imageUrl","center","visibleOnLoad","hotspots","defaultZoom"],cd.lang.map="Map",cd.lang.mapMaximize="Maximize",cd.lang.mapMinimize="Minimize",cd.lang.mapReset="Reset";var OE=[0,2,4,5,3,1],DE=["left","right","top","bottom","back","front"];function BE(e){return e&&"object"===LE(e)&&DE.every((function(t){return t in e}))}function IE(e){var t=[];if(6!==e.length)throw new Ph("A cubemap array must contain exactly 6 images.");for(var n=0;n<6;n++)t[n]=e[OE[n]];return t}function RE(e){var t=[];if(!BE(e))throw new Ph("A cubemap object must contain exactly left, front, right, back, top, bottom images.");return DE.forEach((function(n,i){t[i]=e[n]})),t}var zE=$c.getConfigParser({flipTopBottom:!1,blur:!1}),NE=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TE(e,t)}(a,e);var t,n,i,r=PE(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e)).config=zE(t),n}return t=a,n=[{key:"supportsTransition",value:function(){return!0}},{key:"supportsPreload",value:function(){return!0}},{key:"loadTexture",value:function(){var e=SE(ME().mark((function e(t){var n,i,r;return ME().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.viewer.config.fisheye&&$c.logWarn("fisheye effect with cubemap texture can generate distorsion"),n=Array.isArray(t)||BE(t)?{type:"separate",paths:t}:t,e.t0=n.type,e.next="separate"===e.t0?5:"stripe"===e.t0?10:"net"===e.t0?14:18;break;case 5:return r=Array.isArray(n.paths)?IE(n.paths):RE(n.paths),e.next=8,this.loadTexturesSeparate(r);case 8:case 12:case 16:return i=e.sent,e.abrupt("break",19);case 10:return e.next=12,this.loadTexturesStripe(n.path,n.order);case 14:return e.next=16,this.loadTexturesNet(n.path);case 18:throw new Ph("Invalid cubemap panorama, are you using the right adapter?");case 19:return e.abrupt("return",{panorama:t,texture:i});case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadTexturesSeparate",value:function(e){for(var t=this,n=[],i=[0,0,0,0,0,0],r=function(r){n.push(t.viewer.textureLoader.loadImage(e[r],(function(e){i[r]=e,t.viewer.loader.setProgress($c.sum(i)/6)})).then((function(e){return t.createCubemapTexture(e)})))},a=0;a<6;a++)r(a);return Promise.all(n)}},{key:"createCubemapTexture",value:function(e){if(e.width!==e.height&&$c.logWarn("Invalid cubemap image, the width should equal the height"),this.config.blur||e.width>Uf.maxTextureWidth){var t=Math.min(1,Uf.maxCanvasWidth/e.width),n=document.createElement("canvas");n.width=e.width*t,n.height=e.height*t;var i=n.getContext("2d");return this.config.blur&&(i.filter="blur(1px)"),i.drawImage(e,0,0,n.width,n.height),$c.createTexture(n)}return $c.createTexture(e)}},{key:"loadTexturesStripe",value:function(){var e=SE(ME().mark((function e(t){var n,i,r,a,o,s,l,u,c=this,h=arguments;return ME().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:["left","front","right","back","top","bottom"],e.next=3,this.viewer.textureLoader.loadImage(t,(function(e){return c.viewer.loader.setProgress(e)}));case 3:for((i=e.sent).width!==6*i.height&&$c.logWarn("Invalid cubemap image, the width should be six times the height"),r=Math.min(1,Uf.maxCanvasWidth/i.height),a=i.height*r,o={},s=0;s<6;s++)(l=document.createElement("canvas")).width=a,l.height=a,u=l.getContext("2d"),this.config.blur&&(u.filter="blur(1px)"),u.drawImage(i,i.height*s,0,i.height,i.height,0,0,a,a),o[n[s]]=$c.createTexture(l);return e.abrupt("return",RE(o));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadTexturesNet",value:function(){var e=SE(ME().mark((function e(t){var n,i,r,a,o,s,l,u,c=this;return ME().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.viewer.textureLoader.loadImage(t,(function(e){return c.viewer.loader.setProgress(e)}));case 2:for((n=e.sent).width/4!==n.height/3&&$c.logWarn("Invalid cubemap image, the width should be 4/3rd of the height"),i=Math.min(1,Uf.maxCanvasWidth/(n.width/4)),r=n.width/4*i,a=[[0,1/3],[.5,1/3],[1/4,0],[1/4,2/3],[3/4,1/3],[1/4,1/3]],o=[],s=0;s<6;s++)(l=document.createElement("canvas")).width=r,l.height=r,u=l.getContext("2d"),this.config.blur&&(u.filter="blur(1px)"),u.drawImage(n,n.width*a[s][0],n.height*a[s][1],n.width/4,n.height/3,0,0,r,r),o[s]=$c.createTexture(l);return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createMesh",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=2*zc.SPHERE_RADIUS*e,n=new Ym(t,t,t).scale(1,1,-1),i=[],r=0;r<6;r++)i.push(zf.createOverlayMaterial({additionalUniforms:{rotation:{value:0}},overrideVertexShader:"\nuniform float rotation;\nvarying vec2 vUv;\nconst float mid = 0.5;\nvoid main() {\n  if (rotation == 0.0) {\n    vUv = uv;\n  } else {\n    vUv = vec2(\n      cos(rotation) * (uv.x - mid) + sin(rotation) * (uv.y - mid) + mid,\n      cos(rotation) * (uv.y - mid) - sin(rotation) * (uv.x - mid) + mid\n    );\n  }\n  gl_Position = projectionMatrix *  modelViewMatrix * vec4( position, 1.0 );\n}"}));return new Wm(n,i)}},{key:"setTexture",value:function(e,t){for(var n=t.texture,i="net"===t.panorama.type?!this.config.flipTopBottom:this.config.flipTopBottom,r=0;r<6;r++)!i||2!==r&&3!==r||this.__setUniform(e,r,"rotation",Math.PI),this.__setUniform(e,r,zf.OVERLAY_UNIFORMS.panorama,n[r]);this.setOverlay(e,null,0)}},{key:"setOverlay",value:function(e,t,n){for(var i=0;i<6;i++)this.__setUniform(e,i,zf.OVERLAY_UNIFORMS.overlayOpacity,n),t?this.__setUniform(e,i,zf.OVERLAY_UNIFORMS.overlay,t.texture[i]):this.__setUniform(e,i,zf.OVERLAY_UNIFORMS.overlay,new ev)}},{key:"setTextureOpacity",value:function(e,t){for(var n=0;n<6;n++)this.__setUniform(e,n,zf.OVERLAY_UNIFORMS.globalOpacity,t),e.material[n].transparent=t<1}},{key:"disposeTexture",value:function(e){var t;null===(t=e.texture)||void 0===t||t.forEach((function(e){return e.dispose()}))}},{key:"__setUniform",value:function(e,t,n,i){e.material[t].uniforms[n].value instanceof ev&&e.material[t].uniforms[n].value.dispose(),e.material[t].uniforms[n].value=i}}],n&&EE(t.prototype,n),i&&EE(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(zf);function FE(){return FE="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=GE(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},FE.apply(this,arguments)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},UE(e,t)}function jE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=GE(e);if(t){var r=GE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===VE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return HE(e)}(this,n)}}function HE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GE(e){return GE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GE(e)}function VE(e){return VE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VE(e)}function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function WE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QE(Object(n),!0).forEach((function(t){XE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XE(e,t,n){return(t=ZE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ZE(i.key),i)}}function qE(e,t,n){return t&&JE(e.prototype,t),n&&JE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZE(e){var t=function(e,t){if("object"!==VE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==VE(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===VE(t)?t:String(t)}NE.id="cubemap",NE.supportsDownload=!1,NE.supportsOverlay=!0;var KE=function(){function e(t,n,i){YE(this,e),this.id=t,this.priority=n,this.fn=i,this.status=1}return qE(e,[{key:"start",value:function(){var e=this;return this.status=2,this.fn(this).then((function(){e.status=4}),(function(){e.status=5}))}},{key:"cancel",value:function(){this.status=3}},{key:"isCancelled",value:function(){return 3===this.status}}]),e}(),$E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;YE(this,e),this.concurency=t,this.runningTasks={},this.tasks={}}return qE(e,[{key:"enqueue",value:function(e){this.tasks[e.id]=e}},{key:"clear",value:function(){Object.values(this.tasks).forEach((function(e){return e.cancel()})),this.tasks={},this.runningTasks={}}},{key:"setPriority",value:function(e,t){var n=this.tasks[e];n&&(n.priority=t,0===n.status&&(n.status=1))}},{key:"disableAllTasks",value:function(){Object.values(this.tasks).forEach((function(e){e.status=0}))}},{key:"start",value:function(){var e=this;if(!(Object.keys(this.runningTasks).length>=this.concurency)){var t=Object.values(this.tasks).filter((function(e){return 1===e.status})).sort((function(e,t){return t.priority-e.priority})).pop();t&&(this.runningTasks[t.id]=!0,t.start().then((function(){t.isCancelled()||(delete e.tasks[t.id],delete e.runningTasks[t.id],e.start())})),this.start())}}}]),e}();var eC=["dodgerblue","limegreen","indianred"];function tC(e){return!!e.levels}function nC(e,t,n){return WE(WE({},e),{},{level:t,tileSize:e.faceSize/e.nbTiles,facesByTile:n.CUBE_SEGMENTS/e.nbTiles})}function iC(e,t,n){return tC(e)&&e.levels[t]?nC(e.levels[t],t,n):null}function rC(e,t){if("object"!==VE(e)||!e.tileUrl)throw new Ph("Invalid panorama configuration, are you using the right adapter?");tC(e)?(e.levels.forEach((function(e){return aC(e,t)})),function(e){var t=0;e.forEach((function(n,i){if(!n.zoomRange||2!==n.zoomRange.length)throw new Ph("Tiles level ".concat(i,' is missing "zoomRange" property'));if(n.zoomRange[0]>=n.zoomRange[1]||n.zoomRange[0]!==t||0===i&&0!==n.zoomRange[0]||i===e.length-1&&100!==n.zoomRange[1])throw new Ph('Tiles levels\' "zoomRange" are not orderer or are not covering the whole 0-100 range');t=n.zoomRange[1]}))}(e.levels)):aC(e,t)}function aC(e,t){if(!e.faceSize||!e.nbTiles)throw new Ph("Invalid panorama configuration, are you using the right adapter?");if(e.nbTiles>t.CUBE_SEGMENTS)throw new Ph("Panorama nbTiles must not be greater than ".concat(t.CUBE_SEGMENTS,"."));if(!Lp.isPowerOfTwo(e.nbTiles))throw new Ph("Panorama nbTiles must be power of 2.")}function oC(e){return 2===e||3===e}var sC=16,lC=1536,uC="uv",cC="originaluv",hC=["left","right","top","bottom","back","front"];function fC(e){return"".concat(e.face,":").concat(e.col,"x").concat(e.row,"/").concat(e.config.level)}var dC=$c.getConfigParser({flipTopBottom:!1,showErrorTile:!0,baseBlur:!0,blur:!1,debug:!1}),pC=new og,vC=new Dv,mC=new iv,gC=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}(n,e);var t=jE(n);function n(e,i){var r;return YE(this,n),(r=t.call(this,e)).state={tileConfig:null,tiles:{},faces:{},geom:null,materials:[],errorMaterial:null,inTransition:!1},r.queue=new $E,r.config=dC(i),r.viewer.config.requestHeaders?$c.logWarn('CubemapTilesAdapter fallbacks to file loader because "requestHeaders" where provided. Consider removing "requestHeaders" if you experience performances issues.'):(r.loader=new EA,r.viewer.config.withCredentials&&r.loader.setWithCredentials(!0)),r.viewer.addEventListener(rf.PositionUpdatedEvent.type,HE(r)),r.viewer.addEventListener(rf.ZoomUpdatedEvent.type,HE(r)),r}return qE(n,[{key:"destroy",value:function(){var e,t,i;this.viewer.addEventListener(rf.PositionUpdatedEvent.type,this),this.viewer.addEventListener(rf.ZoomUpdatedEvent.type,this),this.__cleanup(),null===(e=this.state.errorMaterial)||void 0===e||null===(t=e.map)||void 0===t||t.dispose(),null===(i=this.state.errorMaterial)||void 0===i||i.dispose(),delete this.state.geom,delete this.state.errorMaterial,FE(GE(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){(e instanceof rf.PositionUpdatedEvent||e instanceof rf.ZoomUpdatedEvent)&&this.__refresh()}},{key:"supportsTransition",value:function(e){return!!e.baseUrl}},{key:"supportsPreload",value:function(e){return!!e.baseUrl}},{key:"loadTexture",value:function(e){try{rC(e,{CUBE_SEGMENTS:sC})}catch(t){return Promise.reject(t)}if(e.baseUrl){if(!this.adapter){if(!NE)throw new Ph("CubemapTilesAdapter requires CubemapAdapter");this.adapter=new NE(this.viewer,{blur:this.config.baseBlur})}return this.adapter.loadTexture(e.baseUrl).then((function(t){return{panorama:e,texture:t.texture}}))}return Promise.resolve({panorama:e,texture:null})}},{key:"createMesh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=2*zc.SPHERE_RADIUS*e,n=new Ym(t,t,t,sC,sC,sC).scale(1,1,-1).toNonIndexed();n.clearGroups();for(var i=0,r=0;i<9216;i+=6)n.addGroup(i,6,r++);return n.setAttribute(cC,n.getAttribute(uC).clone()),new Wm(n,[])}},{key:"setTexture",value:function(e,t,n){var i=this,r=t.texture;if(n)return this.state.inTransition=!0,void this.__setTexture(e,r);if(this.__cleanup(),this.__setTexture(e,r),this.state.materials=e.material,this.state.geom=e.geometry,this.state.geom.setAttribute(uC,this.state.geom.getAttribute(cC).clone()),this.config.debug){var a=function(e){var t=new Uw(e),n=new uy(t);return n.material.depthTest=!1,n.material.opacity=.25,n.material.transparent=!0,n}(this.state.geom);this.viewer.renderer.addObject(a),this.viewer.renderer.setSphereCorrection(this.viewer.config.sphereCorrection,a)}setTimeout((function(){return i.__refresh()}))}},{key:"__setTexture",value:function(e,t){for(var n=0;n<6;n++){var i=void 0;t?(this.config.flipTopBottom&&oC(n)&&(t[n].center=new Op(.5,.5),t[n].rotation=Math.PI),i=new ym({map:t[n]})):i=new ym({opacity:0,transparent:!0});for(var r=0;r<256;r++)e.material.push(i)}}},{key:"setTextureOpacity",value:function(e,t){for(var n=0;n<6;n++)e.material[256*n].opacity=t,e.material[256*n].transparent=t<1}},{key:"setOverlay",value:function(){throw new Ph("EquirectangularTilesAdapter does not support overlay")}},{key:"disposeTexture",value:function(e){var t;null===(t=e.texture)||void 0===t||t.forEach((function(e){return e.dispose()}))}},{key:"__refresh",value:function(){if(this.state.geom&&!this.state.inTransition){var e=this.viewer.renderer.camera;e.updateMatrixWorld(),vC.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),pC.setFromProjectionMatrix(vC);for(var t=this.viewer.config.panorama,n=function(e,t,n){var i,r;return tC(e)?(r=function(e,t){return e.findIndex((function(e){return t>=e.zoomRange[0]&&t<=e.zoomRange[1]}))}(e.levels,t),i=e.levels[r]):(r=0,i=WE(WE({},e),{},{zoomRange:[0,100]})),nC(i,r,n)}(t,this.viewer.getZoomLevel(),{CUBE_SEGMENTS:sC}),i=this.state.geom.getAttribute("position"),r={},a=0;a<9216;a+=1)if(mC.fromBufferAttribute(i,a),mC.applyEuler(this.viewer.renderer.sphereCorrection),pC.containsPoint(mC))for(var o=Math.floor(a/lC),s=Math.floor((a-o*lC)/6),l=Math.floor(s/sC),u=s-l*sC,c=n;c;){var h=Math.floor(l/c.facesByTile),f=Math.floor(u/c.facesByTile),d=mC.angleTo(this.viewer.state.direction),p={face:o,row:h,col:f,angle:d,config:c,url:null};this.config.flipTopBottom&&oC(o)&&(f=c.nbTiles-f-1,h=c.nbTiles-h-1);var v=fC(p);if(r[v]){r[v].angle=Math.min(r[v].angle,d);break}if(p.url=t.tileUrl(hC[o],f,h,c.level),p.url){r[v]=p;break}c=iC(t,c.level-1,{CUBE_SEGMENTS:sC})}this.state.tileConfig=n,this.__loadTiles(Object.values(r))}}},{key:"__loadTiles",value:function(e){var t=this;this.queue.disableAllTasks(),e.forEach((function(e){var n=fC(e);t.state.tiles[n]?t.queue.setPriority(n,e.angle):(t.state.tiles[n]=!0,t.queue.enqueue(new KE(n,e.angle,(function(n){return t.__loadTile(e,n)}))))})),this.queue.start()}},{key:"__loadTile",value:function(e,t){var n=this;return this.__loadImage(e.url).then((function(i){if(!t.isCancelled()){n.config.debug&&(i=function(e,t,n){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var r=i.getContext("2d");r.fillStyle=eC[t%eC.length],r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(e,0,0);var a=e.width/7;return r.globalCompositeOperation="source-over",r.fillStyle="white",r.font="".concat(a,"px monospace"),r.textAlign="center",n.split("\n").forEach((function(t,n){r.fillText(t,e.width/2,e.height/2+a*(.3+n))})),i}(i,e.config.level,function(e){return"".concat(fC(e),"\n").concat(hC[e.face])}(e)));var r=new ym({map:$c.createTexture(i)});n.__swapMaterial(e,r,!1),n.viewer.needsUpdate()}})).catch((function(){!t.isCancelled()&&n.config.showErrorTile&&(n.state.errorMaterial||(n.state.errorMaterial=function(){var e=document.createElement("canvas");e.width=512,e.height=512;var t=e.getContext("2d");t.fillStyle="#333",t.fillRect(0,0,e.width,e.height),t.font="".concat(e.width/5,"px serif"),t.fillStyle="#a22",t.textAlign="center",t.textBaseline="middle",t.fillText("\u26a0",e.width/2,e.height/2);var n=new Ay(e);return new ym({map:n})}()),n.__swapMaterial(e,n.state.errorMaterial,!0),n.viewer.needsUpdate())}))}},{key:"__loadImage",value:function(e){var t=this;return this.loader?new Promise((function(n,i){t.loader.load(e,n,void 0,i)})):this.viewer.textureLoader.loadImage(e)}},{key:"__swapMaterial",value:function(e,t,n){for(var i=this,r=this.state.geom.getAttribute(uC),a=0;a<e.config.facesByTile;a++)for(var o=function(){var o=e.col*e.config.facesByTile+a,l=e.row*e.config.facesByTile+s,u=e.face*lC+6*(sC*l+o);if(n&&i.state.faces[u]>-1)return"continue";if(i.state.faces[u]>e.config.level)return"continue";i.state.faces[u]=n?-1:e.config.level;var c=i.state.geom.groups.find((function(e){return e.start===u})).materialIndex;i.state.materials[c]=t;var h=1-s/e.config.facesByTile,f=1-(s+1)/e.config.facesByTile,d=a/e.config.facesByTile,p=(a+1)/e.config.facesByTile;i.config.flipTopBottom&&oC(e.face)&&(h=1-h,f=1-f,d=1-d,p=1-p),r.setXY(u,d,h),r.setXY(u+1,d,f),r.setXY(u+2,p,h),r.setXY(u+3,d,f),r.setXY(u+4,p,f),r.setXY(u+5,p,h)},s=0;s<e.config.facesByTile;s++)o();r.needsUpdate=!0}},{key:"__cleanup",value:function(){this.queue.clear(),this.state.tiles={},this.state.faces={},this.state.inTransition=!1,this.state.materials.forEach((function(e){var t;null===e||void 0===e||null===(t=e.map)||void 0===t||t.dispose(),null===e||void 0===e||e.dispose()})),this.state.materials.length=0}}]),n}(zf);function yC(e){return yC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yC(e)}function wC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,xC(i.key),i)}}function bC(e,t,n){return t&&AC(e.prototype,t),n&&AC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xC(e){var t=function(e,t){if("object"!==yC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==yC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yC(t)?t:String(t)}function MC(){return MC="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TC(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},MC.apply(this,arguments)}function kC(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SC(e,t)}function SC(e,t){return SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SC(e,t)}function EC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=TC(e);if(t){var r=TC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===yC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return CC(e)}(this,n)}}function CC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TC(e){return TC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TC(e)}gC.id="cubemap-tiles",gC.supportsDownload=!1,gC.supportsOverlay=!1;var PC=function(e){kC(n,e);var t=EC(n);function n(e){var i;return wC(this,n),(i=t.call(this,e)).viewer.addEventListener(rf.BeforeRenderEvent.type,CC(i)),i}return bC(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(rf.BeforeRenderEvent.type,this),this.__removeVideo(),MC(TC(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof rf.BeforeRenderEvent&&this.viewer.needsUpdate()}},{key:"supportsPreload",value:function(){return!1}},{key:"supportsTransition",value:function(){return!1}},{key:"loadTexture",value:function(e){if("object"!==yC(e)||!e.source)return Promise.reject(new Ph("Invalid panorama configuration, are you using the right adapter?"));if(!this.viewer.getPlugin("video"))return Promise.reject(new Ph("Video adapters require VideoPlugin to be loaded too."));var t=this.__createVideo(e.source);return this.__videoLoadPromise(t).then((function(){var n=new yy(t);return{panorama:e,texture:n}}))}},{key:"switchVideo",value:function(e){var t,n,i=!this.config.autoplay,r=this.config.muted,a=1;if(this.video){var o=this.video;t=o.currentTime,n=o.duration,i=o.paused,r=o.muted,a=o.volume}this.__removeVideo(),this.video=e.image,this.video.duration===n&&(this.video.currentTime=t),this.video.muted=r,this.video.volume=a,i||this.video.play()}},{key:"setTextureOpacity",value:function(e,t){e.material.opacity=t,e.material.transparent=t<1}},{key:"setOverlay",value:function(){throw new Ph("VideoAdapter does not support overlay")}},{key:"disposeTexture",value:function(e){var t;if(e.texture){var n=e.texture.image;n.pause(),this.viewer.container.removeChild(n)}null===(t=e.texture)||void 0===t||t.dispose()}},{key:"__removeVideo",value:function(){this.video&&(this.video.pause(),this.viewer.container.removeChild(this.video),delete this.video)}},{key:"__createVideo",value:function(e){var t=document.createElement("video");return t.crossOrigin=this.viewer.config.withCredentials?"use-credentials":"anonymous",t.loop=!0,t.playsInline=!0,t.style.display="none",t.muted=this.config.muted,t.src=e,t.preload="metadata",this.viewer.container.appendChild(t),t}},{key:"__videoLoadPromise",value:function(e){var t=this;return new Promise((function(n,i){e.addEventListener("loadedmetadata",(function i(){t.video&&e.duration===t.video.duration?n(t.__videoBufferPromise(e,t.video.currentTime)):n(),e.removeEventListener("loadedmetadata",i)})),e.addEventListener("error",(function t(n){i(n),e.removeEventListener("error",t)}))}))}},{key:"__videoBufferPromise",value:function(e,t){return new Promise((function(n){function i(){for(var t=e.buffered,r=0,a=t.length;r<a;r++)if(t.start(r)<=e.currentTime&&t.end(r)>=e.currentTime){e.pause(),e.removeEventListener("buffer",i),e.removeEventListener("progress",i),n();break}}e.currentTime=Math.min(t+2e3,e.duration),e.muted=!0,e.addEventListener("buffer",i),e.addEventListener("progress",i),e.play()}))}}]),n}(zf);PC.supportsDownload=!1,PC.supportsOverlay=!1;var _C=$c.getConfigParser({equiangular:!0,autoplay:!1,muted:!1});function LC(){return LC="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=IC(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},LC.apply(this,arguments)}function OC(e,t){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OC(e,t)}function DC(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=IC(e);if(t){var r=IC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===RC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return BC(e)}(this,n)}}function BC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IC(e){return IC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},IC(e)}function RC(e){return RC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RC(e)}function zC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function NC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zC(Object(n),!0).forEach((function(t){FC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FC(e,t,n){return(t=GC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,GC(i.key),i)}}function HC(e,t,n){return t&&jC(e.prototype,t),n&&jC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GC(e){var t=function(e,t){if("object"!==RC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==RC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===RC(t)?t:String(t)}(function(e){kC(n,e);var t=EC(n);function n(e,i){var r;return wC(this,n),(r=t.call(this,e)).config=_C(i),r}return bC(n,[{key:"createMesh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=2*zc.SPHERE_RADIUS*e,n=new Ym(t,t,t).scale(1,1,-1).toNonIndexed();n.clearGroups();var i=n.getAttribute("uv"),r=1/3,a=2/3,o=.5;i.setXY(0,0,1),i.setXY(1,0,o),i.setXY(2,r,1),i.setXY(3,0,o),i.setXY(4,r,o),i.setXY(5,r,1),i.setXY(6,a,1),i.setXY(7,a,o),i.setXY(8,1,1),i.setXY(9,a,o),i.setXY(10,1,o),i.setXY(11,1,1),i.setXY(12,1,o),i.setXY(13,a,o),i.setXY(14,1,0),i.setXY(15,a,o),i.setXY(16,a,0),i.setXY(17,1,0),i.setXY(18,r,o),i.setXY(19,0,o),i.setXY(20,r,0),i.setXY(21,0,o),i.setXY(22,0,0),i.setXY(23,r,0),i.setXY(24,a,o),i.setXY(25,r,o),i.setXY(26,a,0),i.setXY(27,r,o),i.setXY(28,r,0),i.setXY(29,a,0),i.setXY(30,r,1),i.setXY(31,r,o),i.setXY(32,a,1),i.setXY(33,r,o),i.setXY(34,a,o),i.setXY(35,a,1);var s=new qm({uniforms:{mapped:{value:null},contCorrect:{value:1},faceWH:{value:new Op(1/3,.5)},vidWH:{value:new Op(1,1)}},vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}",fragmentShader:"\nvarying vec2 vUv;\nuniform sampler2D mapped;\nuniform vec2 faceWH;\nuniform vec2 vidWH;\nuniform float contCorrect;\n\nconst float PI = 3.1415926535897932384626433832795;\n\nvoid main() {\n  vec2 corner = vUv - mod(vUv, faceWH) + vec2(0, contCorrect / vidWH.y);\n  vec2 faceWHadj = faceWH - vec2(0, contCorrect * 2. / vidWH.y);\n  vec2 p = (vUv - corner) / faceWHadj - .5;\n  vec2 q = ".concat(this.config.equiangular?"2. / PI * atan(2. * p) + .5":"p + .5",";\n  vec2 eUv = corner + q * faceWHadj;\n  gl_FragColor = texture2D(mapped, eUv);\n}")});return new Wm(n,s)}},{key:"setTexture",value:function(e,t){var n,i=t.texture,r=i.image;null===(n=e.material.uniforms.mapped.value)||void 0===n||n.dispose(),e.material.uniforms.mapped.value=i,e.material.uniforms.vidWH.value.set(r.videoWidth,r.videoHeight),this.switchVideo(t.texture)}}]),n}(PC)).id="cubemap-video";var VC=function(){function e(t,n,i){UC(this,e),this.id=t,this.priority=n,this.fn=i,this.status=1}return HC(e,[{key:"start",value:function(){var e=this;return this.status=2,this.fn(this).then((function(){e.status=4}),(function(){e.status=5}))}},{key:"cancel",value:function(){this.status=3}},{key:"isCancelled",value:function(){return 3===this.status}}]),e}(),QC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;UC(this,e),this.concurency=t,this.runningTasks={},this.tasks={}}return HC(e,[{key:"enqueue",value:function(e){this.tasks[e.id]=e}},{key:"clear",value:function(){Object.values(this.tasks).forEach((function(e){return e.cancel()})),this.tasks={},this.runningTasks={}}},{key:"setPriority",value:function(e,t){var n=this.tasks[e];n&&(n.priority=t,0===n.status&&(n.status=1))}},{key:"disableAllTasks",value:function(){Object.values(this.tasks).forEach((function(e){e.status=0}))}},{key:"start",value:function(){var e=this;if(!(Object.keys(this.runningTasks).length>=this.concurency)){var t=Object.values(this.tasks).filter((function(e){return 1===e.status})).sort((function(e,t){return t.priority-e.priority})).pop();t&&(this.runningTasks[t.id]=!0,t.start().then((function(){t.isCancelled()||(delete e.tasks[t.id],delete e.runningTasks[t.id],e.start())})),this.start())}}}]),e}();var WC=["dodgerblue","limegreen","indianred"];function XC(e){return!!e.levels}function YC(e,t,n){return NC(NC({},e),{},{level:t,colSize:e.width/e.cols,rowSize:e.width/2/e.rows,facesByCol:n.SPHERE_SEGMENTS/e.cols,facesByRow:n.SPHERE_HORIZONTAL_SEGMENTS/e.rows})}function JC(e,t,n){var i,r;return XC(e)?(r=function(e,t){return e.findIndex((function(e){return t>=e.zoomRange[0]&&t<=e.zoomRange[1]}))}(e.levels,t),i=e.levels[r]):(r=0,i=NC(NC({},e),{},{zoomRange:[0,100]})),YC(i,r,n)}function qC(e,t,n){return XC(e)&&e.levels[t]?YC(e.levels[t],t,n):null}function ZC(e,t){if("object"!==RC(e)||!e.tileUrl)throw new Ph("Invalid panorama configuration, are you using the right adapter?");XC(e)?(e.levels.forEach((function(e){return KC(e,t)})),function(e){var t=0;e.forEach((function(n,i){if(!n.zoomRange||2!==n.zoomRange.length)throw new Ph("Tiles level ".concat(i,' is missing "zoomRange" property'));if(n.zoomRange[0]>=n.zoomRange[1]||n.zoomRange[0]!==t||0===i&&0!==n.zoomRange[0]||i===e.length-1&&100!==n.zoomRange[1])throw new Ph('Tiles levels\' "zoomRange" are not orderer or are not covering the whole 0-100 range');t=n.zoomRange[1]}))}(e.levels)):KC(e,t)}function KC(e,t){if(!e.width||!e.cols||!e.rows)throw new Ph("Invalid panorama configuration, are you using the right adapter?");if(e.cols>t.SPHERE_SEGMENTS)throw new Ph("Panorama cols must not be greater than ".concat(t.SPHERE_SEGMENTS,"."));if(e.rows>t.SPHERE_HORIZONTAL_SEGMENTS)throw new Ph("Panorama rows must not be greater than ".concat(t.SPHERE_HORIZONTAL_SEGMENTS,"."));if(!Lp.isPowerOfTwo(e.cols)||!Lp.isPowerOfTwo(e.rows))throw new Ph("Panorama cols and rows must be powers of 2.")}var $C="uv",eT="originaluv";function tT(e){return"".concat(e.col,"x").concat(e.row,"/").concat(e.config.level)}var nT=$c.getConfigParser({resolution:64,showErrorTile:!0,baseBlur:!0,blur:!1,debug:!1},{resolution:function(e){if(!e||!Lp.isPowerOfTwo(e))throw new Ph("EquirectangularTilesAdapter resolution must be power of two");return e}}),iT=new og,rT=new Dv,aT=new iv,oT=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OC(e,t)}(n,e);var t=DC(n);function n(e,i){var r;return UC(this,n),(r=t.call(this,e)).state={tileConfig:null,tiles:{},faces:{},geom:null,materials:[],errorMaterial:null,inTransition:!1},r.queue=new QC,r.config=nT(i),r.viewer.config.useXmpData=!1,r.SPHERE_SEGMENTS=r.config.resolution,r.SPHERE_HORIZONTAL_SEGMENTS=r.SPHERE_SEGMENTS/2,r.NB_VERTICES=2*r.SPHERE_SEGMENTS*3+(r.SPHERE_HORIZONTAL_SEGMENTS-2)*r.SPHERE_SEGMENTS*6,r.NB_GROUPS=r.SPHERE_SEGMENTS*r.SPHERE_HORIZONTAL_SEGMENTS,r.viewer.config.requestHeaders?$c.logWarn('EquirectangularTilesAdapter fallbacks to file loader because "requestHeaders" where provided. Consider removing "requestHeaders" if you experience performances issues.'):(r.loader=new EA,r.viewer.config.withCredentials&&r.loader.setWithCredentials(!0)),r.viewer.addEventListener(rf.PositionUpdatedEvent.type,BC(r)),r.viewer.addEventListener(rf.ZoomUpdatedEvent.type,BC(r)),r}return HC(n,[{key:"destroy",value:function(){var e,t,i;this.viewer.addEventListener(rf.PositionUpdatedEvent.type,this),this.viewer.addEventListener(rf.ZoomUpdatedEvent.type,this),this.__cleanup(),null===(e=this.state.errorMaterial)||void 0===e||null===(t=e.map)||void 0===t||t.dispose(),null===(i=this.state.errorMaterial)||void 0===i||i.dispose(),delete this.state.geom,delete this.state.errorMaterial,LC(IC(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){(e instanceof rf.PositionUpdatedEvent||e instanceof rf.ZoomUpdatedEvent)&&this.__refresh()}},{key:"supportsTransition",value:function(e){return!!e.baseUrl}},{key:"supportsPreload",value:function(e){return!!e.baseUrl}},{key:"loadTexture",value:function(e){try{ZC(e,this)}catch(i){return Promise.reject(i)}var t=JC(e,0,this),n={fullWidth:t.width,fullHeight:t.width/2,croppedWidth:t.width,croppedHeight:t.width/2,croppedX:0,croppedY:0,poseHeading:0,posePitch:0,poseRoll:0};return e.baseUrl?(this.adapter||(this.adapter=new Hf(this.viewer,{blur:this.config.baseBlur})),this.adapter.loadTexture(e.baseUrl,e.basePanoData).then((function(t){return{panorama:e,texture:t.texture,panoData:n}}))):Promise.resolve({panorama:e,panoData:n,texture:null})}},{key:"createMesh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Iw(zc.SPHERE_RADIUS*e,this.SPHERE_SEGMENTS,this.SPHERE_HORIZONTAL_SEGMENTS,-Math.PI/2).scale(-1,1,1).toNonIndexed();t.clearGroups();for(var n=0,i=0;n<3*this.SPHERE_SEGMENTS;n+=3)t.addGroup(n,3,i++);for(;n<this.NB_VERTICES-3*this.SPHERE_SEGMENTS;n+=6)t.addGroup(n,6,i++);for(;n<this.NB_VERTICES;n+=3)t.addGroup(n,3,i++);return t.setAttribute(eT,t.getAttribute($C).clone()),new Wm(t,[])}},{key:"setTexture",value:function(e,t,n){var i=this,r=t.texture;if(n)return this.state.inTransition=!0,void this.__setTexture(e,r);if(this.__cleanup(),this.__setTexture(e,r),this.state.materials=e.material,this.state.geom=e.geometry,this.state.geom.setAttribute($C,this.state.geom.getAttribute(eT).clone()),this.config.debug){var a=function(e){var t=new Uw(e),n=new uy(t);return n.material.depthTest=!1,n.material.opacity=.25,n.material.transparent=!0,n}(this.state.geom);this.viewer.renderer.addObject(a),this.viewer.renderer.setSphereCorrection(this.viewer.config.sphereCorrection,a)}setTimeout((function(){return i.__refresh()}))}},{key:"__setTexture",value:function(e,t){var n;n=new ym(t?{map:t}:{opacity:0,transparent:!0});for(var i=0;i<this.NB_GROUPS;i++)e.material.push(n)}},{key:"setTextureOpacity",value:function(e,t){e.material[0].opacity=t,e.material[0].transparent=t<1}},{key:"setOverlay",value:function(){throw new Ph("EquirectangularTilesAdapter does not support overlay")}},{key:"disposeTexture",value:function(e){var t;null===(t=e.texture)||void 0===t||t.dispose()}},{key:"__refresh",value:function(){if(this.state.geom&&!this.state.inTransition){var e=this.viewer.renderer.camera;e.updateMatrixWorld(),rT.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),iT.setFromProjectionMatrix(rT);for(var t=this.viewer.config.panorama,n=JC(t,this.viewer.getZoomLevel(),this),i=this.state.geom.getAttribute("position"),r={},a=0;a<this.NB_VERTICES;a+=1)if(aT.fromBufferAttribute(i,a),aT.applyEuler(this.viewer.renderer.sphereCorrection),iT.containsPoint(aT)){var o=void 0;o=a<3*this.SPHERE_SEGMENTS?Math.floor(a/3):a<this.NB_VERTICES-3*this.SPHERE_SEGMENTS?Math.floor((a/3-this.SPHERE_SEGMENTS)/2)+this.SPHERE_SEGMENTS:Math.floor((a-this.NB_VERTICES-3*this.SPHERE_SEGMENTS)/3)+this.SPHERE_HORIZONTAL_SEGMENTS*(this.SPHERE_SEGMENTS-1);for(var s=Math.floor(o/this.SPHERE_SEGMENTS),l=o-s*this.SPHERE_SEGMENTS,u=n;u;){var c=Math.floor(s/u.facesByRow),h=Math.floor(l/u.facesByCol),f=aT.angleTo(this.viewer.state.direction);0!==c&&c!==u.rows-1||(f*=2);var d={row:c,col:h,angle:f,config:u,url:null},p=tT(d);if(r[p]){r[p].angle=Math.min(r[p].angle,f);break}if(d.url=t.tileUrl(h,c,u.level),d.url){r[p]=d;break}u=qC(t,u.level-1,this)}}this.state.tileConfig=n,this.__loadTiles(Object.values(r))}}},{key:"__loadTiles",value:function(e){var t=this;this.queue.disableAllTasks(),e.forEach((function(e){var n=tT(e);t.state.tiles[n]?t.queue.setPriority(n,e.angle):(t.state.tiles[n]=!0,t.queue.enqueue(new VC(n,e.angle,(function(n){return t.__loadTile(e,n)}))))})),this.queue.start()}},{key:"__loadTile",value:function(e,t){var n=this;return this.__loadImage(e.url).then((function(i){if(!t.isCancelled()){n.config.debug&&(i=function(e,t,n){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var r=i.getContext("2d");r.fillStyle=WC[t%WC.length],r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(e,0,0);var a=e.width/7;return r.globalCompositeOperation="source-over",r.fillStyle="white",r.font="".concat(a,"px monospace"),r.textAlign="center",n.split("\n").forEach((function(t,n){r.fillText(t,e.width/2,e.height/2+a*(.3+n))})),i}(i,e.config.level,tT(e)));var r=new ym({map:$c.createTexture(i)});n.__swapMaterial(e,r,!1),n.viewer.needsUpdate()}})).catch((function(){!t.isCancelled()&&n.config.showErrorTile&&(n.state.errorMaterial||(n.state.errorMaterial=function(){var e=document.createElement("canvas");e.width=512,e.height=512;var t=e.getContext("2d");t.fillStyle="#333",t.fillRect(0,0,e.width,e.height),t.font="".concat(e.width/5,"px serif"),t.fillStyle="#a22",t.textAlign="center",t.textBaseline="middle",t.fillText("\u26a0",e.width/2,e.height/2);var n=new Ay(e);return new ym({map:n})}()),n.__swapMaterial(e,n.state.errorMaterial,!0),n.viewer.needsUpdate())}))}},{key:"__loadImage",value:function(e){var t=this;return this.loader?new Promise((function(n,i){t.loader.load(e,n,void 0,i)})):this.viewer.textureLoader.loadImage(e)}},{key:"__swapMaterial",value:function(e,t,n){for(var i=this,r=this.state.geom.getAttribute($C),a=0;a<e.config.facesByCol;a++)for(var o=function(){var o,l=e.col*e.config.facesByCol+a,u=e.row*e.config.facesByRow+s,c=0===u,h=u===i.SPHERE_HORIZONTAL_SEGMENTS-1;if(o=c?3*l:h?i.NB_VERTICES-3*i.SPHERE_SEGMENTS+3*l:3*i.SPHERE_SEGMENTS+(u-1)*i.SPHERE_SEGMENTS*6+6*l,n&&i.state.faces[o]>-1)return"continue";if(i.state.faces[o]>e.config.level)return"continue";i.state.faces[o]=n?-1:e.config.level;var f=i.state.geom.groups.find((function(e){return e.start===o})).materialIndex;i.state.materials[f]=t;var d=1-s/e.config.facesByRow,p=1-(s+1)/e.config.facesByRow,v=a/e.config.facesByCol,m=(a+1)/e.config.facesByCol;c?(r.setXY(o,(v+m)/2,d),r.setXY(o+1,v,p),r.setXY(o+2,m,p)):h?(r.setXY(o,m,d),r.setXY(o+1,v,d),r.setXY(o+2,(v+m)/2,p)):(r.setXY(o,m,d),r.setXY(o+1,v,d),r.setXY(o+2,m,p),r.setXY(o+3,v,d),r.setXY(o+4,v,p),r.setXY(o+5,m,p))},s=0;s<e.config.facesByRow;s++)o();r.needsUpdate=!0}},{key:"__cleanup",value:function(){this.queue.clear(),this.state.tiles={},this.state.faces={},this.state.inTransition=!1,this.state.materials.forEach((function(e){var t;null===e||void 0===e||null===(t=e.map)||void 0===t||t.dispose(),null===e||void 0===e||e.dispose()})),this.state.materials.length=0}}]),n}(zf);function sT(e){return sT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sT(e)}function lT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,hT(i.key),i)}}function cT(e,t,n){return t&&uT(e.prototype,t),n&&uT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hT(e){var t=function(e,t){if("object"!==sT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==sT(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sT(t)?t:String(t)}function fT(){return fT="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gT(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},fT.apply(this,arguments)}function dT(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pT(e,t)}function pT(e,t){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pT(e,t)}function vT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=gT(e);if(t){var r=gT(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===sT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mT(e)}(this,n)}}function mT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gT(e){return gT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gT(e)}oT.id="equirectangular-tiles",oT.supportsDownload=!1,oT.supportsOverlay=!1;var yT=function(e){dT(n,e);var t=vT(n);function n(e){var i;return lT(this,n),(i=t.call(this,e)).viewer.addEventListener(rf.BeforeRenderEvent.type,mT(i)),i}return cT(n,[{key:"destroy",value:function(){this.viewer.removeEventListener(rf.BeforeRenderEvent.type,this),this.__removeVideo(),fT(gT(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){e instanceof rf.BeforeRenderEvent&&this.viewer.needsUpdate()}},{key:"supportsPreload",value:function(){return!1}},{key:"supportsTransition",value:function(){return!1}},{key:"loadTexture",value:function(e){if("object"!==sT(e)||!e.source)return Promise.reject(new Ph("Invalid panorama configuration, are you using the right adapter?"));if(!this.viewer.getPlugin("video"))return Promise.reject(new Ph("Video adapters require VideoPlugin to be loaded too."));var t=this.__createVideo(e.source);return this.__videoLoadPromise(t).then((function(){var n=new yy(t);return{panorama:e,texture:n}}))}},{key:"switchVideo",value:function(e){var t,n,i=!this.config.autoplay,r=this.config.muted,a=1;if(this.video){var o=this.video;t=o.currentTime,n=o.duration,i=o.paused,r=o.muted,a=o.volume}this.__removeVideo(),this.video=e.image,this.video.duration===n&&(this.video.currentTime=t),this.video.muted=r,this.video.volume=a,i||this.video.play()}},{key:"setTextureOpacity",value:function(e,t){e.material.opacity=t,e.material.transparent=t<1}},{key:"setOverlay",value:function(){throw new Ph("VideoAdapter does not support overlay")}},{key:"disposeTexture",value:function(e){var t;if(e.texture){var n=e.texture.image;n.pause(),this.viewer.container.removeChild(n)}null===(t=e.texture)||void 0===t||t.dispose()}},{key:"__removeVideo",value:function(){this.video&&(this.video.pause(),this.viewer.container.removeChild(this.video),delete this.video)}},{key:"__createVideo",value:function(e){var t=document.createElement("video");return t.crossOrigin=this.viewer.config.withCredentials?"use-credentials":"anonymous",t.loop=!0,t.playsInline=!0,t.style.display="none",t.muted=this.config.muted,t.src=e,t.preload="metadata",this.viewer.container.appendChild(t),t}},{key:"__videoLoadPromise",value:function(e){var t=this;return new Promise((function(n,i){e.addEventListener("loadedmetadata",(function i(){t.video&&e.duration===t.video.duration?n(t.__videoBufferPromise(e,t.video.currentTime)):n(),e.removeEventListener("loadedmetadata",i)})),e.addEventListener("error",(function t(n){i(n),e.removeEventListener("error",t)}))}))}},{key:"__videoBufferPromise",value:function(e,t){return new Promise((function(n){function i(){for(var t=e.buffered,r=0,a=t.length;r<a;r++)if(t.start(r)<=e.currentTime&&t.end(r)>=e.currentTime){e.pause(),e.removeEventListener("buffer",i),e.removeEventListener("progress",i),n();break}}e.currentTime=Math.min(t+2e3,e.duration),e.muted=!0,e.addEventListener("buffer",i),e.addEventListener("progress",i),e.play()}))}}]),n}(zf);yT.supportsDownload=!1,yT.supportsOverlay=!1;var wT=$c.getConfigParser({resolution:64,autoplay:!1,muted:!1,blur:!1},{resolution:function(e){if(!e||!Lp.isPowerOfTwo(e))throw new Ph("EquirectangularTilesAdapter resolution must be power of two");return e}}),AT=function(e){dT(n,e);var t=vT(n);function n(e,i){var r;return lT(this,n),(r=t.call(this,e)).config=wT(i),r.SPHERE_SEGMENTS=r.config.resolution,r.SPHERE_HORIZONTAL_SEGMENTS=r.SPHERE_SEGMENTS/2,r}return cT(n,[{key:"loadTexture",value:function(e){return fT(gT(n.prototype),"loadTexture",this).call(this,e).then((function(t){var n=t.texture,i=n.image,r={fullWidth:i.videoWidth,fullHeight:i.videoHeight,croppedWidth:i.videoWidth,croppedHeight:i.videoHeight,croppedX:0,croppedY:0,poseHeading:0,posePitch:0,poseRoll:0};return{panorama:e,texture:n,panoData:r}}))}},{key:"createMesh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Iw(zc.SPHERE_RADIUS*e,this.SPHERE_SEGMENTS,this.SPHERE_HORIZONTAL_SEGMENTS,-Math.PI/2).scale(-1,1,1),n=new ym;return new Wm(t,n)}},{key:"setTexture",value:function(e,t){var n;null===(n=e.material.map)||void 0===n||n.dispose(),e.material.map=t.texture,this.switchVideo(t.texture)}}]),n}(yT);function bT(e){return bT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bT(e)}function xT(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return MT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function MT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function kT(){return kT="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=OT(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},kT.apply(this,arguments)}function ST(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,CT(i.key),i)}}function ET(e,t,n){return t&&ST(e.prototype,t),n&&ST(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CT(e){var t=function(e,t){if("object"!==bT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==bT(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bT(t)?t:String(t)}function TT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PT(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_T(e,t)}function _T(e,t){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_T(e,t)}function LT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=OT(e);if(t){var r=OT(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===bT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function OT(e){return OT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OT(e)}AT.id="equirectangular-video";var DT=function(e){PT(n,e);var t=LT(n);function n(){var e;TT(this,n),(e=t.call(this,n.Geometry,new ym({opacity:0,transparent:!0}))).isLensflare=!0,e.type="Lensflare",e.frustumCulled=!1,e.renderOrder=1/0;var i=new iv,r=new iv,a=new wy(16,16,hp),o=new wy(16,16,hp),s=n.Geometry,l=new Vw({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}",fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );\n\n\t\t\t\t}",depthTest:!0,depthWrite:!1,transparent:!1}),u=new Vw({uniforms:{map:{value:a},scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\t\t\t\tattribute vec2 uv;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvUV = uv;\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}",fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform sampler2D map;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = texture2D( map, vUV );\n\n\t\t\t\t}",depthTest:!1,depthWrite:!1,transparent:!1}),c=new Wm(s,l),h=[],f=BT.Shader,d=new Vw({uniforms:{map:{value:null},occlusionMap:{value:o},color:{value:new Jp(16777215)},scale:{value:new Op},screenPosition:{value:new iv}},vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,blending:2,transparent:!0,depthWrite:!1}),p=new Wm(s,d);e.addElement=function(e){h.push(e)};var v=new Op,m=new Op,g=new ob,y=new tv;return e.onBeforeRender=function(e,t,n){e.getCurrentViewport(y);var f=y.w/y.z,w=y.z/2,A=y.w/2,b=16/y.w;if(v.set(b*f,b),g.min.set(y.x,y.y),g.max.set(y.x+(y.z-16),y.y+(y.w-16)),r.setFromMatrixPosition(this.matrixWorld),r.applyMatrix4(n.matrixWorldInverse),!(r.z>0)&&(i.copy(r).applyMatrix4(n.projectionMatrix),m.x=y.x+i.x*w+w-8,m.y=y.y+i.y*A+A-8,g.containsPoint(m))){e.copyFramebufferToTexture(m,a);var x=l.uniforms;x.scale.value=v,x.screenPosition.value=i,e.renderBufferDirect(n,null,s,l,c,null),e.copyFramebufferToTexture(m,o),(x=u.uniforms).scale.value=v,x.screenPosition.value=i,e.renderBufferDirect(n,null,s,u,c,null);for(var M=2*-i.x,k=2*-i.y,S=0,E=h.length;S<E;S++){var C=h[S],T=d.uniforms;T.color.value.copy(C.color),T.map.value=C.texture,T.screenPosition.value.x=i.x+M*C.distance,T.screenPosition.value.y=i.y+k*C.distance,b=C.size/y.w;var P=y.w/y.z;T.scale.value.set(b*P,b),d.uniformsNeedUpdate=!0,e.renderBufferDirect(n,null,s,d,p,null)}}},e.dispose=function(){l.dispose(),u.dispose(),d.dispose(),a.dispose(),o.dispose();for(var e=0,t=h.length;e<t;e++)h[e].texture.dispose()},e}return ET(n)}(Wm),BT=ET((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Jp(16777215);TT(this,e),this.texture=t,this.size=n,this.distance=i,this.color=r}));BT.Shader={uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\tprecision highp float;\n\n\t\tuniform vec3 screenPosition;\n\t\tuniform vec2 scale;\n\n\t\tuniform sampler2D occlusionMap;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvUV = uv;\n\n\t\t\tvec2 pos = position.xy;\n\n\t\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\n\n\t\t\tvVisibility =        visibility.r / 9.0;\n\t\t\tvVisibility *= 1.0 - visibility.g / 9.0;\n\t\t\tvVisibility *=       visibility.b / 9.0;\n\n\t\t\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tprecision highp float;\n\n\t\tuniform sampler2D map;\n\t\tuniform vec3 color;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texture = texture2D( map, vUV );\n\t\t\ttexture.a *= vVisibility;\n\t\t\tgl_FragColor = texture;\n\t\t\tgl_FragColor.rgb *= color;\n\n\t\t}"},DT.Geometry=function(){var e=new Om,t=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),n=new vg(t,5);return e.setIndex([0,1,2,0,2,3]),e.setAttribute("position",new gg(n,3,0,!1)),e.setAttribute("uv",new gg(n,2,3,!1)),e}();var IT="psvLensflare";$c.dasherize(IT);var RT=function(){function e(t,n){var i=this;if(TT(this,e),this.viewer=t,this.config=n,this.visible=!0,this.state={dynamicSize:!1,anchor:null,visible:!1,position:null,position2D:null,positions3D:null,size:null},this.refreshAfterLoad=function(e){e.anisotropy=4,i.viewer.needsUpdate()},!n.id)throw new Ph("missing lensflare id");this.loader=new CA,this.textureFlare={},this.textureFlare.light=this.loader.load("data:image/png;base64,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",this.refreshAfterLoad),this.textureFlare.flare1=this.loader.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGQkMyNkM0QkNCNUFFMDExQjZBNjgzNDc0RDE0NzY2QyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxOTUwNTY2MDUzMUMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxOTUwNTY1RjUzMUMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAxODAxMTc0MDcyMDY4MTE5NDU3OUVEN0U5QjAxNEY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZCQzI2QzRCQ0I1QUUwMTFCNkE2ODM0NzREMTQ3NjZDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+J87OtwAABgBJREFUeNrs2jEOgzAQRUHspUCyRMn9L0lpHANSbhCl2Jkm/S/8YotyHMd5ngsAmbTWlm3bDAGQzTz8a0QYAiCbefhXKwDkJAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAAAmACAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAA/ma9I1DrGMMWAHmUUtb3ZzIHQB7zr/97AxAAgFwingA8zz+egAASGWO8AZinvxsAQKoA+AoIIKvvDQCAVDeA5wnoui5bAKTSe/cEBJCUAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAIgAkABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABABAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABABAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAOBnAei9WwEgm3n4r/u+R4QtAFJprX0EGAAFhyfXeeWZyAAAAABJRU5ErkJggg==",this.refreshAfterLoad),this.textureFlare.flare2=this.loader.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUY2OTVBMjM1MzFFMTFFMDkwN0M4OEMxQ0JGNjFGQkIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUY2OTVBMjQ1MzFFMTFFMDkwN0M4OEMxQ0JGNjFGQkIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxRjY5NUEyMTUzMUUxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxRjY5NUEyMjUzMUUxMUUwOTA3Qzg4QzFDQkY2MUZCQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PslCyYYAAASvSURBVHja7NkNb5swEABQQPv//3jcvBiM8UempdnUqu9VIgc4TuqQO+wsCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB+1GgIGl8W6DndTEBHbtqVt36zYtt/HU5vc/uW38dpT1398UX/gH3rxveVxzuOZg+F7KB9KDurtWz4OFAC+UfbPQbfbnkr1IMeVpWxG2hP9q8zrUHQXbZxXcjkV9ys8Rtd5/P03IkbNYvIqcS8Vx9mSlOtcnIJ931NwbqPE5dR1Ng51mxyXznPHdf91oAZQ/DAEPMn+w1xcUvas8SMjXvl9O1xxDnIlqHevdrcycb1iuQv+EuqMfKTp2HNOf2yjistjnLtrbnP2UGrGVTzqm/37LOEoS02zehrnUkcB4H+sIJUkmFPPmbP2XERKasszicmSS8x6/uSpv54HNGk3WnuuE9UQ9XOQaF5CTkcB4POlv/XxN5lJPLbXBCLXgHS3mw5E/OxXh9avvFYZS4zS/bWQf/6bqf7tdUXsRzWNQywSPe+7VzMEzG7h5z8G3I7UK0LNmn7dQV0Pmg4ZzRvyxOd8XNZqQakNuuNtb8MAfAOZFoDlzz/Jzp5eJ7X2YJ1/JKPROD8bvX4M+xLyJDbgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv8EuAAQDmbqQRXFC3OAAAAABJRU5ErkJggg==",this.refreshAfterLoad),this.textureFlare.flare3=this.loader.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qzk3MDg1MDY1MzMzMTFFMDkwN0M4OEMxQ0JGNjFGQkIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qzk3MDg1MDc1MzMzMTFFMDkwN0M4OEMxQ0JGNjFGQkIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOTcwODUwNDUzMzMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOTcwODUwNTUzMzMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po4pkJAAAA9KSURBVHja7F0JdqMw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",this.refreshAfterLoad),this.textureFlare.diaphragm=this.loader.load("data:image/png;base64,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",this.refreshAfterLoad),n.color||(this.config.color={h:.08,s:.2,l:.5}),n.position||(this.config.position={yaw:0,pitch:0}),this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),n.size||(this.config.size={width:1,height:1}),this.element=this.__createMesh(),this.viewer.config.withCredentials&&this.loader.setWithCredentials(!0),this.update(n)}return ET(e,[{key:"id",get:function(){return this.config.id}},{key:"domElement",get:function(){return null}},{key:"threeElement",get:function(){return this.element}},{key:"destroy",value:function(){delete this.threeElement.children[0].userData[IT]}},{key:"addLight",value:function(e,t,n,i,r,a){var o=new UA(16777215,1.5,2e3);o.color.setHSL(e,t,n),o.position.set(i,r,a),this.config.type;var s=new DT;return s.addElement(new BT(this.textureFlare.light,700,0,o.color)),s.addElement(new BT(this.textureFlare.flare2,800,.1)),s.addElement(new BT(this.textureFlare.diaphragm,130,.45,new Jp(195090))),s.addElement(new BT(this.textureFlare.diaphragm,110,.55,new Jp(65298))),s.addElement(new BT(this.textureFlare.flare3,70,.7,new Jp(140195))),s.addElement(new BT(this.textureFlare.flare3,80,.8,new Jp(195090))),s.addElement(new BT(this.textureFlare.flare3,120,.85)),o.add(s),o}},{key:"update",value:function(e){$c.isExtendedPosition(e)&&($c.logWarn('Use the "position" property to configure the position of a lensflare'),e.position=this.viewer.dataHelper.cleanPosition(e)),"width"in e&&"height"in e&&($c.logWarn('Use the "size" property to configure the size of a lensflare'),e.size={width:e.width,height:e.height}),this.config=$c.deepmerge(this.config,e),this.config.scale&&Array.isArray(this.config.scale)&&(this.config.scale={zoom:this.config.scale}),this.visible=!1!==this.config.visible,this.state.anchor=$c.parsePoint(this.config.anchor),this.__update3d()}},{key:"__update3d",value:function(){var e,t=this.threeElement;if(!$c.isExtendedPosition(this.config.position))throw new Ph("missing lensflare position");switch(this.state.dynamicSize=!1,this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),this.state.positions3D=[this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position)],t.children[0].position.set(this.state.anchor.x-.5,this.state.anchor.y-.5,0),t.children[0].material.opacity=null!==(e=this.config.opacity)&&void 0!==e?e:1,t.position.copy(this.state.positions3D[0]),this.config.orientation){case"horizontal":t.lookAt(0,t.position.y,0),t.rotateX(this.state.position.pitch<0?-Math.PI/2:Math.PI/2);break;case"vertical-left":t.lookAt(0,0,0),t.rotateY(.4*-Math.PI);break;case"vertical-right":t.lookAt(0,0,0),t.rotateY(.4*Math.PI);break;default:t.lookAt(0,0,0)}t.scale.set(this.config.size.width/100,this.config.size.height/100,1)}},{key:"__createMesh",value:function(){var e=this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position),t=this.addLight(this.config.color.h,this.config.color.s,this.config.color.l,e.x,e.y,1),n=new ym({transparent:!0,opacity:1,depthTest:!1}),i=new sg(0,0),r=new Wm(i,n);r.userData=function(e,t,n){return(t=CT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},IT,this);var a=(new hg).add(r).add(t);return Object.defineProperty(a,"visible",{enumerable:!0,get:function(){return this.children[0].userData[IT].visible},set:function(e){this.children[0].userData[IT].visible=e}}),a}}]),e}(),zT=function(e){PT(n,e);var t=LT(n);function n(){return TT(this,n),t.apply(this,arguments)}return ET(n)}(af),NT=function(e){PT(n,e);var t=LT(n);function n(e,i){var r;return TT(this,n),(r=t.call(this,n.type)).lensflare=e,r.visible=i,r}return ET(n)}(zT);NT.type="lensflare-visibility";var FT=function(e){PT(n,e);var t=LT(n);function n(e){var i;return TT(this,n),(i=t.call(this,n.type)).lensflares=e,i}return ET(n)}(zT);FT.type="set-lensflares";var UT=$c.getConfigParser({lensflares:null});(function(e){PT(n,e);var t=LT(n);function n(e,i){var r;return TT(this,n),(r=t.call(this,e)).lensflares={},r.state={visible:!0,currentLensflare:null,hoveringLensflare:null},r.config=UT(i),r.renderLensflares(),r}return ET(n,[{key:"init",value:function(){kT(OT(n.prototype),"init",this).call(this),this.viewer.addEventListener(rf.RenderEvent.type,this),this.viewer.addEventListener(rf.ReadyEvent.type,this,{once:!0})}},{key:"destroy",value:function(){this.clearLensflares(!1),this.viewer.removeEventListener(rf.RenderEvent.type,this),this.viewer.removeEventListener(rf.ReadyEvent.type,this),kT(OT(n.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(e){switch(e.type){case rf.ReadyEvent.type:this.config.lensflares&&(this.setLensflares(this.config.lensflares),delete this.config.lensflares);break;case rf.RenderEvent.type:this.renderLensflares()}}},{key:"toggleAllLensflares",value:function(){var e,t=xT(this.getLensflares());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.toggleLensflare(n)}}catch(i){t.e(i)}finally{t.f()}}},{key:"showAllLensflares",value:function(){var e,t=xT(this.getLensflares());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.toggleLensflare(n,!0)}}catch(i){t.e(i)}finally{t.f()}}},{key:"hideAllLensflares",value:function(){var e,t=xT(this.getLensflares());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.toggleLensflare(n,!1)}}catch(i){t.e(i)}finally{t.f()}}},{key:"getNbLensflares",value:function(){return Object.keys(this.lensflares).length}},{key:"getLensflares",value:function(){return Object.values(this.lensflares)}},{key:"addLensflare",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.lensflares[e.id])throw new Ph('lensflare "'.concat(e.id,'" already exists'));var n=new RT(this.viewer,e);this.viewer.renderer.addObject(n.threeElement),this.lensflares[n.id]=n,t&&this.__afterChangerLensflares()}},{key:"getLensflare",value:function(e){var t="object"===bT(e)?e.id:e;if(!this.lensflares[t])throw new Ph('cannot find lensflare "'.concat(t,'"'));return this.lensflares[t]}},{key:"getCurrentLensflare",value:function(){return this.state.currentLensflare}},{key:"updateLensflare",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getLensflare(e.id).update(e),t&&this.__afterChangerLensflares()}},{key:"removeLensflare",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getLensflare(e);this.viewer.renderer.removeObject(n.threeElement),this.state.currentLensflare===n&&(this.state.currentLensflare=null),n.destroy(),delete this.lensflares[n.id],t&&this.__afterChangerLensflares()}},{key:"removeLensflares",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){return t.removeLensflare(e,!1)})),n&&this.__afterChangerLensflares()}},{key:"setLensflares",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clearLensflares(!1),null===e||void 0===e||e.forEach((function(e){t.addLensflare(e,!1)})),n&&this.__afterChangerLensflares()}},{key:"clearLensflares",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object.keys(this.lensflares).forEach((function(t){e.removeLensflare(t,!1)})),t&&this.__afterChangerLensflares()}},{key:"hideLensflare",value:function(e){this.toggleLensflare(e,!1)}},{key:"showLensflare",value:function(e){this.toggleLensflare(e,!0)}},{key:"toggleLensflare",value:function(e,t){var n=this.getLensflare(e);n.visible=void 0===t?!n.visible:t,this.viewer.needsUpdate()}},{key:"renderLensflares",value:function(){var e=this;Object.values(this.lensflares).forEach((function(t){var n,i=e.state.visible&&t.visible;n=t.state.visible!==i,t.state.visible=i,t.state.position2D=null,n&&e.dispatchEvent(new NT(t,i))}))}},{key:"__afterChangerLensflares",value:function(){this.viewer.needsUpdate(),this.dispatchEvent(new FT(this.getLensflares()))}}]),n}(sd)).id="lensflare";Rd('/*!\n * PhotoSphereViewer.MarkersPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-markers {\n  user-select: none;\n  position: absolute;\n  z-index: 10;\n  width: 100%;\n  height: 100%;\n}\n.psv-markers-svg-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 20;\n}\n.psv-marker {\n  display: none;\n}\n.psv-marker--normal {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 30;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n.psv-marker--transparent {\n  display: block;\n  opacity: 0;\n}\n.psv-marker--visible {\n  display: block;\n}\n.psv-marker--has-tooltip,\n.psv-marker--has-content {\n  cursor: pointer;\n}');Rd('/*!\n * PhotoSphereViewer.CompassPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-compass {\n  position: absolute;\n  margin: 10px;\n  z-index: 40;\n}\n.psv--has-navbar .psv-compass {\n  margin-bottom: calc(40px + 10px);\n}\n.psv-compass canvas,\n.psv-compass svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.psv-compass--top-left,\n.psv-compass--top-center,\n.psv-compass--top-right {\n  top: 0;\n}\n.psv-compass--center-left,\n.psv-compass--center-center,\n.psv-compass--center-right {\n  top: 50%;\n}\n.psv-compass--bottom-left,\n.psv-compass--bottom-center,\n.psv-compass--bottom-right {\n  bottom: 0;\n}\n.psv-compass--top-left,\n.psv-compass--center-left,\n.psv-compass--bottom-left {\n  left: 0;\n}\n.psv-compass--top-center,\n.psv-compass--center-center,\n.psv-compass--bottom-center {\n  left: 50%;\n}\n.psv-compass--top-right,\n.psv-compass--center-right,\n.psv-compass--bottom-right {\n  right: 0;\n}');Rd('/*!\n * PhotoSphereViewer.GalleryPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-gallery {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  background: rgba(61, 61, 61, 0.5);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.7);\n  overflow-x: auto;\n  overflow-y: hidden;\n  transition: transform ease-in-out 0.1s;\n  transform: translateY(100%);\n  z-index: 90;\n}\n.psv--has-navbar .psv-gallery {\n  bottom: 40px;\n  transform: translateY(calc(100% + 40px));\n}\n.psv-gallery--open {\n  transform: translateY(0) !important;\n}\n.psv-gallery-container {\n  display: flex;\n  padding: 15px;\n}\n.psv-gallery-item {\n  flex: none;\n  position: relative;\n  margin-right: 15px;\n  border-radius: 5px;\n  overflow: hidden;\n  cursor: pointer;\n}\n.psv-gallery-item-wrapper {\n  width: 100%;\n  height: 0;\n}\n.psv-gallery-item-title {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  box-sizing: border-box;\n  width: 100%;\n  height: 2.2em;\n  padding: 0.5em;\n  background: rgba(0, 0, 0, 0.6);\n  font: 16px sans-serif;\n  line-height: 1.2em;\n  color: rgba(255, 255, 255, 0.7);\n  z-index: 2;\n  transition: height ease-in-out 0.2s;\n}\n.psv-gallery-item-title span {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  user-select: none;\n}\n.psv-gallery-item-thumb {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-position: center center;\n  background-size: cover;\n  transform: scale3d(1, 1, 1);\n  transition: transform ease-in-out 0.2s;\n  z-index: 1;\n}\n.psv-gallery-item:hover .psv-gallery-item-title {\n  height: 100%;\n}\n.psv-gallery-item:hover .psv-gallery-item-title span {\n  white-space: normal;\n}\n.psv-gallery-item:hover .psv-gallery-item-thumb {\n  transform: scale3d(1.2, 1.2, 1);\n}\n.psv-gallery-item--active::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  border: 3px solid white;\n  z-index: 3;\n}\n@media screen and (max-width: 500px) {\n  .psv-gallery {\n    top: 0;\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n  .psv-gallery-container {\n    flex-wrap: wrap;\n    margin-right: -15px;\n    margin-top: 32px;\n    padding-top: 0;\n  }\n  .psv-gallery-item {\n    width: calc(50% - 15px) !important;\n    margin-bottom: 15px;\n  }\n  .psv-gallery .psv-panel-close-button {\n    display: block;\n    z-index: 10;\n  }\n}');Rd('/*!\n * PhotoSphereViewer.SettingsPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-settings {\n  position: absolute;\n  bottom: 40px;\n  background: rgba(10, 10, 10, 0.7);\n  box-shadow: 0 0 5px rgba(10, 10, 10, 0.7);\n  color: rgb(220, 220, 220);\n  z-index: 90;\n  opacity: 0;\n  transition: opacity 0.1s linear;\n  margin: 10px;\n}\n.psv-settings--open {\n  opacity: 1;\n}\n.psv-settings-list {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n.psv-settings-item {\n  height: 1.5em;\n  padding: 0.5em 1em;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  cursor: pointer;\n}\n.psv-settings-item:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-settings-item:focus-visible {\n  outline: 2px solid #007cff;\n  outline-offset: -2px;\n}\n.psv-settings-item *:not(:last-child) {\n  margin-right: 1em;\n}\n.psv-settings-item-label {\n  flex: 1;\n  font-weight: bold;\n}\n.psv-settings-item-value {\n  flex: none;\n}\n.psv-settings-item-icon {\n  flex: none;\n  height: 1em;\n  width: 1em;\n}\n.psv-settings-item-icon svg {\n  width: 1em;\n  height: 1em;\n}\n.psv-settings-item--header {\n  border-bottom: 1px solid currentcolor;\n}\n.psv-settings-item--header svg {\n  transform: scaleX(-1);\n}\n.psv-settings-badge {\n  position: absolute;\n  top: 10%;\n  right: 10%;\n  border-radius: 0.2em;\n  padding: 0.2em;\n  background: #111;\n  color: white;\n  font: 10px/0.9 monospace;\n}');Rd('/*!\n * PhotoSphereViewer.VideoPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-video-progressbar {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 20px;\n  cursor: pointer;\n  z-index: 89;\n}\n.psv--has-navbar .psv-video-progressbar {\n  bottom: 40px;\n}\n.psv-video-progressbar > * {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 3px;\n  transition: height 0.2s linear;\n}\n.psv-video-progressbar:hover > * {\n  height: 5px;\n}\n.psv-video-progressbar__progress {\n  background-color: rgba(255, 255, 255, 0.7);\n}\n.psv-video-progressbar__buffer {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n.psv-video-progressbar__handle {\n  display: none;\n  height: 9px !important;\n  width: 9px;\n  border-radius: 50%;\n  margin-bottom: -2px;\n  margin-left: -4.5px;\n  background: white;\n}\n.psv-video-time {\n  flex: 0 0 auto;\n}\n.psv-video-time .psv-caption-content {\n  min-width: 6em;\n  text-align: center;\n}\n.psv-video-volume__container {\n  position: absolute;\n  left: 0;\n  bottom: 40px;\n  padding: 20px 0;\n  width: 40px;\n  height: 0;\n  opacity: 0;\n  background: rgba(61, 61, 61, 0.5);\n  transition: opacity 0.2s linear, height 0.3s step-end;\n}\n.psv--is-touch .psv-video-volume__container {\n  display: none;\n}\n.psv-video-volume__range {\n  position: relative;\n  height: 80px;\n}\n.psv-video-volume__progress,\n.psv-video-volume__track {\n  position: absolute;\n  bottom: 0;\n  left: 17.5px;\n  width: 5px;\n  background: rgba(255, 255, 255, 0.7);\n}\n.psv-video-volume__track {\n  height: 100%;\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-video-volume__handle {\n  position: absolute;\n  left: 17.5px;\n  height: 9px;\n  width: 9px;\n  border-radius: 50%;\n  margin-left: -2px;\n  margin-bottom: -4.5px;\n  background: white;\n}\n.psv-video-volume-button {\n  position: relative;\n}\n.psv-video-volume-button:hover .psv-video-volume__container {\n  height: 80px;\n  opacity: 1;\n  transition-timing-function: linear, step-start;\n  transition-delay: 0.2s;\n}\n.psv-video-volume-button--0 .psv-button-svg #lvl1,\n.psv-video-volume-button--0 .psv-button-svg #lvl2,\n.psv-video-volume-button--0 .psv-button-svg #lvl3 {\n  fill: none;\n}\n.psv-video-volume-button--1 .psv-button-svg #lvl0,\n.psv-video-volume-button--1 .psv-button-svg #lvl2,\n.psv-video-volume-button--1 .psv-button-svg #lvl3 {\n  fill: none;\n}\n.psv-video-volume-button--2 .psv-button-svg #lvl0,\n.psv-video-volume-button--2 .psv-button-svg #lvl3 {\n  fill: none;\n}\n.psv-video-volume-button--3 .psv-button-svg #lvl0 {\n  fill: none;\n}\n.psv-video-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 110;\n  pointer-events: none;\n}\n.psv-video-bigbutton {\n  display: block;\n  border: none;\n  background: none;\n  padding: 0;\n  color: rgba(255, 255, 255, 0.7);\n  pointer-events: auto;\n  cursor: pointer;\n  opacity: 0;\n  width: 0;\n  transition: opacity 0.2s linear, width 0.3s step-end;\n}\n.psv-video-bigbutton--pause {\n  width: 20vw;\n  opacity: 1;\n  transition-timing-function: linear, step-start;\n}\n@media (orientation: landscape) {\n  .psv-video-bigbutton--pause {\n    width: 10vw;\n  }\n}\n.psv-video-bigbutton svg {\n  width: 100%;\n}');Rd('/*!\n * PhotoSphereViewer.VirtualTourPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-virtual-tour__marker svg {\n  filter: drop-shadow(0 10px 5px rgba(0, 0, 0, 0.8));\n  transform: perspective(100px) rotate3d(1, 0, 0, 0deg);\n  transform-origin: bottom center;\n  transition: 0.2s all ease-in-out;\n}\n.psv-virtual-tour__marker:hover svg {\n  filter: drop-shadow(0 5px 3px rgb(0, 0, 0));\n  transform: perspective(100px) rotate3d(1, 0, 0, 10deg);\n}\n.psv-virtual-tour__menu .psv-panel-menu-item-icon {\n  width: 60px;\n  height: 60px;\n}');Rd('/*!\n * PhotoSphereViewer.MapPlugin 5.1.4\n * @copyright 2023 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/style.scss */\n.psv-map {\n  position: absolute;\n  margin: 10px;\n  z-index: 40;\n  transition: all ease-in-out 0.3s;\n}\n.psv--has-navbar .psv-map {\n  margin-bottom: calc(40px + 10px);\n}\n.psv-map__container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: -1;\n  background: rgba(61, 61, 61, 0.7);\n  overflow: hidden;\n  border-radius: 50%;\n  cursor: move;\n  transition: all ease-in-out 0.3s;\n}\n.psv-map__container svg,\n.psv-map__container img,\n.psv-map__container canvas {\n  width: 100%;\n  height: 100%;\n}\n.psv-map__overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.psv-map__toolbar {\n  position: absolute;\n  bottom: 1em;\n  left: calc(50% - 3.25em);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font: 12px sans-serif;\n  padding: 0.25em;\n  border-radius: 1.5em;\n  background: #222;\n  color: white;\n  user-select: none;\n  transition: opacity ease-in-out 0.3s;\n}\n.psv-map__toolbar svg {\n  height: 1em;\n  cursor: pointer;\n}\n.psv-map__toolbar-text {\n  width: 4em;\n  text-align: center;\n}\n.psv-map__button {\n  position: absolute;\n  width: 34px;\n  aspect-ratio: 1;\n  line-height: 0;\n  background: rgba(61, 61, 61, 0.7);\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform-origin: center;\n  color: rgba(255, 255, 255, 0.7);\n  cursor: pointer;\n  transition: all ease-in-out 0.3s;\n}\n.psv-map__button svg {\n  width: 60%;\n}\n.psv-map__button--top-left {\n  left: 14.645%;\n  top: 14.645%;\n  transform: translate(-32.021px, -32.021px);\n}\n.psv-map__button--top-right {\n  right: 14.645%;\n  top: 14.645%;\n  transform: translate(32.021px, -32.021px);\n}\n.psv-map__button--bottom-left {\n  left: 14.645%;\n  bottom: 14.645%;\n  transform: translate(-32.021px, 32.021px);\n}\n.psv-map__button--bottom-right {\n  right: 14.645%;\n  bottom: 14.645%;\n  transform: translate(32.021px, 32.021px);\n}\n.psv-map--maximized {\n  margin: 0;\n  width: 100% !important;\n  height: 100% !important;\n}\n.psv--has-navbar .psv-map--maximized {\n  height: calc(100% - 40px) !important;\n  margin-bottom: 40px;\n}\n.psv-map--maximized .psv-map__container {\n  border-radius: 0;\n}\n.psv-map--maximized .psv-map__button {\n  border: 2px solid currentcolor;\n}\n.psv-map--maximized .psv-map__button--top-left {\n  left: 44px;\n  top: 44px;\n}\n.psv-map--maximized .psv-map__button--top-right {\n  right: 44px;\n  top: 44px;\n}\n.psv-map--maximized .psv-map__button--bottom-left {\n  left: 44px;\n  bottom: 44px;\n}\n.psv-map--maximized .psv-map__button--bottom-right {\n  right: 44px;\n  bottom: 44px;\n}\n.psv-map--collapsed {\n  width: 34px !important;\n  height: 34px !important;\n}\n.psv-map--collapsed > * {\n  opacity: 0;\n}\n.psv-map--collapsed .psv-map__button-close {\n  opacity: 1;\n  transform: translate(0, 0);\n  z-index: 1;\n}\n.psv-map--top-left {\n  top: 0;\n  left: 0;\n}\n.psv-map--top-right {\n  top: 0;\n  right: 0;\n}\n.psv-map--bottom-left {\n  bottom: 0;\n  left: 0;\n}\n.psv-map--bottom-right {\n  bottom: 0;\n  right: 0;\n}');var jT={};function HT(e){return HT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HT(e)}!function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,i,a,o){if("function"!==typeof i)throw new TypeError("The listener must be a function");var s=new r(i,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,a=i.length,o=new Array(a);r<a;r++)o[r]=i[r].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,r,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,r),!0;case 5:return c.fn.call(c.context,t,i,r,a),!0;case 6:return c.fn.call(c.context,t,i,r,a,o),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,i);break;case 4:c[u].fn.call(c[u].context,t,i,r);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,i,r){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||o(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||r&&!s[l].once||i&&s[l].context!==i)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}({get exports(){return jT},set exports(e){jT=e}});var GT=new jT,VT={on:function(e,t){return GT.on(e,t)},once:function(e,t){return GT.once(e,t)},off:function(e,t){return GT.off(e,t)},emit:function(e,t){return GT.emit(e,t)}};Object.freeze(VT);var QT=["src","height","width","containerClass","littlePlanet","onPositionChange","onZoomChange","onClick","onDblclick","onReady"],WT=["autorotate","zoom","fullscreen"];function XT(e){return null==e?WT:Array.isArray(e)?e:"string"===typeof e?""!==e&&[e]:!!e&&WT}var YT=(0,e.forwardRef)((function(t,n){var i=(0,e.createRef)(),r=(0,e.useRef)(null),a=130,o=(0,e.useState)(-90)[0],s=(0,e.useState)(2)[0],l=(0,e.useState)(0)[0],u=(0,e.useState)(WT),c=u[0],h=u[1];return(0,e.useEffect)((function(){function e(){var e,t,n=window.innerWidth/window.innerHeight;a=Math.floor((n-(e=.5))*(115-(t=140))/(1.8-e)+t)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),(0,e.useEffect)((function(){var e,n,u,c,f=!0;if(i.current&&!r.current){var d=new Id(Ct(Ct({},function(e){var t=Ct({},e);for(var n in t)QT.includes(n)&&delete t[n];return t}(t)),{container:i.current,panorama:t.src,size:{height:t.height,width:t.width||"100px"},fisheye:t.littlePlanet?s:t.fisheye||!1,minFov:t.minFov||30,maxFov:t.littlePlanet?a:t.maxFov||90,defaultZoomLvl:t.littlePlanet?l:t.defaultZoomLvl||50,defaultYaw:t.defaultYaw||0,defaultPitch:t.littlePlanet?o:t.defaultPitch||0,sphereCorrection:t.sphereCorrection||{pan:0,tilt:0,roll:0},moveSpeed:t.moveSpeed||1,zoomSpeed:t.zoomSpeed||1,moveInertia:null===(e=t.moveInertia)||void 0===e||e,mousewheel:!t.littlePlanet&&(null===(n=t.mousewheel)||void 0===n||n),mousemove:null===(u=t.mousemove)||void 0===u||u,mousewheelCtrlKey:t.mousewheelCtrlKey||!1,touchmoveTwoFingers:t.touchmoveTwoFingers||!1,useXmpData:null===(c=t.useXmpData)||void 0===c||c,panoData:t.panoData||{},requestHeaders:t.requestHeaders||{},canvasBackground:t.canvasBackground||"#000",withCredentials:t.withCredentials||!1,navbar:XT(t.navbar),lang:t.lang||{},keyboard:t.keyboard||{},plugins:Tt([[Sb,{autorotatePitch:"5deg",autostartDelay:void 0,autostartOnIdle:!1}]],t.plugins?t.plugins:[],!0)}));if(d.addEventListener("ready",(function(){t.onReady&&t.onReady(d)}),{once:!0}),d.addEventListener("click",(function(e){t.onClick&&t.onClick(e,d),t.littlePlanet&&f&&(f=!1,d.animate({yaw:0,pitch:o,zoom:75,speed:"3rpm"}).then((function(){d.animate({yaw:0,pitch:0,zoom:90,speed:"10rpm"}).then((function(){var e,n=d.getPlugin("autorotate");n&&n.start(),d.setOption("maxFov",t.maxFov||70),d.setOption("mousewheel",null===(e=t.mousewheel)||void 0===e||e)}))})))})),d.addEventListener("dblclick",(function(e){t.onDblclick&&t.onDblclick(e,d)})),d.addEventListener("zoom-updated",(function(e){t.onZoomChange&&t.onZoomChange(e,d)})),d.addEventListener("position-updated",(function(e){t.onPositionChange&&t.onPositionChange(e.position.pitch,e.position.yaw,d)})),t.littlePlanet){var p={id:"resetLittlePlanetButton",content:"\ud83e\ude90",title:"Reset Little Planet",className:"resetLittlePlanetButton",onClick:function(){f=!0;var e=d.getPlugin("autorotate");e&&e.stop(),d.setOption("maxFov",a),d.setOption("mousewheel",!1),d.animate({yaw:0,pitch:o,zoom:l,speed:"10rpm"})}},v=XT(t.navbar);!1===v||v.find((function(e){return"object"===HT(e)&&"resetLittlePlanetButton"===(null===e||void 0===e?void 0:e.id)}))||(v.push(p),d.setOption("navbar",v),h(v))}VT.on("animate",(function(e){d.animate(e)})).on("stop-animation",(function(){d.stopAnimation()})).on("destroy",(function(){d.destroy()})).on("rotate",(function(e){d.rotate(e)})).on("setOption",(function(e){var t=e.option,n=e.value;d.setOption(t,n)})).on("zoom",(function(e){d.zoom(e)})).on("zoomIn",(function(){d.zoomIn()})).on("zoomOut",(function(){d.zoomOut()})).on("startAutoRotate",(function(){var e=d.getPlugin("autorotate");e&&e.start()})).on("stopAutoRotate",(function(){var e=d.getPlugin("autorotate");e&&e.stop()})).on("toggleAutorotate",(function(){var e=d.getPlugin("autorotate");e&&e.toggle()})),r.current=d}}),[i,t]),(0,e.useImperativeHandle)(n,(function(){return{animate:function(e){VT.emit("animate",e)},destroy:function(){VT.emit("destroy",{})},rotate:function(e){VT.emit("rotate",e)},setOption:function(e,t){VT.emit("setOption",{option:e,value:t})},setOptions:function(e){var t;return null===(t=r.current)||void 0===t?void 0:t.setOptions(e)},getCurrentNavbar:function(){return c},zoom:function(e){VT.emit("zoom",e)},zoomIn:function(){VT.emit("zoomIn",{})},zoomOut:function(){VT.emit("zoomOut",{})},resize:function(e){var t;return null===(t=r.current)||void 0===t?void 0:t.resize(e)},enterFullscreen:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.enterFullscreen()},exitFullscreen:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.exitFullscreen()},toggleFullscreen:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.toggleFullscreen()},isFullscreenEnabled:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.isFullscreenEnabled()},startAutoRotate:function(){VT.emit("startAutoRotate",{})},stopAutoRotate:function(){VT.emit("stopAutoRotate",{})},getPlugin:function(e){var t;return null===(t=r.current)||void 0===t?void 0:t.getPlugin(e)},getPosition:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.getPosition()},getZoomLevel:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.getZoomLevel()},getSize:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.getSize()},needsUpdate:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.needsUpdate()},autoSize:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.autoSize()},setPanorama:function(e,t){var n;return null===(n=r.current)||void 0===n?void 0:n.setPanorama(e,t)},setOverlay:function(e,t){var n;return null===(n=r.current)||void 0===n?void 0:n.setOverlay(e,t)},toggleAutorotate:function(){VT.emit("toggleAutorotate",{})},showError:function(e){var t;return null===(t=r.current)||void 0===t?void 0:t.showError(e)},hideError:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.hideError()},startKeyboardControl:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.startKeyboardControl()},stopKeyboardControl:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.stopKeyboardControl()}}}),[r.current,i,t,n]),e.createElement("div",{className:t.containerClass||"view-container",ref:i})}));const JT=()=>{const[t,n]=(0,e.useState)(1),[c,h]=(0,e.useState)(i),[f,d]=(0,e.useState)(!1),[p,v]=(0,e.useState)(null),[m,g]=(0,e.useState)(!1),[y,w]=(0,e.useState)(!1),[A,b]=(0,e.useState)(0),[x,M]=(0,e.useState)(0);const k=e=>{d(!1),setTimeout((()=>{v(null)}),"3d"===(null===p||void 0===p?void 0:p.type)?1e3:0)},S=e=>{if(y){const t=e;b(A+.001*(e-x)),M(t)}};return(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("div",{className:"presentation-overlay",style:{visibility:f?"visible":"hidden"},onClick:k,children:(0,gt.jsxs)("div",{className:"presentation-container",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,gt.jsx)("div",{id:"presenter"}),(0,gt.jsx)("div",{className:"close close-pano",onClick:k,children:(0,gt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAi0lEQVR4nO2Wuw3AIBBDvQDM547ts0NSRUikixAfgxss0b6H4DgOODEmOJgRwAUgCaWpMDO7GgK4RfJuFgXyYQYn5NMb5wBAdlXsACnroxkol7aAl0lrguXSP9E26ZcsesraJrWJ6ThqOoqLjudERwOho2XS8UnQ8S3SMQjQMfpE57AXhNKVzBM05QWoOUelu28NyQAAAABJRU5ErkJggg=="})}),"video"===(null===p||void 0===p?void 0:p.type)&&(0,gt.jsx)("video",{loop:!0,autoPlay:!0,muted:!0,width:"auto",children:(0,gt.jsx)("source",{src:null===p||void 0===p?void 0:p.link,type:"video/webm"})}),"video-desc"===(null===p||void 0===p?void 0:p.type)&&(0,gt.jsxs)("div",{className:"video-desc-container",children:[(0,gt.jsx)("video",{loop:!0,autoPlay:!0,muted:!0,width:"600",children:(0,gt.jsx)("source",{src:null===p||void 0===p?void 0:p.link,type:"video/webm"})}),(0,gt.jsx)("div",{className:"video-description",children:(0,gt.jsx)("textarea",{readOnly:!0,children:null===p||void 0===p?void 0:p.description})})]}),"3d"===(null===p||void 0===p?void 0:p.type)&&(0,gt.jsx)("div",{onMouseDown:e=>{w(!0),M(e.clientX)},onMouseUp:()=>w(!1),onMouseMove:e=>S(e.clientX),onTouchStart:e=>{w(!0),M(e.touches[0].clientX)},onTouchEnd:()=>w(!1),onTouchMove:e=>{S(e.touches[0].clientX)},children:(0,gt.jsx)(YT,{height:"100vh",width:"100vw",src:null===p||void 0===p?void 0:p.link})})]})}),(0,gt.jsxs)("div",{className:"map-container",style:{cursor:m?"grab":"default"},children:[!m&&!f&&(0,gt.jsx)("p",{className:"bubble",children:"Drag me where you want to go."}),(0,gt.jsxs)(ct,{onDragEnd:e=>{let{over:t}=e;const n=document.getElementById(null===t||void 0===t?void 0:t.id);if(n){var i;const e=null===(i=JSON.parse(n.getAttribute("data")))||void 0===i?void 0:i.presentation;v(e),d(!0)}g(!1)},onDragStart:function(e){let{over:t}=e;g(!0)},children:[kt.filter((e=>e.layer===t||0===e.layer)).map(((e,n)=>(0,gt.jsxs)("div",{className:"map-and-pins",children:[(0,gt.jsx)("img",{src:c}),(0,gt.jsx)(wt,{id:"droppable-".concat(n),data:e,className:"map-pin map-pin-".concat(t),style:{top:e.top,left:e.left}},"droppable-".concat(n))]}))),(0,gt.jsx)("div",{className:"drag-bug-icon-container",children:(0,gt.jsx)(yt,{id:"draggable",children:(0,gt.jsx)("img",{src:m?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsMAAALDAE/QCLIAAAFK2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDEgNzkuYzAyMDRiMmRlZiwgMjAyMy8wMi8wMi0xMjoxNDoyNCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjYgKDIwMjMwNTI0Lm0uMjE4NSAwZTcxMzlkKSAgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIzLTA5LTA3VDE0OjM5OjM3LTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMy0wOS0wN1QxNDo1Nzo1MS0wMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0wOS0wN1QxNDo1Nzo1MS0wMzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MGUxODEyZWEtN2U3Mi00N2JmLWExZGIt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":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsMAAALDAE/QCLIAAAGi2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDEgNzkuYzAyMDRiMmRlZiwgMjAyMy8wMi8wMi0xMjoxNDoyNCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjYgKDIwMjMwNTI0Lm0uMjE4NSAwZTcxMzlkKSAgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIzLTA5LTA3VDE0OjM5OjM3LTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMy0wOS0wN1QxNjowMDozOS0wMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0wOS0wN1QxNjowMDozOS0wMzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZDE2OGMzMjQtNzk4ZS00N2Y2LTk3OWMtNDFiMGQyOWQ0ZjFjIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ODE4YWRlMDQtMmJkNS0xMDQwLTk1ZDgtYjA0NTY1OTUwMmQ3IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDM1NDNhNjctMTkyNS00N2QzLTg2N2QtY2Q4MjU5ODAxZTVhIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MzU0M2E2Ny0xOTI1LTQ3ZDMtODY3ZC1jZDgyNTk4MDFlNWEiIHN0RXZ0OndoZW49IjIwMjMtMDktMDdUMTQ6Mzk6MzctMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNC42ICgyMDIzMDUyNC5tLjIxODUgMGU3MTM5ZCkgIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmQxNjhjMzI0LTc5OGUtNDdmNi05NzljLTQxYjBkMjlkNGYxYyIgc3RFdnQ6d2hlbj0iMjAyMy0wOS0wN1QxNjowMDozOS0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjYgKDIwMjMwNTI0Lm0uMjE4NSAwZTcxMzlkKSAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+BAJ82wAAEUBJREFUaN7dWgl0FGW2vtX7nnQn3Z29s3XCkoQQhgQBDUtYROUggwjCqCPi7qiPQdFR31OfnnHA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",className:"drag-bug-icon ".concat(m&&"swing")})})})]})]}),(0,gt.jsxs)("div",{className:"layers-selector-container",children:[(0,gt.jsx)("img",{src:o,onClick:()=>{k(),n(1),h(i)},className:"layers-selector-item ".concat(1===t&&" selected")}),(0,gt.jsx)("img",{src:s,onClick:()=>{k(),n(2),h(r)},className:"layers-selector-item ".concat(2===t&&" selected")}),(0,gt.jsx)("img",{src:l,onClick:()=>{k(),n(3),h(a)},className:"layers-selector-item ".concat(3===t&&" selected")})]}),"3d"===(null===p||void 0===p?void 0:p.type)&&f&&(0,gt.jsx)("div",{className:"minimap-container",style:{background:"url('"+(1===t?o:2===t?s:3===t?l:void 0)+"')"},children:(0,gt.jsx)("img",{src:u,className:"minimap-bug",style:{transform:"rotate(".concat(A,"rad)")}})})]})};window.onerror=function(){window.location.reload()};t.createRoot(document.getElementById("root")).render((0,gt.jsx)(e.StrictMode,{children:(0,gt.jsx)(JT,{})}))})()})();